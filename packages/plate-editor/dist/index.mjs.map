{"version":3,"sources":["../src/components/editor/ai-sidebar-context.tsx","../src/components/ui/ghost-text.tsx","../src/components/editor/plugins/markdown-plugin.tsx","../src/components/editor/plugins/copilot-plugins.tsx","../src/lib/utils.ts","../src/components/ui/dropdown-menu.tsx","../src/components/ui/separator.tsx","../src/components/ui/tooltip.tsx","../src/components/ui/toolbar.tsx","../src/components/ui/fixed-toolbar.tsx","../src/components/ui/button.tsx","../src/components/ui/ai-toolbar-button.tsx","../src/components/editor/transforms.ts","../src/components/ui/align-dropdown-menu.tsx","../src/components/ui/color-constants.ts","../src/components/ui/color-dropdown-menu-items.tsx","../src/components/ui/color-input.tsx","../src/components/ui/colors-custom.tsx","../src/components/ui/color-picker.tsx","../src/components/ui/color-dropdown-menu.tsx","../src/components/editor/plugins/comments-plugin.tsx","../src/components/ui/comment-toolbar-button.tsx","../src/components/ui/emoji-icons.tsx","../src/components/ui/emoji-picker-content.tsx","../src/components/ui/emoji-picker-navigation.tsx","../src/components/ui/emoji-picker-preview.tsx","../src/components/ui/emoji-picker-search-and-clear.tsx","../src/components/ui/emoji-picker-search-bar.tsx","../src/components/ui/emoji-picker.tsx","../src/components/ui/emoji-toolbar-dropdown.tsx","../src/components/ui/emoji-dropdown-menu.tsx","../src/components/ui/blockquote-element-static.tsx","../src/components/ui/code-block-element-static.tsx","../src/components/ui/code-leaf-static.tsx","../src/components/ui/code-line-element-static.tsx","../src/components/ui/code-syntax-leaf-static.tsx","../src/components/ui/column-element-static.tsx","../src/components/ui/column-group-element-static.tsx","../src/components/ui/comment-leaf-static.tsx","../src/components/ui/date-element-static.tsx","../src/components/ui/heading-element-static.tsx","../src/components/ui/highlight-leaf-static.tsx","../src/components/ui/hr-element-static.tsx","../src/components/ui/image-element-static.tsx","../src/components/ui/indent-fire-marker.tsx","../src/components/ui/indent-todo-marker-static.tsx","../src/components/ui/kbd-leaf-static.tsx","../src/components/ui/link-element-static.tsx","../src/components/ui/media-audio-element-static.tsx","../src/components/ui/media-file-element-static.tsx","../src/components/ui/media-video-element-static.tsx","../src/components/ui/mention-element-static.tsx","../src/components/ui/paragraph-element-static.tsx","../src/components/ui/table-cell-element-static.tsx","../src/components/ui/table-element-static.tsx","../src/components/ui/table-row-element-static.tsx","../src/components/ui/toc-element-static.tsx","../src/components/ui/toggle-element-static.tsx","../src/components/ui/editor-static.tsx","../src/components/ui/equation-element-static.tsx","../src/components/ui/inline-equation-element-static.tsx","../src/components/ui/export-toolbar-button.tsx","../src/components/ui/history-toolbar-button.tsx","../src/components/ui/import-toolbar-button.tsx","../src/components/ui/indent-list-toolbar-button.tsx","../src/components/ui/indent-todo-toolbar-button.tsx","../src/components/ui/link-toolbar-button.tsx","../src/components/ui/mark-toolbar-button.tsx","../src/components/ui/alert-dialog.tsx","../src/components/ui/input.tsx","../src/components/ui/media-toolbar-button.tsx","../src/components/ui/mode-dropdown-menu.tsx","../src/components/ui/more-dropdown-menu.tsx","../src/components/ui/table-dropdown-menu.tsx","../src/components/ui/toggle-toolbar-button.tsx","../src/components/ui/turn-into-dropdown-menu.tsx","../src/components/ui/fixed-toolbar-buttons.tsx","../src/components/editor/plugins/fixed-toolbar-plugin.tsx","../src/components/ui/floating-toolbar.tsx","../src/components/ui/inline-equation-toolbar-button.tsx","../src/components/ui/suggestion-toolbar-button.tsx","../src/components/ui/floating-toolbar-buttons.tsx","../src/components/editor/plugins/floating-toolbar-plugin.tsx","../src/components/ui/popover.tsx","../src/components/ui/avatar.tsx","../src/components/ui/ai-leaf.tsx","../src/components/ui/calendar.tsx","../src/components/ui/date-element.tsx","../src/components/ui/editor.tsx","../src/hooks/use-debounce.ts","../src/components/ui/inline-combobox.tsx","../src/components/ui/emoji-input-element.tsx","../src/components/ui/equation-popover.tsx","../src/components/ui/inline-equation-element.tsx","../src/components/ui/link-element.tsx","../src/hooks/use-mounted.ts","../src/components/ui/mention-element.tsx","../src/components/ui/mention-input-element.tsx","../src/components/ui/comment-create-form.tsx","../src/components/ui/comment.tsx","../src/components/ui/block-suggestion.tsx","../src/components/ui/block-discussion.tsx","../src/components/editor/plugins/discussion-plugin.tsx","../src/components/editor/plugins/suggestion-plugin.tsx","../src/components/ui/suggestion-line-break.tsx","../src/components/ui/ai-loading-bar.tsx","../src/components/ui/command.tsx","../src/components/editor/settings.tsx","../src/components/editor/use-chat.ts","../src/components/ui/callout-element-static.tsx","../src/components/ui/kbd-leaf.tsx","../src/components/ui/ai-chat-editor.tsx","../src/components/ui/ai-menu-items.tsx","../src/components/ui/ai-menu.tsx","../src/components/ui/cursor-overlay.tsx","../src/components/editor/plugins/cursor-overlay-plugin.tsx","../src/components/editor/plugins/ai-plugins.tsx","../src/components/editor/plugins/align-plugin.ts","../src/components/editor/plugins/autoformat-plugin.ts","../src/components/editor/plugins/basic-nodes-plugins.tsx","../src/components/ui/context-menu.tsx","../src/hooks/use-is-touch-device.ts","../src/components/ui/block-context-menu.tsx","../src/components/ui/block-selection.tsx","../src/components/editor/plugins/block-selection-plugins.tsx","../src/components/editor/plugins/block-menu-plugins.ts","../src/components/editor/plugins/delete-plugins.ts","../src/components/ui/draggable.tsx","../src/components/editor/plugins/dnd-plugins.tsx","../src/components/editor/plugins/equation-plugins.ts","../src/components/editor/plugins/exit-break-plugin.ts","../src/components/ui/checkbox.tsx","../src/components/ui/indent-todo-marker.tsx","../src/components/editor/plugins/indent-list-plugins.ts","../src/components/editor/plugins/line-height-plugin.ts","../src/components/ui/link-floating-toolbar.tsx","../src/components/editor/plugins/link-plugin.tsx","../src/components/ui/image-preview.tsx","../src/components/ui/media-upload-toast.tsx","../src/components/editor/plugins/media-plugins.tsx","../src/components/editor/plugins/mention-plugin.ts","../src/components/editor/plugins/reset-block-type-plugin.ts","../src/components/editor/plugins/skip-mark-plugin.ts","../src/components/editor/plugins/soft-break-plugin.ts","../src/components/editor/plugins/table-plugin.ts","../src/components/editor/plugins/toc-plugin.ts","../src/components/editor/plugins/editor-plugins.tsx","../src/components/ui/blockquote-element.tsx","../src/components/ui/callout-element.tsx","../src/components/ui/code-block-combobox.tsx","../src/components/ui/code-block-element.tsx","../src/components/ui/code-leaf.tsx","../src/components/ui/code-line-element.tsx","../src/components/ui/code-syntax-leaf.tsx","../src/components/ui/column-element.tsx","../src/components/ui/column-group-element.tsx","../src/components/ui/comment-leaf.tsx","../src/components/ui/equation-element.tsx","../src/components/ui/excalidraw-element.tsx","../src/components/ui/heading-element.tsx","../src/components/ui/highlight-leaf.tsx","../src/components/ui/hr-element.tsx","../src/components/ui/caption.tsx","../src/components/ui/media-popover.tsx","../src/components/ui/resize-handle.tsx","../src/components/ui/image-element.tsx","../src/components/ui/media-audio-element.tsx","../src/components/ui/media-embed-element.tsx","../src/components/ui/media-file-element.tsx","../src/hooks/use-upload-file.ts","../src/components/ui/media-placeholder-element.tsx","../src/components/ui/media-video-element.tsx","../src/components/ui/paragraph-element.tsx","../src/components/ui/placeholder.tsx","../src/components/ui/slash-input-element.tsx","../src/components/ui/suggestion-leaf.tsx","../src/components/ui/table-cell-element.tsx","../src/components/ui/table-icons.tsx","../src/components/ui/table-element.tsx","../src/components/ui/table-row-element.tsx","../src/components/ui/toc-element.tsx","../src/components/ui/toggle-element.tsx","../src/components/editor/use-create-editor.ts","../src/hooks/use-version-history.ts","../src/components/editor/version-history-context.tsx","../src/components/ui/field-input-sidebar.tsx","../src/components/ui/ai-sidebar.tsx","../src/components/ui/document-outline.tsx","../src/components/ui/magic-wand-button.tsx","../src/components/ui/version-history-button.tsx","../src/components/editor/plate-editor.tsx","../src/components/ClientOnly.tsx","../src/components/editor/plate-editor-wrapper.tsx"],"names":["jsx","CopilotPlugin","Separator","jsxs","ToolbarToggleGroup","ToolbarButton","React2","TooltipContent","TooltipPrimitive2","cva","Button","SuggestionPlugin","React3","value","React4","React5","useEditorPlugin","React6","React7","Fragment","EmojiSettings","Popover","SlateElement","SlateLeaf","CheckIcon","NodeApi","React8","BaseTablePlugin","getEquationHtml","useEditorRef","React9","document","components","BaseCommentsPlugin","BaseTocPlugin","HEADING_KEYS","MarkdownPlugin","editor","React10","ListStyleType","Link","React11","AudioPlugin","FilePlugin","ImagePlugin","VideoPlugin","React12","useFilePicker","React13","usePluginOption","React14","useEditorSelector","TablePlugin","React15","XIcon","ListIcon","ListOrderedIcon","INDENT_LIST_KEYS","ChevronRightIcon","CodeBlockPlugin","React16","useSelectionFragmentProp","DropdownMenuItemIndicator","SuperscriptIcon","SubscriptIcon","useComposedRef","insertInlineEquation","RadicalIcon","PencilLineIcon","useEditorReadOnly","BoldIcon","ItalicIcon","UnderlineIcon","StrikethroughIcon","Code2Icon","createPlatePlugin","AIChatPlugin","className","props","ChevronRight","editorVariants","React17","delay","React18","items","Portal","React20","PlateElement","useReadOnly","useElement","React21","React22","React23","useSelected","IS_APPLE","React24","React25","BoldPlugin","withProps","DatePlugin","InlineEquationPlugin","ItalicPlugin","LinkPlugin","StrikethroughPlugin","UnderlinePlugin","React26","newDiscussion","getDraftCommentKey","comment","CommentsPlugin","React27","Plate","MoreHorizontalIcon","BlockquotePlugin","CalloutPlugin","ColumnPlugin","EquationPlugin","MediaEmbedPlugin","ParagraphPlugin","IndentListPlugin","TocPlugin","TogglePlugin","suggestion","React28","PathApi","React29","TextApi","MessageSquareTextIcon","toTPlatePlugin","isSlateString","React30","CornerDownLeftIcon","CommandPrimitive","SearchIcon","React31","React32","useBaseChat","faker","cn","PlateLeaf","BaseAudioPlugin","BaseBlockquotePlugin","BaseBoldPlugin","BaseCodeBlockPlugin","BaseCodeLinePlugin","BaseCodePlugin","BaseCodeSyntaxPlugin","BaseColumnItemPlugin","BaseColumnPlugin","BaseDatePlugin","BaseEquationPlugin","BaseFilePlugin","BaseHighlightPlugin","BaseHorizontalRulePlugin","BaseImagePlugin","BaseInlineEquationPlugin","BaseItalicPlugin","BaseKbdPlugin","BaseLinkPlugin","BaseMentionPlugin","BaseParagraphPlugin","BaseStrikethroughPlugin","BaseSubscriptPlugin","BaseSuperscriptPlugin","BaseTableCellHeaderPlugin","BaseTableCellPlugin","BaseTableRowPlugin","BaseUnderlinePlugin","BaseVideoPlugin","lowlight","createLowlight","all","BaseFontColorPlugin","BaseFontSizePlugin","BaseFontBackgroundColorPlugin","BaseHeadingPlugin","BaseIndentPlugin","BaseIndentListPlugin","React33","AIChatEditor","Check","AIPlugin","SmileIcon","React34","useIsSelecting","React35","open","anchorElement","BlockSelectionPlugin","useHotkeys","HEADING_LEVELS","SuperscriptPlugin","SubscriptPlugin","CodePlugin","HorizontalRulePlugin","toggleIndentList","BasicMarksPlugin","React36","React37","usePlateState","BlockMenuPlugin","ColumnItemPlugin","TableRowPlugin","TableCellPlugin","React38","PlaceholderPlugin","DragHandle","DropLine","DndPlugin","React39","offset","flip","ArrowLeft","ArrowRight","X","React40","toast","MentionPlugin","HighlightPlugin","KbdPlugin","EmojiPlugin","useEmojiDropdownMenuState","React41","React42","ColumnElement","useDraggable","React43","ColumnDragHandle","useDropLine","Trash2Icon","React44","useEquationElement","headingVariants","useFocused","CaptionPrimitive","CaptionTextareaPrimitive","createPrimitiveComponent","inputVariants","useImagePreviewValue","React45","useRemoveNodeButton","FloatingMediaPrimitive","ResizablePrimitive","withHOC","ResizableProvider","ImageElement","Image","MediaAudioElement","useMediaState","MediaEmbedElement","useResizableValue","MediaFileElement","FileUp","React46","progress","ImageIcon","MediaPlaceholderElement","React47","Loader2Icon","MediaVideoElement","parseTwitterUrl","parseVideoUrl","LiteYouTubeEmbed","React48","PilcrowIcon","Heading1Icon","Heading2Icon","Heading3Icon","Table","LightbulbIcon","Columns3Icon","useBlockSelected","TableElement","useTableMergeState","PopoverAnchor","ColorDropdownMenu","ArrowUp","ArrowDown","React49","EraserIcon","GripVertical","headingItemVariants","ExcalidrawPlugin","TableCellHeaderPlugin","EmojiInputPlugin","MentionInputPlugin","React50","usePlateEditor","useRef","useState","useEffect","useCallback","createContext","useContext","React","useMemo","ChevronLeft","getHeadingList","isHeading","React54","node","element","Wand2","format","ClockIcon","TrashIcon","React55"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYA,IAAM,gBAAA,GAAmB,cAAgD,MAAS,CAAA;AAE3E,SAAS,iBAAA,CAAkB,EAAE,QAAA,EAAS,EAAkC;AAC7E,EAAA,MAAM,CAAC,MAAA,EAAQ,SAAS,CAAA,GAAI,SAAS,KAAK,CAAA;AAE1C,EAAA,MAAM,WAAA,GAAc,MAAM,SAAA,CAAU,IAAI,CAAA;AACxC,EAAA,MAAM,YAAA,GAAe,MAAM,SAAA,CAAU,KAAK,CAAA;AAC1C,EAAA,MAAM,aAAA,GAAgB,MAAM,SAAA,CAAU,CAAC,MAAM,CAAA;AAE7C,EAAA,uBACE,GAAA;AAAA,IAAC,gBAAA,CAAiB,QAAA;AAAA,IAAjB;AAAA,MACC,KAAA,EAAO;AAAA,QACL,YAAA;AAAA,QACA,MAAA;AAAA,QACA,WAAA;AAAA,QACA;AAAA,OACF;AAAA,MAEC;AAAA;AAAA,GACH;AAEJ;AAEO,SAAS,YAAA,GAAe;AAC7B,EAAA,MAAM,OAAA,GAAU,WAAW,gBAAgB,CAAA;AAC3C,EAAA,IAAI,YAAY,MAAA,EAAW;AACzB,IAAA,MAAM,IAAI,MAAM,uDAAuD,CAAA;AAAA;AAEzE,EAAA,OAAO,OAAA;AACT;AClCO,IAAM,YAAY,MAAM;AAC7B,EAAA,MAAM,UAAU,UAAA,EAAW;AAE3B,EAAA,MAAM,WAAA,GAAc,eAAA;AAAA,IAClB,aAAA;AAAA,IACA,aAAA;AAAA,IACA,OAAA,CAAQ;AAAA,GACV;AAEA,EAAA,IAAI,CAAC,aAAa,OAAO,IAAA;AAEzB,EAAA,uBAAOA,IAAC,gBAAA,EAAA,EAAiB,CAAA;AAC3B,CAAA;AAEO,SAAS,gBAAA,GAAmB;AACjC,EAAA,MAAM,cAAA,GAAiB,eAAA,CAAgB,aAAA,EAAe,gBAAgB,CAAA;AAEtE,EAAA,uBACEA,GAAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,4DAAA;AAAA,MACV,eAAA,EAAiB,KAAA;AAAA,MAEhB,QAAA,EAAA,cAAA,IAAkB;AAAA;AAAA,GACrB;AAEJ;ACrBO,IAAM,cAAA,GAAiB,eAAe,SAAA,CAAU;AAAA,EACrD,OAAA,EAAS;AAAA,IACP,eAAA,EAAiB,CAAC,gBAAA,CAAiB,GAAG,CAAA;AAAA,IACtC,aAAA,EAAe,CAAC,UAAA,EAAY,SAAA,EAAW,WAAW,aAAa;AAAA;AAEnE,CAAC,CAAA;;;ACJM,IAAM,cAAA,GAAiB;AAAA,EAC5B,cAAA;AAAA,EACAC,aAAAA,CAAc,SAAA,CAAU,CAAC,EAAE,KAAI,MAAO;AAAA,IACpC,OAAA,EAAS;AAAA,MACP,eAAA,EAAiB;AAAA,QACf,GAAA,EAAK,iBAAA;AAAA,QACL,IAAA,EAAM;AAAA,UACJ,MAAA,EAAQ,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mGAAA;AAAA,SAWV;AAAA,QACA,SAAS,MAAM;AAEb,UAAA,GAAA,CAAI,QAAQ,kBAAA,CAAmB;AAAA,YAC7B,IAAA,EAAM,aAAA,CAAc,KAAA,CAAM,KAAA,CAAM,UAAU;AAAA,WAC3C,CAAA;AAAA,SACH;AAAA,QACA,QAAA,EAAU,CAAC,CAAA,EAAG,UAAA,KAAe;AAC3B,UAAA,IAAI,eAAe,GAAA,EAAK;AAExB,UAAA,GAAA,CAAI,QAAQ,kBAAA,CAAmB;AAAA,YAC7B,IAAA,EAAM,cAAc,UAAU;AAAA,WAC/B,CAAA;AAAA;AACH,OACF;AAAA,MACA,aAAA,EAAe,GAAA;AAAA,MACf,eAAA,EAAiB,SAAA;AAAA,MACjB,SAAA,EAAW,CAAC,EAAE,MAAA,EAAO,KAAM;AACzB,QAAA,MAAM,eAAe,MAAA,CAAO,GAAA,CAAI,MAAM,EAAE,OAAA,EAAS,MAAM,CAAA;AAEvD,QAAA,IAAI,CAAC,cAAc,OAAO,EAAA;AAE1B,QAAA,MAAM,MAAA,GAAS,YAAY,MAAA,EAAQ;AAAA,UACjC,KAAA,EAAO,CAAC,YAAA,CAAa,CAAC,CAAa;AAAA,SACpC,CAAA;AAED,QAAA,OAAO,CAAA;AAAA;AAAA,EAAA,EAEX,MAAM;AAAA,KAAA,CAAA;AAAA;AAEJ;AACF,GACF,CAAE;AACJ,CAAA;AC5DO,SAAS,MAAM,MAAA,EAAsB;AAC1C,EAAA,OAAO,OAAA,CAAQ,IAAA,CAAK,MAAM,CAAC,CAAA;AAC7B;ACIA,SAAS,YAAA,CAAa;AAAA,EACpB,GAAG;AACL,CAAA,EAA4D;AAC1D,EAAA,uBAAOD,GAAAA,CAAuB,qBAAA,CAAA,IAAA,EAAtB,EAA2B,WAAA,EAAU,eAAA,EAAiB,GAAG,KAAA,EAAO,CAAA;AAC1E;AAEA,SAAS,kBAAA,CAAmB;AAAA,EAC1B,GAAG;AACL,CAAA,EAA8D;AAC5D,EAAA,uBACEA,GAAAA,CAAuB,qBAAA,CAAA,MAAA,EAAtB,EAA6B,WAAA,EAAU,sBAAA,EAAwB,GAAG,KAAA,EAAO,CAAA;AAE9E;AAEA,SAAS,mBAAA,CAAoB;AAAA,EAC3B,GAAG;AACL,CAAA,EAA+D;AAC7D,EAAA,uBACEA,GAAAA;AAAA,IAAuB,qBAAA,CAAA,OAAA;AAAA,IAAtB;AAAA,MACC,WAAA,EAAU,uBAAA;AAAA,MACT,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,mBAAA,CAAoB;AAAA,EAC3B,SAAA;AAAA,EACA,UAAA,GAAa,CAAA;AAAA,EACb,GAAG;AACL,CAAA,EAA+D;AAC7D,EAAA,uBACEA,GAAAA,CAAuB,qBAAA,CAAA,MAAA,EAAtB,EACC,QAAA,kBAAAA,GAAAA;AAAA,IAAuB,qBAAA,CAAA,OAAA;AAAA,IAAtB;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,wjBAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,WAAA,EAAU,uBAAA;AAAA,MACV,UAAA;AAAA,MACC,GAAG;AAAA;AAAA,GACN,EACF,CAAA;AAEJ;AAEA,SAAS,iBAAA,CAAkB;AAAA,EACzB,GAAG;AACL,CAAA,EAA6D;AAC3D,EAAA,uBACEA,GAAAA,CAAuB,qBAAA,CAAA,KAAA,EAAtB,EAA4B,WAAA,EAAU,qBAAA,EAAuB,GAAG,KAAA,EAAO,CAAA;AAE5E;AAEA,SAAS,gBAAA,CAAiB;AAAA,EACxB,SAAA;AAAA,EACA,KAAA;AAAA,EACA,OAAA,GAAU,SAAA;AAAA,EACV,GAAG;AACL,CAAA,EAGG;AACD,EAAA,uBACEA,GAAAA;AAAA,IAAuB,qBAAA,CAAA,IAAA;AAAA,IAAtB;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,6mBAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,YAAA,EAAY,KAAA;AAAA,MACZ,WAAA,EAAU,oBAAA;AAAA,MACV,cAAA,EAAc,OAAA;AAAA,MACb,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,wBAAA,CAAyB;AAAA,EAChC,OAAA;AAAA,EACA,QAAA;AAAA,EACA,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAoE;AAClE,EAAA,uBACE,IAAA;AAAA,IAAuB,qBAAA,CAAA,YAAA;AAAA,IAAtB;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,8SAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,OAAA;AAAA,MACA,WAAA,EAAU,6BAAA;AAAA,MACT,GAAG,KAAA;AAAA,MAEJ,QAAA,EAAA;AAAA,wBAAAA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,+EAAA,EACd,0BAAAA,GAAAA,CAAuB,qBAAA,CAAA,aAAA,EAAtB,EACC,QAAA,kBAAAA,GAAAA,CAAC,SAAA,EAAA,EAAU,SAAA,EAAU,QAAA,EAAS,GAChC,CAAA,EACF,CAAA;AAAA,QACC;AAAA;AAAA;AAAA,GACH;AAEJ;AAEA,SAAS,sBAAA,CAAuB;AAAA,EAC9B,GAAG;AACL,CAAA,EAAkE;AAChE,EAAA,uBACEA,GAAAA;AAAA,IAAuB,qBAAA,CAAA,UAAA;AAAA,IAAtB;AAAA,MACC,WAAA,EAAU,2BAAA;AAAA,MACT,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,qBAAA,CAAsB;AAAA,EAC7B,QAAA;AAAA,EACA,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAiE;AAC/D,EAAA,uBACE,IAAA;AAAA,IAAuB,qBAAA,CAAA,SAAA;AAAA,IAAtB;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,8SAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,WAAA,EAAU,0BAAA;AAAA,MACT,GAAG,KAAA;AAAA,MAEJ,QAAA,EAAA;AAAA,wBAAAA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,+EAAA,EACd,0BAAAA,GAAAA,CAAuB,qBAAA,CAAA,aAAA,EAAtB,EACC,QAAA,kBAAAA,GAAAA,CAAC,UAAA,EAAA,EAAW,SAAA,EAAU,qBAAA,EAAsB,GAC9C,CAAA,EACF,CAAA;AAAA,QACC;AAAA;AAAA;AAAA,GACH;AAEJ;AAEA,SAAS,iBAAA,CAAkB;AAAA,EACzB,SAAA;AAAA,EACA,KAAA;AAAA,EACA,GAAG;AACL,CAAA,EAEG;AACD,EAAA,uBACEA,GAAAA;AAAA,IAAuB,qBAAA,CAAA,KAAA;AAAA,IAAtB;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,mDAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,YAAA,EAAY,KAAA;AAAA,MACZ,WAAA,EAAU,qBAAA;AAAA,MACT,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,qBAAA,CAAsB;AAAA,EAC7B,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAiE;AAC/D,EAAA,uBACEA,GAAAA;AAAA,IAAuB,qBAAA,CAAA,SAAA;AAAA,IAAtB;AAAA,MACC,SAAA,EAAW,EAAA,CAAG,2BAAA,EAA6B,SAAS,CAAA;AAAA,MACpD,WAAA,EAAU,yBAAA;AAAA,MACT,GAAG;AAAA;AAAA,GACN;AAEJ;AAkBA,SAAS,eAAA,CAAgB;AAAA,EACvB,GAAG;AACL,CAAA,EAA2D;AACzD,EAAA,uBAAOA,GAAAA,CAAuB,qBAAA,CAAA,GAAA,EAAtB,EAA0B,WAAA,EAAU,mBAAA,EAAqB,GAAG,KAAA,EAAO,CAAA;AAC7E;AAEA,SAAS,sBAAA,CAAuB;AAAA,EAC9B,QAAA;AAAA,EACA,SAAA;AAAA,EACA,KAAA;AAAA,EACA,GAAG;AACL,CAAA,EAEG;AACD,EAAA,uBACE,IAAA;AAAA,IAAuB,qBAAA,CAAA,UAAA;AAAA,IAAtB;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,gOAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,YAAA,EAAY,KAAA;AAAA,MACZ,WAAA,EAAU,2BAAA;AAAA,MACT,GAAG,KAAA;AAAA,MAEH,QAAA,EAAA;AAAA,QAAA,QAAA;AAAA,wBACDA,GAAAA,CAAC,gBAAA,EAAA,EAAiB,SAAA,EAAU,gBAAA,EAAiB;AAAA;AAAA;AAAA,GAC/C;AAEJ;AAEA,SAAS,sBAAA,CAAuB;AAAA,EAC9B,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAkE;AAChE,EAAA,uBACEA,GAAAA;AAAA,IAAuB,qBAAA,CAAA,UAAA;AAAA,IAAtB;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,+eAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,WAAA,EAAU,2BAAA;AAAA,MACT,GAAG;AAAA;AAAA,GACN;AAEJ;ACxOA,SAASE,UAAAA,CAAU;AAAA,EACjB,SAAA;AAAA,EACA,WAAA,GAAc,YAAA;AAAA,EACd,UAAA,GAAa,IAAA;AAAA,EACb,GAAG;AACL,CAAA,EAAyD;AACvD,EAAA,uBACEF,GAAAA;AAAA,IAAoB,kBAAA,CAAA,IAAA;AAAA,IAAnB;AAAA,MACC,WAAA,EAAU,gBAAA;AAAA,MACV,UAAA;AAAA,MACA,WAAA;AAAA,MACA,SAAA,EAAW,EAAA;AAAA,QACT,gKAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AClBA,SAAS,eAAA,CAAgB;AAAA,EACvB,aAAA,GAAgB,CAAA;AAAA,EAChB,GAAG;AACL,CAAA,EAA2D;AACzD,EAAA,uBACEA,GAAAA;AAAA,IAAkB,gBAAA,CAAA,QAAA;AAAA,IAAjB;AAAA,MACC,WAAA,EAAU,kBAAA;AAAA,MACV,aAAA;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,OAAA,CAAQ;AAAA,EACf,GAAG;AACL,CAAA,EAAuD;AACrD,EAAA,uBACEA,GAAAA,CAAC,eAAA,EAAA,EACC,QAAA,kBAAAA,GAAAA,CAAkB,gBAAA,CAAA,IAAA,EAAjB,EAAsB,WAAA,EAAU,SAAA,EAAW,GAAG,KAAA,EAAO,CAAA,EACxD,CAAA;AAEJ;AAEA,SAAS,cAAA,CAAe;AAAA,EACtB,GAAG;AACL,CAAA,EAA0D;AACxD,EAAA,uBAAOA,GAAAA,CAAkB,gBAAA,CAAA,OAAA,EAAjB,EAAyB,WAAA,EAAU,iBAAA,EAAmB,GAAG,KAAA,EAAO,CAAA;AAC1E;AAEA,SAAS,cAAA,CAAe;AAAA,EACtB,SAAA;AAAA,EACA,UAAA,GAAa,CAAA;AAAA,EACb,QAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA0D;AACxD,EAAA,uBACEA,GAAAA,CAAkB,gBAAA,CAAA,MAAA,EAAjB,EACC,QAAA,kBAAAG,IAAAA;AAAA,IAAkB,gBAAA,CAAA,OAAA;AAAA,IAAjB;AAAA,MACC,WAAA,EAAU,iBAAA;AAAA,MACV,UAAA;AAAA,MACA,SAAA,EAAW,EAAA;AAAA,QACT,waAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG,KAAA;AAAA,MAEH,QAAA,EAAA;AAAA,QAAA,QAAA;AAAA,wBACDH,GAAAA,CAAkB,gBAAA,CAAA,KAAA,EAAjB,EAAuB,WAAU,8FAAA,EAA+F;AAAA;AAAA;AAAA,GACnI,EACF,CAAA;AAEJ;ACxCO,SAAS,OAAA,CAAQ;AAAA,EACtB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAuD;AACrD,EAAA,uBACEA,GAAAA;AAAA,IAAkB,gBAAA,CAAA,IAAA;AAAA,IAAjB;AAAA,MACC,SAAA,EAAW,EAAA,CAAG,wCAAA,EAA0C,SAAS,CAAA;AAAA,MAChE,GAAG;AAAA;AAAA,GACN;AAEJ;AAEO,SAASI,mBAAAA,CAAmB;AAAA,EACjC,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAqE;AACnE,EAAA,uBACEJ,GAAAA;AAAA,IAAkB,gBAAA,CAAA,kBAAA;AAAA,IAAjB;AAAA,MACC,SAAA,EAAW,EAAA,CAAG,mBAAA,EAAqB,SAAS,CAAA;AAAA,MAC3C,GAAG;AAAA;AAAA,GACN;AAEJ;AA2BA,IAAM,qBAAA,GAAwB,GAAA;AAAA,EAC5B,wjBAAA;AAAA,EACA;AAAA,IACE,eAAA,EAAiB;AAAA,MACf,IAAA,EAAM,SAAA;AAAA,MACN,OAAA,EAAS;AAAA,KACX;AAAA,IACA,QAAA,EAAU;AAAA,MACR,IAAA,EAAM;AAAA,QACJ,OAAA,EAAS,kBAAA;AAAA,QACT,EAAA,EAAI,sBAAA;AAAA,QACJ,EAAA,EAAI;AAAA,OACN;AAAA,MACA,OAAA,EAAS;AAAA,QACP,OAAA,EAAS,gBAAA;AAAA,QACT,OAAA,EACE;AAAA;AACJ;AACF;AAEJ,CAAA;AAEA,IAAM,qBAAA,GAAwB,GAAA;AAAA,EAC5B,EAAA;AAAA,IACE;AAAA,GACF;AAAA,EACA;AAAA,IACE,eAAA,EAAiB;AAAA,MACf,IAAA,EAAM,IAAA;AAAA,MACN,OAAA,EAAS;AAAA,KACX;AAAA,IACA,QAAA,EAAU;AAAA,MACR,IAAA,EAAM;AAAA,QACJ,OAAA,EAAS,SAAA;AAAA,QACT,EAAA,EAAI,UAAA;AAAA,QACJ,EAAA,EAAI;AAAA,OACN;AAAA,MACA,OAAA,EAAS;AAAA,QACP,OAAA,EACE,sHAAA;AAAA,QACF,OAAA,EACE;AAAA;AACJ;AACF;AAEJ,CAAA;AAWO,IAAM,aAAA,GAAgB,WAAA,CAAY,SAASK,cAAAA,CAAc;AAAA,EAC9D,QAAA;AAAA,EACA,SAAA;AAAA,EACA,UAAA;AAAA,EACA,OAAA;AAAA,EACA,IAAA,GAAO,IAAA;AAAA,EACP,OAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAuB;AACrB,EAAA,OAAO,OAAO,OAAA,KAAY,SAAA,mBACxBL,IAACI,mBAAAA,EAAA,EAAmB,QAAA,EAAU,KAAA,CAAM,QAAA,EAAU,KAAA,EAAM,QAAA,EAAS,IAAA,EAAK,UAChE,QAAA,kBAAAJ,GAAAA;AAAA,IAAC,iBAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,qBAAA,CAAsB;AAAA,UACpB,IAAA;AAAA,UACA;AAAA,SACD,CAAA;AAAA,QACD,UAAA,IAAc,4BAAA;AAAA,QACd;AAAA,OACF;AAAA,MACA,KAAA,EAAO,UAAU,QAAA,GAAW,EAAA;AAAA,MAC3B,GAAG,KAAA;AAAA,MAEH,QAAA,EAAA,UAAA,mBACCG,IAAAA,CAAA,QAAA,EAAA,EACE,QAAA,EAAA;AAAA,wBAAAH,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,kDAAA,EACZ,QAAA,EACH,CAAA;AAAA,wBACAA,GAAAA,CAAC,KAAA,EAAA,EACC,QAAA,kBAAAA,GAAAA;AAAA,UAAC,WAAA;AAAA,UAAA;AAAA,YACC,SAAA,EAAU,gCAAA;AAAA,YACV,WAAA,EAAS;AAAA;AAAA,SACX,EACF;AAAA,OAAA,EACF,CAAA,GAEA;AAAA;AAAA,GAEJ,EACF,oBAEAA,GAAAA;AAAA,IAAkB,gBAAA,CAAA,MAAA;AAAA,IAAjB;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,qBAAA,CAAsB;AAAA,UACpB,IAAA;AAAA,UACA;AAAA,SACD,CAAA;AAAA,QACD,UAAA,IAAc,MAAA;AAAA,QACd;AAAA,OACF;AAAA,MACC,GAAG,KAAA;AAAA,MAEH;AAAA;AAAA,GACH;AAEJ,CAAC,CAAA;AAEM,SAAS,kBAAA,CAAmB;AAAA,EACjC,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAyD;AACvD,EAAA,uBACEA,GAAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA,CAAG,4CAAA,EAA8C,SAAS,CAAA;AAAA,MACpE,GAAG;AAAA;AAAA,GACN;AAEJ;AAQO,SAAS,yBAAA,CAA0B;AAAA,EACxC,QAAA;AAAA,EACA,SAAA;AAAA,EACA,IAAA,GAAO,IAAA;AAAA,EACP,OAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAmC;AACjC,EAAA,uBACEA,GAAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,qBAAA,CAAsB;AAAA,UACpB,IAAA;AAAA,UACA;AAAA,SACD,CAAA;AAAA,QACD,gBAAA;AAAA,QACA,sFAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG,KAAA;AAAA,MAEH;AAAA;AAAA,GACH;AAEJ;AAEO,SAAS,2BAAA,CAA4B;AAAA,EAC1C,SAAA;AAAA,EACA,IAAA;AAAA,EACA,OAAA;AAAA,EACA,GAAG;AACL,CAAA,EAC8C;AAC5C,EAAA,uBACEA,GAAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,qBAAA,CAAsB;AAAA,UACpB,IAAA;AAAA,UACA;AAAA,SACD,CAAA;AAAA,QACD,sFAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,OAAA,EAAS,CAAC,CAAA,KAAM,CAAA,CAAE,eAAA,EAAgB;AAAA,MAClC,IAAA,EAAK,QAAA;AAAA,MACJ,GAAG,KAAA;AAAA,MAEJ,0BAAAA,GAAAA,CAAC,WAAA,EAAA,EAAY,SAAA,EAAU,gCAAA,EAAiC,aAAS,IAAA,EAAC;AAAA;AAAA,GACpE;AAEJ;AAEO,SAAS,iBAAA,CAAkB;AAAA,EAChC,SAAA;AAAA,EACA,IAAA,GAAO,IAAA;AAAA,EACP,OAAA;AAAA,EACA,GAAG;AACL,CAAA,EAC8C;AAC5C,EAAA,uBACEA,GAAAA;AAAA,IAAkB,gBAAA,CAAA,UAAA;AAAA,IAAjB;AAAA,MACC,SAAA,EAAW,GAAG,qBAAA,CAAsB,EAAE,MAAM,OAAA,EAAS,GAAG,SAAS,CAAA;AAAA,MAChE,GAAG;AAAA;AAAA,GACN;AAEJ;AAEO,SAAS,YAAA,CAAa;AAAA,EAC3B,QAAA;AAAA,EACA;AACF,CAAA,EAAgC;AAC9B,EAAA,uBACEG,IAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,qBAAA;AAAA,QACA,mCAAA;AAAA,QACA;AAAA,OACF;AAAA,MAEA,QAAA,EAAA;AAAA,wBAAAH,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,mBAAA,EAAqB,QAAA,EAAS,CAAA;AAAA,wBAE7CA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,gDAAA,EACb,QAAA,kBAAAA,GAAAA,CAACE,UAAAA,EAAA,EAAU,WAAA,EAAY,UAAA,EAAW,CAAA,EACpC;AAAA;AAAA;AAAA,GACF;AAEJ;AAeA,SAAS,YAAyC,SAAA,EAAc;AAC9D,EAAA,OAAO,SAAS,eAAA,CAAgB;AAAA,IAC9B,OAAA;AAAA,IACA,mBAAA;AAAA,IACA,YAAA;AAAA,IACA,mBAAA;AAAA,IACA,GAAG;AAAA,GACL,EAAoB;AAClB,IAAA,MAAM,CAAC,OAAA,EAAS,UAAU,CAAA,GAAUI,iBAAS,KAAK,CAAA;AAElD,IAAMA,kBAAU,MAAM;AACpB,MAAA,UAAA,CAAW,IAAI,CAAA;AAAA,KACjB,EAAG,EAAE,CAAA;AAEL,IAAA,MAAM,SAAA,mBAAYN,GAAAA,CAAC,SAAA,EAAA,EAAW,GAAI,KAAA,EAAmC,CAAA;AAErE,IAAA,IAAI,WAAW,OAAA,EAAS;AACtB,MAAA,uBACEG,IAAAA,CAAC,OAAA,EAAA,EAAS,GAAG,YAAA,EACX,QAAA,EAAA;AAAA,wBAAAH,IAAC,cAAA,EAAA,EAAe,OAAA,EAAO,IAAA,EAAE,GAAG,qBACzB,QAAA,EAAA,SAAA,EACH,CAAA;AAAA,wBAEAA,GAAAA,CAACO,eAAAA,EAAA,EAAgB,GAAG,qBAAsB,QAAA,EAAA,OAAA,EAAQ;AAAA,OAAA,EACpD,CAAA;AAAA;AAIJ,IAAA,OAAO,SAAA;AAAA,GACT;AACF;AAEA,SAASA,eAAAA,CAAe;AAAA,EACtB,QAAA;AAAA,EACA,SAAA;AAAA;AAAA,EAEA,UAAA,GAAa,CAAA;AAAA,EACb,GAAG;AACL,CAAA,EAA0D;AACxD,EAAA,uBACEP,GAAAA,CAAkBQ,gBAAA,CAAA,MAAA,EAAjB,EACC,QAAA,kBAAAR,GAAAA;AAAA,IAAkBQ,gBAAA,CAAA,OAAA;AAAA,IAAjB;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,6IAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,WAAA,EAAU,iBAAA;AAAA,MACV,UAAA;AAAA,MACC,GAAG,KAAA;AAAA,MAEH;AAAA;AAAA,GAGH,EACF,CAAA;AAEJ;AAEO,SAAS,gBAAA,CAAiB;AAAA,EAC/B,QAAA;AAAA,EACA,SAAA;AAAA,EACA,KAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA6E;AAC3E,EAAA,uBACEL,KAAA,QAAA,EAAA,EACE,QAAA,EAAA;AAAA,oBAAAH,GAAAA;AAAA,MAAC,qBAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAW,EAAA;AAAA,UACT,QAAA;AAAA,UACA;AAAA;AACF;AAAA,KACF;AAAA,oBAEAG,IAAAA;AAAA,MAAC,sBAAA;AAAA,MAAA;AAAA,QACE,GAAG,KAAA;AAAA,QACJ,SAAA,EAAW,EAAA;AAAA,UACT,QAAA;AAAA,UACA,gIAAA;AAAA,UACA;AAAA,SACF;AAAA,QAEC,QAAA,EAAA;AAAA,UAAA,KAAA,oBACCH,GAAAA,CAAC,iBAAA,EAAA,EAAkB,SAAA,EAAU,2DAC1B,QAAA,EAAA,KAAA,EACH,CAAA;AAAA,UAED;AAAA;AAAA;AAAA;AACH,GAAA,EACF,CAAA;AAEJ;AC9XO,SAAS,aAAa,KAAA,EAA6C;AACxE,EAAA,uBACEA,GAAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,SAAA,EAAW,EAAA;AAAA,QACT,kLAAA;AAAA,QACA,KAAA,CAAM;AAAA;AACR;AAAA,GACF;AAEJ;ACVA,IAAM,cAAA,GAAiBS,GAAAA;AAAA,EACrB,6bAAA;AAAA,EACA;AAAA,IACE,QAAA,EAAU;AAAA,MACR,OAAA,EAAS;AAAA,QACP,OAAA,EACE,kEAAA;AAAA,QACF,WAAA,EACE,6JAAA;AAAA,QACF,OAAA,EACE,uIAAA;AAAA,QACF,SAAA,EACE,wEAAA;AAAA,QACF,KAAA,EACE,sEAAA;AAAA,QACF,IAAA,EAAM;AAAA,OACR;AAAA,MACA,IAAA,EAAM;AAAA,QACJ,OAAA,EAAS,+BAAA;AAAA,QACT,EAAA,EAAI,+CAAA;AAAA,QACJ,EAAA,EAAI,sCAAA;AAAA,QACJ,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB;AAAA,MACf,OAAA,EAAS,SAAA;AAAA,MACT,IAAA,EAAM;AAAA;AACR;AAEJ,CAAA;AAEA,SAASC,OAAAA,CAAO;AAAA,EACd,SAAA;AAAA,EACA,OAAA;AAAA,EACA,IAAA;AAAA,EACA,OAAA,GAAU,KAAA;AAAA,EACV,GAAG;AACL,CAAA,EAGK;AACH,EAAA,MAAM,IAAA,GAAO,UAAU,IAAA,GAAO,QAAA;AAE9B,EAAA,uBACEV,GAAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,QAAA;AAAA,MACV,SAAA,EAAW,GAAG,cAAA,CAAe,EAAE,SAAS,IAAA,EAAM,SAAA,EAAW,CAAC,CAAA;AAAA,MACzD,GAAG;AAAA;AAAA,GACN;AAEJ;AC3CO,SAAS,gBACd,KAAA,EACA;AACA,EAAA,MAAM,EAAE,GAAA,EAAI,GAAI,eAAA,CAAgB,YAAY,CAAA;AAE5C,EAAA,uBACEA,GAAAA;AAAA,IAACU,OAAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,IAAA,EAAK,IAAA;AAAA,MACL,OAAA,EAAQ,OAAA;AAAA,MACR,SAAA,EAAW,EAAA;AAAA,QACT,0RAAA;AAAA,QACA,KAAA,CAAM;AAAA,OACR;AAAA,MACA,SAAS,MAAM;AACb,QAAA,GAAA,CAAI,OAAO,IAAA,EAAK;AAAA,OAClB;AAAA,MACA,WAAA,EAAa,CAAC,CAAA,KAAM;AAClB,QAAA,CAAA,CAAE,cAAA,EAAe;AAAA,OACnB;AAAA,MAEA,QAAA,kBAAAV,GAAAA,CAAC,KAAA,EAAA,EAAM,SAAA,EAAU,SAAA,EAAU;AAAA;AAAA,GAC7B;AAEJ;ACWO,IAAM,gBAAA,GAA6B;AAAA,EACxC,YAAA,CAAa,GAAA;AAAA,EACb,gBAAA,CAAiB,GAAA;AAAA,EACjB,WAAA,CAAY,GAAA;AAAA,EACZ,cAAA,CAAe,GAAA;AAAA,EACf,eAAA,CAAgB;AAClB,CAAA;AAEA,IAAM,oBAAA,GAAuB,sBAAA;AAE7B,IAAM,UAAA,GAAa,CAAC,MAAA,EAAqB,IAAA,KAAiB;AACxD,EAAA,MAAA,CAAO,EAAA,CAAG,WAAA;AAAA,IACR,MAAA,CAAO,GAAA,CAAI,MAAA,CAAO,KAAA,CAAM;AAAA,MACtB,MAAA,EAAQ,CAAA;AAAA,MACR,aAAA,EAAe;AAAA,KAChB,CAAA;AAAA,IACD,EAAE,QAAQ,IAAA;AAAK,GACjB;AACF,CAAA;AAEA,IAAM,cAAA,GAGF;AAAA,EACF,CAAC,gBAAA,CAAiB,IAAI,GAAG,UAAA;AAAA,EACzB,CAAC,aAAA,CAAc,OAAO,GAAG,UAAA;AAAA,EACzB,CAAC,aAAA,CAAc,IAAI,GAAG,UAAA;AAAA,EACtB,CAAC,oBAAoB,GAAG,CAAC,MAAA,KACvB,iBAAA,CAAkB,MAAA,EAAQ,EAAE,OAAA,EAAS,CAAA,EAAG,MAAA,EAAQ,IAAA,EAAM,CAAA;AAAA,EACxD,CAAC,WAAA,CAAY,GAAG,GAAG,CAAC,MAAA,KAClB,sBAAA,CAAuB,MAAA,EAAQ,EAAE,MAAA,EAAQ,IAAA,EAAM,CAAA;AAAA,EACjD,CAAC,aAAA,CAAc,GAAG,GAAG,CAAC,MAAA,KAAW,aAAA,CAAc,MAAA,EAAQ,EAAE,MAAA,EAAQ,IAAA,EAAM,CAAA;AAAA,EACvE,CAAC,eAAA,CAAgB,GAAG,GAAG,CAAC,MAAA,KAAW,eAAA,CAAgB,MAAA,EAAQ,EAAE,MAAA,EAAQ,IAAA,EAAM,CAAA;AAAA,EAC3E,CAAC,cAAA,CAAe,GAAG,GAAG,CAAC,MAAA,KAAW,cAAA,CAAe,MAAA,EAAQ,EAAE,MAAA,EAAQ,IAAA,EAAM,CAAA;AAAA,EACzE,CAAC,UAAA,CAAW,GAAG,GAAG,CAAC,MAAA,KAAW,qBAAA,CAAsB,MAAA,EAAQ,EAAE,MAAA,EAAQ,IAAA,EAAM,CAAA;AAAA,EAC5E,CAAC,WAAA,CAAY,GAAG,GAAG,CAAC,MAAA,KAClB,YAAY,MAAA,EAAQ;AAAA,IAClB,MAAA,EAAQ,IAAA;AAAA,IACR,MAAM,WAAA,CAAY;AAAA,GACnB,CAAA;AAAA,EACH,CAAC,gBAAA,CAAiB,GAAG,GAAG,CAAC,MAAA,KACvB,YAAY,MAAA,EAAQ;AAAA,IAClB,MAAA,EAAQ,IAAA;AAAA,IACR,MAAM,gBAAA,CAAiB;AAAA,GACxB,CAAA;AAAA,EACH,CAAC,WAAA,CAAY,GAAG,GAAG,CAAC,WAClB,MAAA,CAAO,aAAA,CAAc,WAAW,CAAA,CAAE,OAAO,KAAA,CAAM,IAAI,EAAE,MAAA,EAAQ,MAAM,CAAA;AAAA,EACrE,CAAC,SAAA,CAAU,GAAG,GAAG,CAAC,MAAA,KAAW,SAAA,CAAU,MAAA,EAAQ,EAAE,MAAA,EAAQ,IAAA,EAAM,CAAA;AAAA,EAC/D,CAAC,WAAA,CAAY,GAAG,GAAG,CAAC,MAAA,KAClB,sBAAA,CAAuB,MAAA,EAAQ,EAAE,MAAA,EAAQ,IAAA,EAAM;AACnD,CAAA;AAEA,IAAM,eAAA,GAGF;AAAA,EACF,CAAC,UAAA,CAAW,GAAG,GAAG,CAAC,MAAA,KAAW,UAAA,CAAW,MAAA,EAAQ,EAAE,MAAA,EAAQ,IAAA,EAAM,CAAA;AAAA,EACjE,CAAC,oBAAA,CAAqB,GAAG,GAAG,CAAC,MAAA,KAC3B,oBAAA,CAAqB,MAAA,EAAQ,EAAA,EAAI,EAAE,MAAA,EAAQ,IAAA,EAAM,CAAA;AAAA,EACnD,CAAC,UAAA,CAAW,GAAG,GAAG,CAAC,MAAA,KAAW,mBAAA,CAAoB,MAAA,EAAQ,EAAE,OAAA,EAAS,IAAA,EAAM;AAC7E,CAAA;AAEO,IAAM,WAAA,GAAc,CAAC,MAAA,EAAqB,IAAA,KAAiB;AAChE,EAAA,MAAA,CAAO,EAAA,CAAG,mBAAmB,MAAM;AACjC,IAAA,MAAM,KAAA,GAAQ,MAAA,CAAO,GAAA,CAAI,KAAA,EAAM;AAE/B,IAAA,IAAI,CAAC,KAAA,EAAO;AACZ,IAAA,IAAI,QAAQ,cAAA,EAAgB;AAC1B,MAAA,cAAA,CAAe,IAAI,CAAA,CAAE,MAAA,EAAQ,IAAI,CAAA;AAAA,KACnC,MAAO;AACL,MAAA,MAAA,CAAO,EAAA,CAAG,YAAY,MAAA,CAAO,GAAA,CAAI,OAAO,KAAA,CAAM,EAAE,IAAA,EAAM,CAAA,EAAG;AAAA,QACvD,EAAA,EAAI,OAAA,CAAQ,IAAA,CAAK,KAAA,CAAM,CAAC,CAAC,CAAA;AAAA,QACzB,MAAA,EAAQ;AAAA,OACT,CAAA;AAAA;AAEH,IAAA,IAAI,YAAA,CAAa,KAAA,CAAM,CAAC,CAAC,MAAM,IAAA,EAAM;AACnC,MAAA,MAAA,CAAO,MAAA,CAAOW,gBAAgB,CAAA,CAAE,UAAA,CAAW,mBAAmB,MAAM;AAClE,QAAA,MAAA,CAAO,EAAA,CAAG,WAAA,CAAY,EAAE,kBAAA,EAAoB,MAAM,CAAA;AAAA,OACnD,CAAA;AAAA;AACH,GACD,CAAA;AACH,CAAA;AAEO,IAAM,mBAAA,GAAsB,CAAC,MAAA,EAAqB,IAAA,KAAiB;AACxE,EAAA,IAAI,eAAA,CAAgB,IAAI,CAAA,EAAG;AACzB,IAAA,eAAA,CAAgB,IAAI,CAAA,CAAE,MAAA,EAAQ,IAAI,CAAA;AAAA;AAEtC,CAAA;AAEA,IAAM,OAAA,GAAU,CACd,MAAA,EACA,IAAA,EACA,KAAA,KACG;AACH,EAAA,MAAA,CAAO,EAAA,CAAG,QAAA;AAAA,IACR,MAAA,CAAO,GAAA,CAAI,MAAA,CAAO,KAAA,CAAM;AAAA,MACtB,MAAA,EAAQ,CAAA;AAAA,MACR,aAAA,EAAe;AAAA,KAChB,CAAA;AAAA,IACD;AAAA,MACE,EAAA,EAAI,MAAM,CAAC;AAAA;AACb,GACF;AACF,CAAA;AAEA,IAAM,WAAA,GAGF;AAAA,EACF,CAAC,gBAAA,CAAiB,IAAI,GAAG,OAAA;AAAA,EACzB,CAAC,aAAA,CAAc,OAAO,GAAG,OAAA;AAAA,EACzB,CAAC,aAAA,CAAc,IAAI,GAAG,OAAA;AAAA,EACtB,CAAC,oBAAoB,GAAG,CAAC,MAAA,KAAW,kBAAkB,MAAA,EAAQ,EAAE,OAAA,EAAS,CAAA,EAAG;AAC9E,CAAA;AAEO,IAAM,YAAA,GAAe,CAC1B,MAAA,EACA,IAAA,EACA,EAAE,EAAA,EAAG,GAAmB,EAAC,KACtB;AACH,EAAA,MAAA,CAAO,EAAA,CAAG,mBAAmB,MAAM;AACjC,IAAA,MAAM,QAAA,GAAW,CAAC,KAAA,KAA+B;AAC/C,MAAA,MAAM,CAAC,IAAA,EAAM,IAAI,CAAA,GAAI,KAAA;AAErB,MAAA,IAAI,IAAA,CAAK,gBAAA,CAAiB,GAAG,CAAA,EAAG;AAC9B,QAAA,MAAA,CAAO,EAAA,CAAG,UAAA,CAAW,CAAC,gBAAA,CAAiB,GAAA,EAAK,QAAQ,CAAA,EAAG,EAAE,EAAA,EAAI,IAAA,EAAM,CAAA;AAAA;AAErE,MAAA,IAAI,QAAQ,WAAA,EAAa;AACvB,QAAA,OAAO,WAAA,CAAY,IAAI,CAAA,CAAE,MAAA,EAAQ,MAAM,KAAK,CAAA;AAAA;AAE9C,MAAA,IAAI,IAAA,CAAK,SAAS,IAAA,EAAM;AACtB,QAAA,MAAA,CAAO,EAAA,CAAG,SAAS,EAAE,IAAA,IAAQ,EAAE,EAAA,EAAI,MAAM,CAAA;AAAA;AAC3C,KACF;AAEA,IAAA,IAAI,EAAA,EAAI;AACN,MAAA,MAAM,KAAA,GAAQ,MAAA,CAAO,GAAA,CAAI,IAAA,CAAe,EAAE,CAAA;AAE1C,MAAA,IAAI,KAAA,EAAO;AACT,QAAA,QAAA,CAAS,KAAK,CAAA;AAEd,QAAA;AAAA;AACF;AAGF,IAAA,MAAM,UAAU,MAAA,CAAO,GAAA,CAAI,OAAO,EAAE,IAAA,EAAM,UAAU,CAAA;AAEpD,IAAA,OAAA,CAAQ,OAAA,CAAQ,CAAC,KAAA,KAAU,QAAA,CAAS,KAAK,CAAC,CAAA;AAAA,GAC3C,CAAA;AACH,CAAA;AAEO,IAAM,YAAA,GAAe,CAAC,KAAA,KAAoB;AAC/C,EAAA,IAAI,KAAA,CAAM,gBAAA,CAAiB,GAAG,CAAA,EAAG;AAC/B,IAAA,IAAI,KAAA,CAAM,gBAAA,CAAiB,GAAG,CAAA,KAAM,cAAc,OAAA,EAAS;AACzD,MAAA,OAAO,aAAA,CAAc,OAAA;AAAA,eACZ,KAAA,CAAM,gBAAA,CAAiB,GAAG,CAAA,KAAM,iBAAiB,IAAA,EAAM;AAChE,MAAA,OAAO,gBAAA,CAAiB,IAAA;AAAA,KAC1B,MAAO;AACL,MAAA,OAAO,aAAA,CAAc,IAAA;AAAA;AACvB;AAGF,EAAA,OAAO,KAAA,CAAM,IAAA;AACf,CAAA;ACzLA,IAAM,KAAA,GAAQ;AAAA,EACZ;AAAA,IACE,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA;AAEX,CAAA;AAEO,SAAS,kBAAkB,KAAA,EAA0B;AAC1D,EAAA,MAAM,SAAS,YAAA,EAAa;AAC5B,EAAA,MAAM,QAAQ,wBAAA,CAAyB;AAAA,IACrC,YAAA,EAAc,OAAA;AAAA,IACd,eAAA,EAAiB,gBAAA;AAAA,IACjB,OAAA,EAAS,CAAC,IAAA,KAAS,IAAA,CAAK;AAAA,GACzB,CAAA;AAED,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAUC,iBAAS,KAAK,CAAA;AAC5C,EAAA,MAAM,SAAA,GACJ,MAAM,IAAA,CAAK,CAAC,SAAS,IAAA,CAAK,KAAA,KAAU,KAAK,CAAA,EAAG,IAAA,IAAQ,aAAA;AAEtD,EAAA,uBACET,KAAC,YAAA,EAAA,EAAa,IAAA,EAAY,cAAc,OAAA,EAAS,KAAA,EAAO,KAAA,EAAQ,GAAG,KAAA,EACjE,QAAA,EAAA;AAAA,oBAAAH,IAAC,mBAAA,EAAA,EAAoB,OAAA,EAAO,IAAA,EAC1B,QAAA,kBAAAA,IAAC,aAAA,EAAA,EAAc,OAAA,EAAS,IAAA,EAAM,OAAA,EAAQ,SAAQ,UAAA,EAAU,IAAA,EACtD,0BAAAA,GAAAA,CAAC,SAAA,EAAA,EAAU,GACb,CAAA,EACF,CAAA;AAAA,oBAEAA,GAAAA,CAAC,mBAAA,EAAA,EAAoB,WAAU,SAAA,EAAU,KAAA,EAAM,SAC7C,QAAA,kBAAAA,GAAAA;AAAA,MAAC,sBAAA;AAAA,MAAA;AAAA,QACC,KAAA;AAAA,QACA,aAAA,EAAe,CAACa,MAAAA,KAAU;AACxB,UAAA,QAAA,CAAS,MAAA,EAAQ,EAAE,KAAA,EAAOA,MAAAA,EAAoB,CAAA;AAC9C,UAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,SAClB;AAAA,QAEC,QAAA,EAAA,KAAA,CAAM,IAAI,CAAC,EAAE,MAAM,IAAA,EAAM,KAAA,EAAO,SAAA,EAAU,qBACzCb,GAAAA;AAAA,UAAC,qBAAA;AAAA,UAAA;AAAA,YAEC,SAAA,EAAU,4BAAA;AAAA,YACV,KAAA,EAAO,SAAA;AAAA,YAEP,QAAA,kBAAAA,IAAC,IAAA,EAAA,EAAK;AAAA,WAAA;AAAA,UAJD;AAAA,SAMR;AAAA;AAAA,KACH,EACF;AAAA,GAAA,EACF,CAAA;AAEJ;;;ACtFO,IAAM,cAAA,GAAiB;AAAA,EAC5B;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,OAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,MAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,IAAA;AAAA,IACf,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,IAAA;AAAA,IACf,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,IAAA;AAAA,IACf,IAAA,EAAM,OAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,WAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,KAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,QAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,IAAA;AAAA,IACf,IAAA,EAAM,QAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,OAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,MAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,iBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,MAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,QAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,SAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EAEA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,mBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,IAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,IAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,IAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,yBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,IAAA;AAAA,IACf,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,IAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,IAAA;AAAA,IACf,IAAA,EAAM,iBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EAEA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,mBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,IAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,yBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,iBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EAEA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,mBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,yBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,iBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EAEA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,kBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,YAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,wBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EAEA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,kBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,YAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,wBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EAEA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,kBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,YAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,cAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,wBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA;AAEX,CAAA;AAEO,IAAM,qBAAA,GAAwB;AAAA,EACnC;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,aAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,yBAAA;AAAA,IACN,KAAA,EAAO;AAAA,GACT;AAAA,EACA;AAAA,IACE,aAAA,EAAe,KAAA;AAAA,IACf,IAAA,EAAM,gBAAA;AAAA,IACN,KAAA,EAAO;AAAA;AAEX,CAAA;ACrZO,SAAS,qBAAA,CAAsB;AAAA,EACpC,SAAA;AAAA,EACA,aAAA;AAAA,EACA,UAAA;AAAA,EACA,IAAA;AAAA,EACA,WAAA;AAAA,EACA,KAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA+B;AAC7B,EAAA,MAAM,0BACJA,GAAAA;AAAA,IAAC,gBAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,cAAA,CAAe;AAAA,UACb,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,SACV,CAAA;AAAA,QACD,+HAAA;AAAA,QACA,CAAC,aAAA,IAAiB,oBAAA;AAAA,QAClB,UAAA,IAAc,yBAAA;AAAA,QACd;AAAA,OACF;AAAA,MACA,KAAA,EAAO,EAAE,eAAA,EAAiB,KAAA,EAAM;AAAA,MAChC,QAAA,EAAU,CAAC,CAAA,KAAM;AACf,QAAA,CAAA,CAAE,cAAA,EAAe;AACjB,QAAA,WAAA,CAAY,KAAK,CAAA;AAAA,OACnB;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAGF,EAAA,OAAO,IAAA,mBACLG,IAAAA,CAAC,OAAA,EAAA,EACC,QAAA,EAAA;AAAA,oBAAAH,GAAAA,CAAC,kBAAgB,QAAA,EAAA,OAAA,EAAQ,CAAA;AAAA,oBACzBA,GAAAA,CAAC,cAAA,EAAA,EAAe,SAAA,EAAU,mBAAmB,QAAA,EAAA,IAAA,EAAK;AAAA,GAAA,EACpD,CAAA,GAEA,OAAA;AAEJ;AAQO,SAAS,sBAAA,CAAuB;AAAA,EACrC,SAAA;AAAA,EACA,KAAA;AAAA,EACA,MAAA;AAAA,EACA,WAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAgC;AAC9B,EAAA,uBACEA,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,4DAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG,KAAA;AAAA,MAEJ,QAAA,kBAAAG,KAAC,eAAA,EAAA,EACE,QAAA,EAAA;AAAA,QAAA,MAAA,CAAO,IAAI,CAAC,EAAE,eAAe,IAAA,EAAM,KAAA,uBAClCH,GAAAA;AAAA,UAAC,qBAAA;AAAA,UAAA;AAAA,YACC,IAAA;AAAA,YAEA,KAAA;AAAA,YACA,aAAA;AAAA,YACA,YAAY,KAAA,KAAU,KAAA;AAAA,YACtB;AAAA,WAAA;AAAA,UAJK,IAAA,IAAQ;AAAA,SAMhB,CAAA;AAAA,QACA,KAAA,CAAM;AAAA,OAAA,EACT;AAAA;AAAA,GACF;AAEJ;ACjGO,SAAS,UAAA,CAAW;AAAA,EACzB,QAAA;AAAA,EACA,SAAA;AAAA,EACA,KAAA,GAAQ,SAAA;AAAA,EACR,GAAG;AACL,CAAA,EAAkC;AAChC,EAAA,MAAM,EAAE,UAAA,EAAY,QAAA,EAAS,GAAI,aAAA,EAAc;AAE/C,EAAA,uBACEG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,4BAAA,EACZ,QAAA,EAAA;AAAA,IAAMW,OAAA,CAAA,QAAA,CAAS,GAAA,CAAI,QAAA,EAAU,CAAC,KAAA,KAAU;AACvC,MAAA,IAAI,CAAC,OAAO,OAAO,KAAA;AAEnB,MAAA,OAAaA,OAAA,CAAA,YAAA,CAAa,OAA6B,UAAU,CAAA;AAAA,KAClE,CAAA;AAAA,oBACDd,GAAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACE,GAAG,KAAA;AAAA,QACJ,GAAA,EAAK,cAAA,CAAe,KAAA,CAAM,GAAA,EAAK,QAAQ,CAAA;AAAA,QACvC,SAAA,EAAW,EAAA,CAAG,qCAAA,EAAuC,SAAS,CAAA;AAAA,QAC9D,KAAA;AAAA,QACA,IAAA,EAAK;AAAA;AAAA;AACP,GAAA,EACF,CAAA;AAEJ;ACJO,SAAS,WAAA,CAAY;AAAA,EAC1B,SAAA;AAAA,EACA,KAAA;AAAA,EACA,MAAA;AAAA,EACA,YAAA;AAAA,EACA,WAAA;AAAA,EACA,iBAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAqB;AACnB,EAAA,MAAM,QAAQ,oBAAA,CAAqB;AAAA,IACjC,KAAA;AAAA,IACA,MAAA;AAAA,IACA,YAAA;AAAA,IACA;AAAA,GACD,CAAA;AACD,EAAA,MAAM,EAAE,UAAA,EAAY,aAAA,EAAc,GAAI,gBAAgB,KAAK,CAAA;AAE3D,EAAA,uBACEA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAW,EAAA,CAAG,gCAAgC,SAAS,CAAA,EAAI,GAAG,KAAA,EACjE,QAAA,kBAAAA,GAAAA;AAAA,IAAC,sBAAA;AAAA,IAAA;AAAA,MACC,KAAA;AAAA,MACA,QAAQ,KAAA,CAAM,cAAA;AAAA,MACd,WAAA;AAAA,MAEA,QAAA,kBAAAA,GAAAA,CAAC,UAAA,EAAA,EAAY,GAAG,YACd,QAAA,kBAAAG,IAAAA;AAAA,QAAC,gBAAA;AAAA,QAAA;AAAA,UACC,SAAA,EAAW,EAAA;AAAA,YACT,cAAA,CAAe;AAAA,cACb,IAAA,EAAM,MAAA;AAAA,cACN,OAAA,EAAS;AAAA,aACV,CAAA;AAAA,YACD;AAAA,WACF;AAAA,UACC,GAAG,aAAA;AAAA,UAEJ,QAAA,EAAA;AAAA,4BAAAH,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,SAAA,EAAU,QAAA,EAAA,QAAA,EAAM,CAAA;AAAA,4BAChCA,IAAC,QAAA,EAAA,EAAS;AAAA;AAAA;AAAA,OACZ,EACF;AAAA;AAAA,GACF,EACF,CAAA;AAEJ;AC9CO,SAAS,kBAAA,CAAmB;AAAA,EACjC,SAAA;AAAA,EACA,UAAA;AAAA,EACA,KAAA;AAAA,EACA,MAAA;AAAA,EACA,YAAA;AAAA,EACA,WAAA;AAAA,EACA,iBAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA4B;AAC1B,EAAA,uBACEG,KAAC,KAAA,EAAA,EAAI,SAAA,EAAW,GAAG,eAAA,EAAiB,SAAS,CAAA,EAAI,GAAG,KAAA,EAClD,QAAA,EAAA;AAAA,oBAAAH,GAAAA,CAAC,gBAAA,EAAA,EAAiB,KAAA,EAAM,eAAA,EACtB,QAAA,kBAAAA,GAAAA;AAAA,MAAC,WAAA;AAAA,MAAA;AAAA,QACC,KAAA;AAAA,QACA,SAAA,EAAU,MAAA;AAAA,QACV,MAAA;AAAA,QACA,YAAA;AAAA,QACA,WAAA;AAAA,QACA;AAAA;AAAA,KACF,EACF,CAAA;AAAA,oBACAA,GAAAA,CAAC,gBAAA,EAAA,EAAiB,KAAA,EAAM,kBACtB,QAAA,kBAAAA,GAAAA;AAAA,MAAC,sBAAA;AAAA,MAAA;AAAA,QACC,KAAA;AAAA,QACA,SAAA,EAAU,MAAA;AAAA,QACV,MAAA;AAAA,QACA;AAAA;AAAA,KACF,EACF,CAAA;AAAA,IACC,KAAA,oBACCA,GAAAA,CAAC,gBAAA,EAAA,EACC,QAAA,kBAAAG,KAAC,gBAAA,EAAA,EAAiB,SAAA,EAAU,KAAA,EAAM,OAAA,EAAS,UAAA,EACzC,QAAA,EAAA;AAAA,sBAAAH,IAAC,UAAA,EAAA,EAAW,CAAA;AAAA,sBACZA,GAAAA,CAAC,MAAA,EAAA,EAAK,QAAA,EAAA,OAAA,EAAK;AAAA,KAAA,EACb,CAAA,EACF;AAAA,GAAA,EAEJ,CAAA;AAEJ;AAEO,IAAM,WAAA,GAAoBe,OAAA,CAAA,IAAA;AAAA,EAC/B,kBAAA;AAAA,EACA,CAAC,IAAA,EAAM,IAAA,KACL,IAAA,CAAK,KAAA,KAAU,IAAA,CAAK,KAAA,IACpB,IAAA,CAAK,MAAA,KAAW,IAAA,CAAK,MAAA,IACrB,IAAA,CAAK,iBAAiB,IAAA,CAAK;AAC/B,CAAA;ACjDO,SAAS,iBAAA,CAAkB;AAAA,EAChC,QAAA;AAAA,EACA,QAAA;AAAA,EACA;AACF,CAAA,EAA2B;AACzB,EAAA,MAAM,QAAQ,yBAAA,CAA0B;AAAA,IACtC,aAAA,EAAe,IAAA;AAAA,IACf,MAAA,EAAQ,cAAA;AAAA,IACR,YAAA,EAAc,qBAAA;AAAA,IACd;AAAA,GACD,CAAA;AAED,EAAA,MAAM,EAAE,WAAA,EAAa,SAAA,EAAU,GAAI,qBAAqB,KAAK,CAAA;AAE7D,EAAA,uBACEZ,IAAAA,CAAC,YAAA,EAAA,EAAa,KAAA,EAAO,KAAA,EAAQ,GAAG,SAAA,EAC9B,QAAA,EAAA;AAAA,oBAAAH,GAAAA,CAAC,mBAAA,EAAA,EAAoB,OAAA,EAAO,IAAA,EAC1B,QAAA,kBAAAA,GAAAA,CAAC,aAAA,EAAA,EAAc,OAAA,EAAmB,GAAG,WAAA,EAClC,QAAA,EACH,CAAA,EACF,CAAA;AAAA,oBAEAA,GAAAA,CAAC,mBAAA,EAAA,EAAoB,KAAA,EAAM,SACzB,QAAA,kBAAAA,GAAAA;AAAA,MAAC,WAAA;AAAA,MAAA;AAAA,QACC,KAAA,EAAO,KAAA,CAAM,aAAA,IAAiB,KAAA,CAAM,KAAA;AAAA,QACpC,YAAY,KAAA,CAAM,UAAA;AAAA,QAClB,QAAQ,KAAA,CAAM,MAAA;AAAA,QACd,cAAc,KAAA,CAAM,YAAA;AAAA,QACpB,aAAa,KAAA,CAAM,mBAAA;AAAA,QACnB,mBAAmB,KAAA,CAAM;AAAA;AAAA,KAC3B,EACF;AAAA,GAAA,EACF,CAAA;AAEJ;ACpCO,IAAM,cAAA,GAAiB,cAAA;AAAA,EAC5B,kBAAA;AAAA,EACA;AAAA,IACE,QAAA,EAAU;AAAA,MACR,SAAS,CAAC,EAAE,KAAK,KAAA,EAAO,SAAA,EAAW,MAAK,KAAM;AAC5C,QAAA,IAAI,OAAO,KAAA,CAAM,MAAA;AACjB,QAAA,IAAI,KAAA,GAAQ,KAAA;AAEZ,QAAA,MAAM,wBAAwB,MAAM;AAClC,UAAA,SAAA,CAAU,YAAY,IAAI,CAAA;AAC1B,UAAA,KAAA,GAAQ,IAAA;AAAA,SACV;AAEA,QAAA,IAAI,CAAC,aAAA,CAAc,IAAI,CAAA,EAAG,qBAAA,EAAsB;AAEhD,QAAA,OAAO,KAAK,aAAA,EAAe;AACzB,UAAA,IAAI,KAAK,SAAA,CAAU,QAAA,CAAS,CAAA,MAAA,EAAS,IAAI,EAAE,CAAA,EAAG;AAC5C,YAAA,MAAM,aAAA,GAAgB,GAAA,CAAI,OAAA,CAAS,IAAA,EAAK;AAExC,YAAA,IAAI,CAAC,aAAA,EAAe;AAClB,cAAA,qBAAA,EAAsB;AAEtB,cAAA;AAAA;AAGF,YAAA,MAAM,KAAK,GAAA,CAAI,OAAA,CAAS,MAAA,CAAO,aAAA,CAAc,CAAC,CAAC,CAAA;AAE/C,YAAA,SAAA,CAAU,UAAA,EAAY,MAAM,IAAI,CAAA;AAChC,YAAA,KAAA,GAAQ,IAAA;AAER,YAAA;AAAA;AAGF,UAAA,IAAA,GAAO,IAAA,CAAK,aAAA;AAAA;AAGd,QAAA,IAAI,CAAC,OAAO,qBAAA,EAAsB;AAAA;AACpC,KACF;AAAA,IACA,OAAA,EAAS;AAAA,MACP,QAAA,EAAU,IAAA;AAAA,MACV,eAAA,EAAiB,IAAA;AAAA,MACjB,MAAA,EAAQ,CAAC,cAAA,EAAgB,cAAc,CAAA;AAAA,MACvC,OAAA,EAAS,IAAA;AAAA,MACT,aAAA,sBAAmB,GAAA;AAAI,KACzB;AAAA,IACA,QAAA,EAAU,CAAC,EAAE,MAAA,EAAQ,YAAW,KAAM;AACpC,MAAA,MAAM,EAAE,MAAA,EAAO,GAAI,UAAA,EAAW;AAC9B,MAAA,UAAA;AAAA,QACE,MAAA;AAAA,QACA,CAAC,CAAA,KAAM;AACL,UAAA,IAAI,CAAC,OAAO,SAAA,EAAW;AAEvB,UAAA,CAAA,CAAE,cAAA,EAAe;AAEjB,UAAA,IAAI,CAAC,MAAA,CAAO,GAAA,CAAI,UAAA,EAAW,EAAG;AAAA,SAChC;AAAA,QACA;AAAA,UACE,uBAAA,EAAyB;AAAA;AAC3B,OACF;AAAA;AACF;AAEJ,CAAA;ACzEO,SAAS,oBAAA,GAAuB;AACrC,EAAA,MAAM,EAAE,MAAA,EAAQ,SAAA,EAAW,EAAA,EAAG,GAAIgB,gBAAgB,cAAc,CAAA;AAEhE,EAAA,MAAM,sBAAA,GAA+BC,oBAAY,MAAM;AACrD,IAAA,IAAI,CAAC,OAAO,SAAA,EAAW;AAEvB,IAAA,EAAA,CAAG,QAAQ,QAAA,EAAS;AACpB,IAAA,MAAA,CAAO,GAAG,QAAA,EAAS;AACnB,IAAA,SAAA,CAAU,UAAA,EAAY,oBAAoB,CAAA;AAC1C,IAAA,SAAA,CAAU,iBAAA,EAAmB,OAAO,SAAA,CAAU,KAAA,CAAM,KAAK,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA;AAAA,GACtE,EAAG,CAAC,MAAA,CAAO,SAAA,EAAW,OAAO,EAAA,EAAI,SAAA,EAAW,EAAA,CAAG,OAAO,CAAC,CAAA;AAEvD,EAAA,uBACEjB,GAAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,sBAAA;AAAA,MACT,4BAAA,EAA0B,IAAA;AAAA,MAC1B,OAAA,EAAQ,SAAA;AAAA,MAER,QAAA,kBAAAA,IAAC,qBAAA,EAAA,EAAsB;AAAA;AAAA,GACzB;AAEJ;ACfO,IAAM,kBAAA,GAMT;AAAA,EACF,QAAA,EAAU;AAAA,IACR,yBACEG,IAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,WAAA;AAAA,QACV,IAAA,EAAK,MAAA;AAAA,QACL,MAAA,EAAO,cAAA;AAAA,QACP,aAAA,EAAc,OAAA;AAAA,QACd,cAAA,EAAe,OAAA;AAAA,QACf,WAAA,EAAY,GAAA;AAAA,QACZ,OAAA,EAAQ,WAAA;AAAA,QACR,KAAA,EAAM,4BAAA;AAAA,QAEN,QAAA,EAAA;AAAA,0BAAAH,IAAC,QAAA,EAAA,EAAO,EAAA,EAAG,MAAK,EAAA,EAAG,IAAA,EAAK,GAAE,IAAA,EAAK,CAAA;AAAA,0BAC/BA,GAAAA,CAAC,MAAA,EAAA,EAAK,CAAA,EAAE,oCAAA,EAAqC,CAAA;AAAA,0BAC7CA,GAAAA,CAAC,MAAA,EAAA,EAAK,CAAA,EAAE,gBAAA,EAAiB,CAAA;AAAA,0BACzBA,GAAAA,CAAC,MAAA,EAAA,EAAK,CAAA,EAAE,sCAAA,EAAuC;AAAA;AAAA;AAAA,KACjD;AAAA,IAEF,uBACEG,IAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,WAAA;AAAA,QACV,IAAA,EAAK,MAAA;AAAA,QACL,MAAA,EAAO,cAAA;AAAA,QACP,aAAA,EAAc,OAAA;AAAA,QACd,cAAA,EAAe,OAAA;AAAA,QACf,WAAA,EAAY,GAAA;AAAA,QACZ,OAAA,EAAQ,WAAA;AAAA,QACR,KAAA,EAAM,4BAAA;AAAA,QAEN,QAAA,EAAA;AAAA,0BAAAH,IAAC,QAAA,EAAA,EAAO,EAAA,EAAG,MAAK,EAAA,EAAG,IAAA,EAAK,GAAE,IAAA,EAAK,CAAA;AAAA,0BAC/BA,GAAAA,CAAC,MAAA,EAAA,EAAK,CAAA,EAAE,oCAAA,EAAqC,CAAA;AAAA,0BAC7CA,GAAAA,CAAC,MAAA,EAAA,EAAK,CAAA,EAAE,gBAAA,EAAiB,CAAA;AAAA,0BACzBA,GAAAA,CAAC,MAAA,EAAA,EAAK,CAAA,EAAE,sCAAA,EAAuC;AAAA;AAAA;AAAA;AACjD,GAEJ;AAAA,EAEA,MAAA,EAAQ;AAAA,IACN,OAAA,kBAASA,GAAAA,CAAC,QAAA,EAAA,EAAS,WAAU,WAAA,EAAY,CAAA;AAAA,IACzC,KAAA,kBAAOA,GAAAA,CAAC,QAAA,EAAA,EAAS,WAAU,WAAA,EAAY;AAAA,GACzC;AAAA,EAEA,KAAA,EAAO;AAAA,IACL,OAAA,kBAASA,GAAAA,CAAC,QAAA,EAAA,EAAS,WAAU,WAAA,EAAY,CAAA;AAAA,IACzC,KAAA,kBAAOA,GAAAA,CAAC,QAAA,EAAA,EAAS,WAAU,WAAA,EAAY;AAAA,GACzC;AAAA,EAEA,KAAA,EAAO;AAAA,IACL,OAAA,kBAASA,GAAAA,CAAC,SAAA,EAAA,EAAU,WAAU,WAAA,EAAY,CAAA;AAAA,IAC1C,KAAA,kBAAOA,GAAAA,CAAC,SAAA,EAAA,EAAU,WAAU,WAAA,EAAY;AAAA,GAC1C;AAAA,EAEA,QAAA,EAAU;AAAA,IACR,OAAA,kBAASA,GAAAA,CAAC,SAAA,EAAA,EAAU,WAAU,WAAA,EAAY,CAAA;AAAA,IAC1C,KAAA,kBAAOA,GAAAA,CAAC,SAAA,EAAA,EAAU,WAAU,WAAA,EAAY;AAAA,GAC1C;AAAA,EAEA,MAAA,EAAQ;AAAA,IACN,OAAA,kBAASA,GAAAA,CAAC,QAAA,EAAA,EAAS,WAAU,WAAA,EAAY,CAAA;AAAA,IACzC,KAAA,kBAAOA,GAAAA,CAAC,QAAA,EAAA,EAAS,WAAU,WAAA,EAAY;AAAA,GACzC;AAAA,EAEA,OAAA,EAAS;AAAA,IACP,OAAA,kBAASA,GAAAA,CAAC,aAAA,EAAA,EAAc,WAAU,WAAA,EAAY,CAAA;AAAA,IAC9C,KAAA,kBAAOA,GAAAA,CAAC,aAAA,EAAA,EAAc,WAAU,WAAA,EAAY;AAAA,GAC9C;AAAA,EAEA,MAAA,EAAQ;AAAA,IACN,OAAA,kBAASA,GAAAA,CAAC,SAAA,EAAA,EAAU,WAAU,WAAA,EAAY,CAAA;AAAA,IAC1C,KAAA,kBAAOA,GAAAA,CAAC,SAAA,EAAA,EAAU,WAAU,WAAA,EAAY;AAAA,GAC1C;AAAA,EAEA,MAAA,EAAQ;AAAA,IACN,OAAA,kBAASA,GAAAA,CAAC,WAAA,EAAA,EAAY,WAAU,WAAA,EAAY,CAAA;AAAA,IAC5C,KAAA,kBAAOA,GAAAA,CAAC,WAAA,EAAA,EAAY,WAAU,WAAA,EAAY;AAAA,GAC5C;AAAA,EAEA,OAAA,EAAS;AAAA,IACP,OAAA,kBAASA,GAAAA,CAAC,SAAA,EAAA,EAAU,WAAU,WAAA,EAAY,CAAA;AAAA,IAC1C,KAAA,kBAAOA,GAAAA,CAAC,SAAA,EAAA,EAAU,WAAU,WAAA,EAAY;AAAA;AAE5C,CAAA;AAEO,IAAM,gBAAA,GAAmB;AAAA,EAC9B,MAAA,kBAAQA,GAAAA,CAAC,KAAA,EAAA,EAAM,WAAU,qBAAA,EAAsB,CAAA;AAAA,EAC/C,KAAA,kBAAOA,GAAAA,CAAC,UAAA,EAAA,EAAW,WAAU,qBAAA,EAAsB;AACrD,CAAA;AC7EA,IAAMU,OAAAA,GAAeQ,OAAA,CAAA,IAAA;AAAA,EACnB,CAAC,EAAE,KAAA,EAAO,KAAA,EAAO,WAAA,EAAa,UAAS,KAAwB;AAC7D,IAAA,uBACEf,IAAAA;AAAA,MAAC,QAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,wHAAA;AAAA,QACV,OAAA,EAAS,MAAM,QAAA,CAAS,KAAK,CAAA;AAAA,QAC7B,YAAA,EAAc,MAAM,WAAA,CAAY,KAAK,CAAA;AAAA,QACrC,YAAA,EAAc,MAAM,WAAA,EAAY;AAAA,QAChC,YAAA,EAAY,KAAA,CAAM,KAAA,CAAM,CAAC,CAAA,CAAE,MAAA;AAAA,QAC3B,YAAA,EAAY,KAAA;AAAA,QACZ,QAAA,EAAU,EAAA;AAAA,QACV,IAAA,EAAK,QAAA;AAAA,QAEL,QAAA,EAAA;AAAA,0BAAAH,GAAAA;AAAA,YAAC,KAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAU,iEAAA;AAAA,cACV,aAAA,EAAY;AAAA;AAAA,WACd;AAAA,0BACAA,GAAAA;AAAA,YAAC,MAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAU,UAAA;AAAA,cACV,KAAA,EAAO;AAAA,gBACL,UAAA,EACE;AAAA,eACJ;AAAA,cACA,gBAAA,EAAe,QAAA;AAAA,cAEd,QAAA,EAAA,KAAA,CAAM,KAAA,CAAM,CAAC,CAAA,CAAE;AAAA;AAAA;AAClB;AAAA;AAAA,KACF;AAAA;AAGN,CAAA;AACAU,OAAAA,CAAO,WAAA,GAAc,QAAA;AAErB,IAAM,YAAA,GAAqBQ,OAAA,CAAA,IAAA;AAAA,EACzB,CAAC,EAAE,YAAA,EAAc,GAAA,EAAK,aAAa,aAAA,EAAc,qBAC/ClB,GAAAA,CAAC,KAAA,EAAA,EAAiB,WAAU,MAAA,EAAO,YAAA,EAAY,IAAI,EAAA,EAChD,QAAA,EAAA,GAAA,CAAI,SAAS,GAAA,CAAI,CAAC,OAAA,EAAS,KAAA,qBAC1BA,GAAAA;AAAA,IAACU,OAAAA;AAAA,IAAA;AAAA,MAEC,WAAA;AAAA,MACA,QAAA,EAAU,aAAA;AAAA,MACV,KAAA,EAAO,YAAA,CAAa,QAAA,CAAS,OAAO,CAAA;AAAA,MACpC;AAAA,KAAA;AAAA,IAJK;AAAA,GAMR,CAAA,EAAA,EATO,GAAA,CAAI,EAUd;AAEJ,CAAA;AACA,YAAA,CAAa,WAAA,GAAc,cAAA;AAEpB,SAAS,kBAAA,CAAmB;AAAA,EACjC,YAAA;AAAA,EACA,IAAA;AAAA,EACA,WAAA,GAAc,KAAA;AAAA,EACd,IAAA;AAAA,EACA,YAAA;AAAA,EACA,QAAA,GAAW,aAAA;AAAA,EACX,iBAAA;AAAA,EACA,WAAA;AAAA,EACA;AACF,CAAA,EAA4B;AAC1B,EAAA,MAAM,WAAA,GAAc,QAAA,CAAS,OAAA,CAAQ,KAAA,GAAQ,SAAS,UAAA,CAAW,KAAA;AAEjE,EAAA,MAAM,iBAAA,GAA0BQ,OAAA,CAAA,WAAA;AAAA,IAC9B,CAAC,UAAA,KAAoB;AACnB,MAAA,OAAO,kBAAkB,GAAA,CAAI,UAAU,IACnC,iBAAA,CAAkB,GAAA,CAAI,UAAU,CAAA,GAChC,KAAA;AAAA,KACN;AAAA,IACA,CAAC,iBAAiB;AAAA,GACpB;AAEA,EAAA,MAAM,SAAA,GAAkBA,oBAAY,MAAM;AACxC,IAAA,OAAO,YAAA,CACJ,OAAA,EAAQ,CACR,QAAA,EAAS,CACT,IAAI,CAAC,EAAE,EAAA,EAAI,UAAA,EAAW,KAAM;AAC3B,MAAA,MAAM,OAAA,GAAU,YAAA,CAAa,OAAA,EAAQ,CAAE,QAAQ,UAAU,CAAA;AACzD,MAAA,MAAM,EAAE,YAAW,GAAI,QAAA;AAEvB,MAAA,uBACEf,IAAAA;AAAA,QAAC,KAAA;AAAA,QAAA;AAAA,UAEC,KAAK,OAAA,CAAQ,IAAA;AAAA,UACb,KAAA,EAAO,EAAE,KAAA,EAAO,WAAA,EAAY;AAAA,UAC5B,SAAA,EAAS,UAAA;AAAA,UAET,QAAA,EAAA;AAAA,4BAAAH,IAAC,KAAA,EAAA,EAAI,SAAA,EAAU,oFACZ,QAAA,EAAA,IAAA,CAAK,UAAA,CAAW,UAAU,CAAA,EAC7B,CAAA;AAAA,4BACAA,GAAAA;AAAA,cAAC,KAAA;AAAA,cAAA;AAAA,gBACC,SAAA,EAAU,yBAAA;AAAA,gBACV,KAAA,EAAO,EAAE,MAAA,EAAQ,OAAA,CAAQ,SAAQ,CAAE,MAAA,GAAS,WAAW,KAAA,EAAM;AAAA,gBAE5D,QAAA,EAAA,iBAAA,CAAkB,UAAU,CAAA,IAC3B,OAAA,CACG,SAAQ,CACR,GAAA,CAAI,CAAC,GAAA,qBACJA,GAAAA;AAAA,kBAAC,YAAA;AAAA,kBAAA;AAAA,oBAEC,WAAA;AAAA,oBACA,aAAA;AAAA,oBACA,YAAA;AAAA,oBACA;AAAA,mBAAA;AAAA,kBAJK,GAAA,CAAI;AAAA,iBAMZ;AAAA;AAAA;AACP;AAAA,SAAA;AAAA,QAxBK;AAAA,OAyBP;AAAA,KAEH,CAAA;AAAA,GACL,EAAG;AAAA,IACD,YAAA;AAAA,IACA,WAAA;AAAA,IACA,IAAA,CAAK,UAAA;AAAA,IACL,iBAAA;AAAA,IACA,aAAA;AAAA,IACA,WAAA;AAAA,IACA;AAAA,GACD,CAAA;AAED,EAAA,MAAM,UAAA,GAAmBkB,oBAAY,MAAM;AACzC,IAAA,uBACEf,KAAC,KAAA,EAAA,EAAI,KAAA,EAAO,EAAE,KAAA,EAAO,WAAA,EAAY,EAAG,SAAA,EAAQ,QAAA,EAC1C,QAAA,EAAA;AAAA,sBAAAH,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,uGAAA,EACZ,eAAK,YAAA,EACR,CAAA;AAAA,sBACAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,yBAAA,EACZ,uBAAa,GAAA,CAAI,CAAC,KAAA,EAAc,KAAA,qBAC/BA,GAAAA;AAAA,QAACU,OAAAA;AAAA,QAAA;AAAA,UAEC,WAAA;AAAA,UACA,QAAA,EAAU,aAAA;AAAA,UACV,KAAA,EAAO,YAAA,CAAa,QAAA,CAAS,KAAA,CAAM,EAAE,CAAA;AAAA,UACrC;AAAA,SAAA;AAAA,QAJK,KAAA,CAAM;AAAA,OAMd,CAAA,EACH;AAAA,KAAA,EACF,CAAA;AAAA,GAEJ,EAAG;AAAA,IACD,YAAA;AAAA,IACA,WAAA;AAAA,IACA,IAAA,CAAK,YAAA;AAAA,IACL,YAAA;AAAA,IACA,aAAA;AAAA,IACA;AAAA,GACD,CAAA;AAED,EAAA,uBACEV,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,GAAA,EAAK,KAAK,OAAA,CAAQ,WAAA;AAAA,MAClB,SAAA,EAAW,EAAA;AAAA,QACT,2DAAA;AAAA,QACA,4BAAA;AAAA,QACA,2EAAA;AAAA,QACA,iLAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,SAAA,EAAQ,QAAA;AAAA,MAER,QAAA,kBAAAA,GAAAA,CAAC,KAAA,EAAA,EAAI,GAAA,EAAK,IAAA,CAAK,OAAA,CAAQ,OAAA,EAAS,SAAA,EAAU,QAAA,EACvC,QAAA,EAAA,WAAA,GAAc,UAAA,EAAW,GAAI,WAAU,EAC1C;AAAA;AAAA,GACF;AAEJ;AClKO,SAAS,qBAAA,CAAsB;AAAA,EACpC,YAAA;AAAA,EACA,eAAA;AAAA,EACA,IAAA;AAAA,EACA,KAAA;AAAA,EACA;AACF,CAAA,EAA+B;AAO7B,EAAA,uBACEA,GAAAA,CAAC,eAAA,EAAA,EAAgB,aAAA,EAAe,KAC9B,QAAA,kBAAAA,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,EAAA,EAAG,WAAA;AAAA,MACH,SAAA,EAAU,6DAAA;AAAA,MAEV,0BAAAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,2CAAA,EACZ,uBACE,OAAA,EAAQ,CACR,QAAA,EAAS,CACT,IAAI,CAAC,EAAE,IAAG,qBACTG,KAAC,OAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAH,GAAAA,CAAC,cAAA,EAAA,EAAe,OAAA,EAAO,IAAA,EACrB,QAAA,kBAAAA,GAAAA;AAAA,UAACU,OAAAA;AAAA,UAAA;AAAA,YACC,IAAA,EAAK,IAAA;AAAA,YACL,OAAA,EAAQ,OAAA;AAAA,YACR,SAAA,EAAW,EAAA;AAAA,cACT,wGAAA;AAAA,cACA,OAAO,eAAA,IACL;AAAA,aACJ;AAAA,YACA,SAAS,MAAM;AACb,cAAA,OAAA,CAAQ,EAAE,CAAA;AAAA,aACZ;AAAA,YACA,YAAA,EAAY,IAAA,CAAK,UAAA,CAAW,EAAE,CAAA;AAAA,YAC9B,IAAA,EAAK,QAAA;AAAA,YAEL,QAAA,kBAAAV,IAAC,MAAA,EAAA,EAAK,SAAA,EAAU,kDACb,QAAA,EAAA,KAAA,CAAM,UAAA,CAAW,EAAE,CAAA,CAAE,OAAA,EACxB;AAAA;AAAA,SACF,EACF,CAAA;AAAA,wBACAA,IAAC,cAAA,EAAA,EAAe,IAAA,EAAK,UAClB,QAAA,EAAA,IAAA,CAAK,UAAA,CAAW,EAAE,CAAA,EACrB;AAAA,OAAA,EAAA,EAvBY,EAwBd,CACD,CAAA,EAaL;AAAA;AAAA,GACF,EACF,CAAA;AAEJ;ACxFA,SAAS,YAAA,CAAa,EAAE,KAAA,EAAM,EAAsB;AAClD,EAAA,uBACEG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,oEAAA,EACb,QAAA,EAAA;AAAA,oBAAAH,GAAAA,CAAC,SAAI,SAAA,EAAU,2CAAA,EACZ,iBAAO,KAAA,CAAM,CAAC,EAAE,MAAA,EACnB,CAAA;AAAA,oBACAG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,sBAAA,EACb,QAAA,EAAA;AAAA,sBAAAH,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,gCAAA,EAAkC,iBAAO,IAAA,EAAK,CAAA;AAAA,sBAC7DA,IAAC,KAAA,EAAA,EAAI,SAAA,EAAU,oBAAoB,QAAA,EAAA,CAAA,CAAA,EAAI,KAAA,EAAO,EAAE,CAAA,CAAA,CAAA,EAAI;AAAA,KAAA,EACtD;AAAA,GAAA,EACF,CAAA;AAEJ;AAEA,SAAS,OAAA,CAAQ,EAAE,IAAA,EAAK,EAAwB;AAC9C,EAAA,uBACEG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,oEAAA,EACb,QAAA,EAAA;AAAA,oBAAAH,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,2CAAA,EAA4C,QAAA,EAAA,WAAA,EAAE,CAAA;AAAA,oBAC7DG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,sBAAA,EACb,QAAA,EAAA;AAAA,sBAAAH,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,4BAAA,EACZ,eAAK,oBAAA,EACR,CAAA;AAAA,sBACAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,kBAAA,EAAoB,eAAK,uBAAA,EAAwB;AAAA,KAAA,EAClE;AAAA,GAAA,EACF,CAAA;AAEJ;AAEA,SAAS,WAAA,CAAY,EAAE,IAAA,EAAK,EAA4B;AACtD,EAAA,uBACEG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,oEAAA,EACb,QAAA,EAAA;AAAA,oBAAAH,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,2CAAA,EAA4C,QAAA,EAAA,cAAA,EAAE,CAAA;AAAA,oBAC7DA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,sBAAA,EACb,QAAA,kBAAAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,gCAAA,EAAkC,QAAA,EAAA,IAAA,CAAK,IAAA,EAAK,CAAA,EAC7D;AAAA,GAAA,EACF,CAAA;AAEJ;AAEO,SAAS,kBAAA,CAAmB;AAAA,EACjC,KAAA;AAAA,EACA,QAAA,GAAW,IAAA;AAAA,EACX,IAAA;AAAA,EACA,WAAA,GAAc,KAAA;AAAA,EACd,GAAG;AACL,CAAA,EAA4B;AAC1B,EAAA,MAAM,aAAA,GAAgB,CAAC,KAAA,KAAU,CAAC,WAAA,IAAe,QAAA,CAAA;AACjD,EAAA,MAAM,WAAA,GAAc,eAAe,CAAC,QAAA;AACpC,EAAA,MAAM,WAAA,GAAc,KAAA,IAAS,CAAC,WAAA,IAAe,CAAC,WAAA;AAE9C,EAAA,uBACEG,IAAAA,CAAAgB,QAAAA,EAAA,EACG,QAAA,EAAA;AAAA,IAAA,WAAA,oBAAenB,GAAAA,CAAC,YAAA,EAAA,EAAa,KAAA,EAAe,GAAG,KAAA,EAAO,CAAA;AAAA,IACtD,iCAAiBA,GAAAA,CAAC,WAAA,EAAA,EAAY,IAAA,EAAa,GAAG,KAAA,EAAO,CAAA;AAAA,IACrD,+BAAeA,GAAAA,CAAC,OAAA,EAAA,EAAQ,IAAA,EAAa,GAAG,KAAA,EAAO;AAAA,GAAA,EAClD,CAAA;AAEJ;AC1DO,SAAS,yBAAA,CAA0B;AAAA,EACxC,WAAA;AAAA,EACA,IAAA;AAAA,EACA;AACF,CAAA,EAAmC;AACjC,EAAA,uBACEG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,mCAAA,EACb,QAAA,EAAA;AAAA,oBAAAH,GAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAW,EAAA;AAAA,UACT;AAAA,SACF;AAAA,QAEC,QAAA,EAAA,gBAAA,CAAiB;AAAA;AAAA,KACpB;AAAA,IACC,+BACCA,GAAAA;AAAA,MAACU,OAAAA;AAAA,MAAA;AAAA,QACC,IAAA,EAAK,MAAA;AAAA,QACL,OAAA,EAAQ,OAAA;AAAA,QACR,SAAA,EAAW,EAAA;AAAA,UACT;AAAA,SACF;AAAA,QACA,OAAA,EAAS,WAAA;AAAA,QACT,OAAO,IAAA,CAAK,KAAA;AAAA,QACZ,YAAA,EAAW,OAAA;AAAA,QACX,IAAA,EAAK,QAAA;AAAA,QAEJ,QAAA,EAAA,gBAAA,CAAiB;AAAA;AAAA;AACpB,GAAA,EAEJ,CAAA;AAEJ;ACnCO,SAAS,oBAAA,CAAqB;AAAA,EACnC,QAAA;AAAA,EACA,IAAA;AAAA,EACA,WAAA;AAAA,EACA;AACF,CAAA,EAA8B;AAC5B,EAAA,uBACEV,IAAC,KAAA,EAAA,EAAI,SAAA,EAAU,0BACb,QAAA,kBAAAG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,iCAAA,EACb,QAAA,EAAA;AAAA,oBAAAH,GAAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,0JAAA;AAAA,QACV,KAAA,EAAO,WAAA;AAAA,QACP,UAAU,CAAC,KAAA,KAAU,SAAA,CAAU,KAAA,CAAM,OAAO,KAAK,CAAA;AAAA,QACjD,aAAa,IAAA,CAAK,MAAA;AAAA,QAClB,YAAA,EAAW,QAAA;AAAA,QACX,YAAA,EAAa,KAAA;AAAA,QACb,IAAA,EAAK,MAAA;AAAA,QACL,SAAA,EAAS;AAAA;AAAA,KACX;AAAA,IACC;AAAA,GAAA,EACH,CAAA,EACF,CAAA;AAEJ;ACjBO,SAAS,WAAA,CAAY;AAAA,EAC1B,WAAA;AAAA,EACA,KAAA;AAAA,EACA,YAAA;AAAA,EACA,eAAA;AAAA,EACA,QAAA;AAAA,EACA,IAAA;AAAA,EACA,KAAA;AAAA,EACA,WAAA;AAAA,EACA,IAAA;AAAA,EACA,YAAA;AAAA,EACA,WAAA;AAAA,EACA,SAAA;AAAA,EACA,QAAA,GAAWoB,aAAAA;AAAA,EACX,iBAAA;AAAA,EACA,mBAAA;AAAA,EACA,WAAA;AAAA,EACA;AACF,CAAA,EAAuB;AACrB,EAAA,uBACEjB,IAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,6DAAA;AAAA,QACA;AAAA,OACF;AAAA,MAEA,QAAA,EAAA;AAAA,wBAAAH,GAAAA;AAAA,UAAC,qBAAA;AAAA,UAAA;AAAA,YACC,OAAA,EAAS,mBAAA;AAAA,YACT,YAAA;AAAA,YACA,eAAA;AAAA,YACA,IAAA;AAAA,YACA;AAAA;AAAA,SACF;AAAA,wBACAA,GAAAA;AAAA,UAAC,oBAAA;AAAA,UAAA;AAAA,YACC,IAAA;AAAA,YACA,WAAA;AAAA,YACA,SAAA;AAAA,YAEA,QAAA,kBAAAA,GAAAA;AAAA,cAAC,yBAAA;AAAA,cAAA;AAAA,gBACC,WAAA;AAAA,gBACA,IAAA;AAAA,gBACA;AAAA;AAAA;AACF;AAAA,SACF;AAAA,wBACAA,GAAAA;AAAA,UAAC,kBAAA;AAAA,UAAA;AAAA,YACC,WAAA;AAAA,YACA,aAAA;AAAA,YACA,YAAA;AAAA,YACA,IAAA;AAAA,YACA,WAAA;AAAA,YACA,IAAA;AAAA,YACA,YAAA;AAAA,YACA,QAAA;AAAA,YACA;AAAA;AAAA,SACF;AAAA,wBACAA,GAAAA;AAAA,UAAC,kBAAA;AAAA,UAAA;AAAA,YACC,KAAA;AAAA,YACA,QAAA;AAAA,YACA,IAAA;AAAA,YACA;AAAA;AAAA;AACF;AAAA;AAAA,GACF;AAEJ;AClEO,SAAS,oBAAA,CAAqB;AAAA,EACnC,QAAA;AAAA,EACA,OAAA;AAAA,EACA,MAAA;AAAA,EACA;AACF,CAAA,EAA8B;AAC5B,EAAA,uBACEG,IAAAA,CAASkB,gBAAA,CAAA,IAAA,EAAR,EAAa,IAAA,EAAM,MAAA,EAAQ,cAAc,SAAA,EACxC,QAAA,EAAA;AAAA,oBAAArB,GAAAA,CAASqB,gBAAA,CAAA,OAAA,EAAR,EAAgB,OAAA,EAAO,MAAE,QAAA,EAAA,OAAA,EAAQ,CAAA;AAAA,oBAElCrB,GAAAA,CAASqB,gBAAA,CAAA,MAAA,EAAR,EACC,QAAA,kBAAArB,GAAAA,CAASqB,gBAAA,CAAA,OAAA,EAAR,EAAgB,SAAA,EAAU,OAAA,EAAS,QAAA,EAAS,CAAA,EAC/C;AAAA,GAAA,EACF,CAAA;AAEJ;ACVO,SAAS,iBAAA,CAAkB;AAAA,EAChC,OAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA2B;AACzB,EAAA,MAAM,EAAE,gBAAA,EAAkB,MAAA,EAAQ,SAAA,EAAU,GAC1C,0BAA0B,OAAO,CAAA;AAEnC,EAAA,uBACErB,GAAAA;AAAA,IAAC,oBAAA;AAAA,IAAA;AAAA,MACC,OAAA,kBACEA,GAAAA,CAAC,aAAA,EAAA,EAAc,SAAS,MAAA,EAAQ,OAAA,EAAQ,OAAA,EAAQ,UAAA,EAAU,MAAE,GAAG,KAAA,EAC7D,QAAA,kBAAAA,GAAAA,CAAC,SAAM,CAAA,EACT,CAAA;AAAA,MAEF,MAAA;AAAA,MACA,SAAA;AAAA,MAEA,QAAA,kBAAAA,GAAAA;AAAA,QAAC,WAAA;AAAA,QAAA;AAAA,UACE,GAAG,gBAAA;AAAA,UACJ,KAAA,EAAO;AAAA,YACL,UAAA,EAAY,kBAAA;AAAA,YACZ,MAAA,EAAQ;AAAA,WACV;AAAA,UACA,MAAA;AAAA,UACA,SAAA;AAAA,UACA,UAAU,OAAA,EAAS;AAAA;AAAA;AACrB;AAAA,GACF;AAEJ;AC3CO,SAAS,wBAAwB,KAAA,EAA0B;AAChE,EAAA,uBACEA,GAAAA;AAAA,IAAC,YAAA;AAAA,IAAA;AAAA,MACC,EAAA,EAAG,YAAA;AAAA,MACH,SAAA,EAAU,6BAAA;AAAA,MACT,GAAG;AAAA;AAAA,GACN;AAEJ;ACNO,SAAS,uBACd,KAAA,EACA;AACA,EAAA,uBACEA,GAAAA;AAAA,IAACsB,YAAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,87BAAA;AAAA,MACT,GAAG,KAAA;AAAA,MAEJ,0BAAAtB,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,iCAAA,EACb,0BAAAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,mGAAA,EACb,0BAAAA,GAAAA,CAAC,MAAA,EAAA,EAAM,QAAA,EAAA,KAAA,CAAM,QAAA,EAAS,GACxB,CAAA,EACF;AAAA;AAAA,GACF;AAEJ;ACfO,SAAS,eAAe,KAAA,EAAuB;AACpD,EAAA,uBACEA,GAAAA;AAAA,IAAC,SAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,EAAA,EAAG,MAAA;AAAA,MACH,SAAA,EAAU,iFAAA;AAAA,MAET,QAAA,EAAA,KAAA,CAAM;AAAA;AAAA,GACT;AAEJ;ACZO,SAAS,sBAAsB,KAAA,EAA0B;AAC9D,EAAA,uBAAOA,GAAAA,CAACsB,YAAAA,EAAA,EAAc,GAAG,KAAA,EAAO,CAAA;AAClC;ACFO,SAAS,qBAAqB,KAAA,EAAuB;AAC1D,EAAA,MAAM,cAAA,GAAiB,MAAM,IAAA,CAAK,SAAA;AAElC,EAAA,uBAAOtB,GAAAA,CAACuB,SAAAA,EAAA,EAAU,SAAA,EAAW,cAAA,EAAiB,GAAG,KAAA,EAAO,CAAA;AAC1D;ACFO,SAAS,oBAAoB,KAAA,EAA0C;AAC5E,EAAA,MAAM,EAAE,KAAA,EAAM,GAAI,KAAA,CAAM,OAAA;AAExB,EAAA,uBACEvB,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,uBAAA,EAAwB,KAAA,EAAO,EAAE,KAAA,EAAO,KAAA,IAAS,MAAA,EAAO,EACrE,QAAA,kBAAAA,GAAAA;AAAA,IAACsB,YAAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,iEAAA;AAAA,MACT,GAAG,KAAA;AAAA,MAEJ,0BAAAtB,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,iDAAA,EACZ,gBAAM,QAAA,EACT;AAAA;AAAA,GACF,EACF,CAAA;AAEJ;ACfO,SAAS,yBAAyB,KAAA,EAA0B;AACjE,EAAA,uBACEA,GAAAA,CAACsB,YAAAA,EAAA,EAAa,WAAU,MAAA,EAAQ,GAAG,KAAA,EACjC,QAAA,kBAAAtB,IAAC,KAAA,EAAA,EAAI,SAAA,EAAU,wBAAA,EAA0B,QAAA,EAAA,KAAA,CAAM,UAAS,CAAA,EAC1D,CAAA;AAEJ;ACLO,SAAS,kBAAkB,KAAA,EAAqC;AACrE,EAAA,uBACEA,GAAAA;AAAA,IAACuB,SAAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,SAAA,EAAU,kDAAA;AAAA,MAET,QAAA,EAAA,KAAA,CAAM;AAAA;AAAA,GACT;AAEJ;ACTO,SAAS,kBAAkB,KAAA,EAAwC;AACxE,EAAA,MAAM,EAAE,SAAQ,GAAI,KAAA;AAEpB,EAAA,uBACEpB,IAAAA,CAACmB,YAAAA,EAAA,EAAa,SAAA,EAAU,cAAA,EAAgB,GAAG,KAAA,EACzC,QAAA,EAAA;AAAA,oBAAAtB,IAAC,MAAA,EAAA,EAAK,SAAA,EAAU,sDAAA,EACb,QAAA,EAAA,OAAA,CAAQ,QACN,MAAM;AACL,MAAA,MAAM,KAAA,uBAAY,IAAA,EAAK;AACvB,MAAA,MAAM,WAAA,GAAc,IAAI,IAAA,CAAK,OAAA,CAAQ,IAAI,CAAA;AACzC,MAAA,MAAM,UACJ,WAAA,CAAY,OAAA,EAAQ,KAAM,KAAA,CAAM,SAAQ,IACxC,WAAA,CAAY,QAAA,EAAS,KAAM,MAAM,QAAA,EAAS,IAC1C,YAAY,WAAA,EAAY,KAAM,MAAM,WAAA,EAAY;AAElD,MAAA,MAAM,WAAA,GACJ,IAAI,IAAA,CAAK,KAAA,CAAM,QAAQ,KAAA,CAAM,OAAA,EAAQ,GAAI,CAAC,CAAC,CAAA,CAAE,YAAA,EAAa,KAC1D,YAAY,YAAA,EAAa;AAC3B,MAAA,MAAM,UAAA,GACJ,IAAI,IAAA,CAAK,KAAA,CAAM,QAAQ,KAAA,CAAM,OAAA,EAAQ,GAAI,CAAC,CAAC,CAAA,CAAE,YAAA,EAAa,KAC1D,YAAY,YAAA,EAAa;AAE3B,MAAA,IAAI,SAAS,OAAO,OAAA;AACpB,MAAA,IAAI,aAAa,OAAO,WAAA;AACxB,MAAA,IAAI,YAAY,OAAO,UAAA;AAEvB,MAAA,OAAO,WAAA,CAAY,mBAAmB,MAAA,EAAW;AAAA,QAC/C,GAAA,EAAK,SAAA;AAAA,QACL,KAAA,EAAO,MAAA;AAAA,QACP,IAAA,EAAM;AAAA,OACP,CAAA;AAAA,QACA,mBAEHA,GAAAA,CAAC,MAAA,EAAA,EAAK,yBAAW,CAAA,EAErB,CAAA;AAAA,IACC,KAAA,CAAM;AAAA,GAAA,EACT,CAAA;AAEJ;ACvCA,IAAM,eAAA,GAAkBS,IAAI,eAAA,EAAiB;AAAA,EAC3C,QAAA,EAAU;AAAA,IACR,OAAA,EAAS;AAAA,MACP,EAAA,EAAI,iDAAA;AAAA,MACJ,EAAA,EAAI,qEAAA;AAAA,MACJ,EAAA,EAAI,kEAAA;AAAA,MACJ,EAAA,EAAI,+DAAA;AAAA,MACJ,EAAA,EAAI,kDAAA;AAAA,MACJ,EAAA,EAAI;AAAA;AACN;AAEJ,CAAC,CAAA;AAEM,SAAS,oBAAA,CAAqB;AAAA,EACnC,OAAA,GAAU,IAAA;AAAA,EACV,GAAG;AACL,CAAA,EAA6D;AAC3D,EAAA,uBACET,GAAAA;AAAA,IAACsB,YAAAA;AAAA,IAAA;AAAA,MACC,EAAA,EAAI,OAAA;AAAA,MACJ,SAAA,EAAW,eAAA,CAAgB,EAAE,OAAA,EAAS,CAAA;AAAA,MACrC,GAAG,KAAA;AAAA,MAEH,QAAA,EAAA,KAAA,CAAM;AAAA;AAAA,GACT;AAEJ;AC3BO,SAAS,oBAAoB,KAAA,EAAuB;AACzD,EAAA,uBACEtB,GAAAA,CAACuB,SAAAA,EAAA,EAAW,GAAG,KAAA,EAAO,EAAA,EAAG,MAAA,EAAO,SAAA,EAAU,8BAAA,EACvC,QAAA,EAAA,KAAA,CAAM,QAAA,EACT,CAAA;AAEJ;ACJO,SAAS,gBAAgB,KAAA,EAA0B;AACxD,EAAA,uBACEpB,IAAAA,CAACmB,YAAAA,EAAA,EAAc,GAAG,KAAA,EAChB,QAAA,EAAA;AAAA,oBAAAtB,IAAC,KAAA,EAAA,EAAI,SAAA,EAAU,kBAAA,EAAmB,eAAA,EAAiB,OACjD,QAAA,kBAAAA,GAAAA;AAAA,MAAC,IAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAW,EAAA;AAAA,UACT;AAAA;AACF;AAAA,KACF,EACF,CAAA;AAAA,IACC,KAAA,CAAM;AAAA,GAAA,EACT,CAAA;AAEJ;ACXO,SAAS,mBACd,KAAA,EACA;AACA,EAAA,MAAM,EAAE,KAAA,GAAQ,QAAA,EAAU,SAAS,GAAA,EAAK,KAAA,KAAU,KAAA,CAAM,OAAA;AAExD,EAAA,uBACEG,IAAAA,CAACmB,YAAAA,EAAA,EAAc,GAAG,KAAA,EAAO,WAAU,QAAA,EACjC,QAAA,EAAA;AAAA,oBAAAtB,GAAAA,CAAC,YAAO,SAAA,EAAU,iCAAA,EAAkC,OAAO,EAAE,KAAA,IAC3D,QAAA,kBAAAG,IAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,kCAAA;AAAA,QACV,KAAA,EAAO,EAAE,SAAA,EAAW,KAAA,EAAM;AAAA,QAE1B,QAAA,EAAA;AAAA,0BAAAH,GAAAA;AAAA,YAAC,KAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAW,EAAA;AAAA,gBACT,oDAAA;AAAA,gBACA;AAAA,eACF;AAAA,cACA,GAAA,EAAM,MAAM,UAAA,CAAmB,GAAA;AAAA,cAC/B,GAAA,EAAK;AAAA;AAAA,WACP;AAAA,UACC,OAAA,oBACCA,GAAAA,CAAC,YAAA,EAAA,EAAW,SAAA,EAAU,kCAAA,EACnB,QAAA,EAAA,OAAA,CAAQ,MAAA,CAAO,OAAA,CAAQ,CAAC,CAAC,CAAA,EAC5B;AAAA;AAAA;AAAA,KAEJ,EACF,CAAA;AAAA,IACC,KAAA,CAAM;AAAA,GAAA,EACT,CAAA;AAEJ;ACnCO,IAAM,UAAA,GAAa,CACxB,KAAA,KACG;AACH,EAAA,MAAM,EAAE,SAAQ,GAAI,KAAA;AAEpB,EAAA,uBACEA,GAAAA,CAAC,KAAA,EAAA,EAAI,eAAA,EAAiB,OACpB,QAAA,kBAAAA,GAAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,aAAA;AAAA,MACV,OAAO,EAAE,IAAA,EAAM,KAAK,QAAA,EAAU,UAAA,EAAY,KAAK,EAAA,EAAG;AAAA,MAClD,oCAAA,EAAkC,IAAA;AAAA,MAClC,eAAA,EAAiB,KAAA;AAAA,MAEf,QAAA,EAAA,OAAA,CAA2B,MAAA,GAAS,CAAA,KAAM,CAAA,GAAI,WAAA,GAAO;AAAA;AAAA,GACzD,EACF,CAAA;AAEJ,CAAA;AAEO,IAAM,eAAA,GAAkB,CAAC,KAAA,KAAmC;AACjE,EAAA,MAAM,EAAE,UAAS,GAAI,KAAA;AAErB,EAAA,uBAAOA,GAAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,aAAa,QAAA,EAAS,CAAA;AAC7C,CAAA;ACpBO,SAAS,iBACd,KAAA,EACA;AACA,EAAA,uBACEA,GAAAA,CAAC,KAAA,EAAA,EAAI,eAAA,EAAiB,OACpB,QAAA,kBAAAA,GAAAA;AAAA,IAAC,cAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,4CAAA;AAAA,MACV,OAAA,EAAS,MAAM,OAAA,CAAQ;AAAA;AAAA,GACzB,EACF,CAAA;AAEJ;AAEO,SAAS,aAAa,KAAA,EAAgC;AAC3D,EAAA,uBACEA,GAAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,WAAA;AAAA,QACC,KAAA,CAAM,QAAQ,OAAA,IACb;AAAA,OACJ;AAAA,MAEC,QAAA,EAAA,KAAA,CAAM;AAAA;AAAA,GACT;AAEJ;AAQA,SAAS,eAAe,KAAA,EAA4B;AAClD,EAAA,uBACEA,GAAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,6QAAA;AAAA,QACA,KAAA,CAAM;AAAA,OACR;AAAA,MACA,OAAO,KAAA,CAAM,KAAA;AAAA,MACb,YAAA,EAAY,KAAA,CAAM,OAAA,GAAU,SAAA,GAAY,WAAA;AAAA,MACxC,IAAA,EAAK,QAAA;AAAA,MAEL,QAAA,kBAAAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAW,GAAG,+CAA+C,CAAA,EAC/D,QAAA,EAAA,KAAA,CAAM,OAAA,oBAAWA,GAAAA,CAACwB,SAAAA,EAAA,EAAU,SAAA,EAAU,UAAS,CAAA,EAClD;AAAA;AAAA,GACF;AAEJ;ACnDO,SAAS,cAAc,KAAA,EAAuB;AACnD,EAAA,uBACExB,GAAAA;AAAA,IAACuB,SAAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,EAAA,EAAG,KAAA;AAAA,MACH,SAAA,EAAU,seAAA;AAAA,MAET,QAAA,EAAA,KAAA,CAAM;AAAA;AAAA,GACT;AAEJ;ACTO,SAAS,kBAAkB,KAAA,EAAwC;AACxE,EAAA,uBACEvB,GAAAA;AAAA,IAACsB,YAAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,EAAA,EAAG,GAAA;AAAA,MACH,SAAA,EAAU,0EAAA;AAAA,MAET,QAAA,EAAA,KAAA,CAAM;AAAA;AAAA,GACT;AAEJ;ACVO,SAAS,wBACd,KAAA,EACA;AACA,EAAA,uBACEnB,IAAAA,CAACmB,YAAAA,EAAA,EAAc,GAAG,KAAA,EAAO,WAAU,MAAA,EACjC,QAAA,EAAA;AAAA,oBAAAtB,GAAAA,CAAC,YAAO,SAAA,EAAU,+BAAA,EAChB,0BAAAA,GAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,MAAA,EACb,QAAA,kBAAAA,IAAC,OAAA,EAAA,EAAM,SAAA,EAAU,aAAY,GAAA,EAAK,KAAA,CAAM,QAAQ,GAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,CAAA,EAChE,CAAA,EACF,CAAA;AAAA,IACC,KAAA,CAAM;AAAA,GAAA,EACT,CAAA;AAEJ;ACZO,SAAS,uBAAuB,KAAA,EAAwC;AAC7E,EAAA,MAAM,EAAE,IAAA,EAAM,GAAA,EAAI,GAAI,KAAA,CAAM,OAAA;AAE5B,EAAA,uBACEG,IAAAA,CAACmB,YAAAA,EAAA,EAAa,SAAA,EAAU,kBAAA,EAAoB,GAAG,KAAA,EAC7C,QAAA,EAAA;AAAA,oBAAAtB,GAAAA;AAAA,MAAC,GAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,4FAAA;AAAA,QACV,eAAA,EAAiB,KAAA;AAAA,QACjB,QAAA,EAAU,IAAA;AAAA,QACV,IAAA,EAAM,GAAA;AAAA,QACN,GAAA,EAAI,qBAAA;AAAA,QACJ,IAAA,EAAK,QAAA;AAAA,QACL,MAAA,EAAO,QAAA;AAAA,QAEP,QAAA,kBAAAG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,6BAAA,EACb,QAAA,EAAA;AAAA,0BAAAH,GAAAA,CAAC,MAAA,EAAA,EAAO,SAAA,EAAU,QAAA,EAAS,CAAA;AAAA,0BAC3BA,GAAAA,CAAC,KAAA,EAAA,EAAK,QAAA,EAAA,IAAA,EAAK;AAAA,SAAA,EACb;AAAA;AAAA,KACF;AAAA,IACC,KAAA,CAAM;AAAA,GAAA,EACT,CAAA;AAEJ;ACtBO,SAAS,wBACd,KAAA,EACA;AACA,EAAA,MAAM,EAAE,KAAA,GAAQ,QAAA,EAAU,SAAS,GAAA,EAAK,KAAA,KAAU,KAAA,CAAM,OAAA;AAExD,EAAA,uBACEG,IAAAA,CAACmB,YAAAA,EAAA,EAAa,SAAA,EAAU,QAAA,EAAU,GAAG,KAAA,EACnC,QAAA,EAAA;AAAA,oBAAAtB,IAAC,KAAA,EAAA,EAAI,KAAA,EAAO,EAAE,SAAA,EAAW,KAAA,IACvB,QAAA,kBAAAG,IAAAA;AAAA,MAAC,QAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,gDAAA;AAAA,QACV,KAAA,EAAO,EAAE,KAAA,EAAM;AAAA,QAEf,QAAA,EAAA;AAAA,0BAAAH,GAAAA;AAAA,YAAC,OAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAU,gDAAA;AAAA,cACV,GAAA,EAAK,GAAA;AAAA,cACL,QAAA,EAAQ;AAAA;AAAA,WACV;AAAA,UACC,OAAA,oBAAWA,GAAAA,CAAC,YAAA,EAAA,EAAY,QAAA,EAAAyB,QAAQ,MAAA,CAAO,OAAA,CAAQ,CAAC,CAAC,CAAA,EAAE;AAAA;AAAA;AAAA,KACtD,EACF,CAAA;AAAA,IACC,KAAA,CAAM;AAAA,GAAA,EACT,CAAA;AAEJ;ACtBO,SAAS,qBACd,KAAA,EAGA;AACA,EAAA,MAAM,EAAE,QAAO,GAAI,KAAA;AACnB,EAAA,MAAM,UAAU,KAAA,CAAM,OAAA;AAEtB,EAAA,uBACEzB,GAAAA;AAAA,IAACsB,YAAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,mFAAA;AAAA,QACA,OAAA,CAAQ,QAAA,CAAS,CAAC,CAAA,CAAE,SAAS,IAAA,IAAQ,WAAA;AAAA,QACrC,OAAA,CAAQ,QAAA,CAAS,CAAC,CAAA,CAAE,WAAW,IAAA,IAAQ,QAAA;AAAA,QACvC,OAAA,CAAQ,QAAA,CAAS,CAAC,CAAA,CAAE,cAAc,IAAA,IAAQ;AAAA,OAC5C;AAAA,MACA,oBAAkB,OAAA,CAAQ,KAAA;AAAA,MACzB,GAAG,KAAA;AAAA,MAEH,QAAA,EAAA,QAAA;AAAA;AAAA,wBAECnB,IAAAA,CAAOuB,OAAA,CAAA,QAAA,EAAN,EACE,QAAA,EAAA;AAAA,UAAA,KAAA,CAAM,QAAA;AAAA,UACN,MAAA;AAAA,UACA,OAAA,CAAQ;AAAA,SAAA,EACX;AAAA;AAAA;AAAA,wBAGAvB,IAAAA,CAAOuB,OAAA,CAAA,QAAA,EAAN,EACE,QAAA,EAAA;AAAA,UAAA,MAAA;AAAA,UACA,OAAA,CAAQ,KAAA;AAAA,UACR,KAAA,CAAM;AAAA,SAAA,EACT;AAAA;AAAA;AAAA,GAEJ;AAEJ;ACrCO,SAAS,uBAAuB,KAAA,EAA0B;AAC/D,EAAA,uBACE1B,GAAAA,CAACsB,YAAAA,EAAA,EAAc,GAAG,KAAA,EAAO,SAAA,EAAW,EAAA,CAAG,eAAe,CAAA,EACnD,QAAA,EAAA,KAAA,CAAM,QAAA,EACT,CAAA;AAEJ;ACJO,SAAS,sBAAA,CAAuB;AAAA,EACrC,QAAA;AAAA,EACA,GAAG;AACL,CAAA,EAEG;AACD,EAAA,MAAM,EAAE,MAAA,EAAQ,OAAA,EAAQ,GAAI,KAAA;AAC5B,EAAA,MAAM,EAAE,GAAA,EAAI,GAAI,MAAA,CAAO,UAAU,eAAe,CAAA;AAEhD,EAAA,MAAM,EAAE,WAAW,KAAA,EAAM,GAAI,IAAI,KAAA,CAAM,WAAA,CAAY,EAAE,OAAA,EAAS,CAAA;AAC9D,EAAA,MAAM,UAAU,GAAA,CAAI,KAAA,CAAM,cAAA,CAAe,EAAE,SAAS,CAAA;AAEpD,EAAA,uBACEtB,GAAAA;AAAA,IAACsB,YAAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,EAAA,EAAI,WAAW,IAAA,GAAO,IAAA;AAAA,MACtB,SAAA,EAAW,EAAA;AAAA,QACT,uDAAA;AAAA,QACA,OAAA,CAAQ,aAAa,uBAAA,GAA0B,eAAA;AAAA,QAC/C,QAAA,IAAY,6BAAA;AAAA,QACZ,kBAAA;AAAA,QACA,0EAAA;AAAA,QACA,OAAA,IACE,EAAA;AAAA,UACE,OAAA,CAAQ,QAAQ,IAAA,IAAQ,CAAA,sCAAA,CAAA;AAAA,UACxB,OAAA,CAAQ,OAAO,IAAA,IAAQ,CAAA,sCAAA,CAAA;AAAA,UACvB,OAAA,CAAQ,MAAM,IAAA,IAAQ,CAAA,sCAAA,CAAA;AAAA,UACtB,OAAA,CAAQ,KAAK,IAAA,IAAQ,CAAA,sCAAA;AAAA;AACvB,OACJ;AAAA,MACA,KAAA,EACE;AAAA,QACE,oBAAoB,OAAA,CAAQ,UAAA;AAAA,QAC5B,UAAU,KAAA,IAAS,GAAA;AAAA,QACnB,UAAU,KAAA,IAAS;AAAA,OACrB;AAAA,MAEF,UAAA,EAAY;AAAA,QACV,GAAG,KAAA,CAAM,UAAA;AAAA,QACT,OAAA,EAAS,GAAA,CAAI,KAAA,CAAM,UAAA,CAAW,OAAO,CAAA;AAAA,QACrC,OAAA,EAAS,GAAA,CAAI,KAAA,CAAM,UAAA,CAAW,OAAO;AAAA,OACvC;AAAA,MAEA,QAAA,kBAAAtB,GAAAA;AAAA,QAAC,KAAA;AAAA,QAAA;AAAA,UACC,SAAA,EAAU,2CAAA;AAAA,UACV,KAAA,EAAO,EAAE,SAAA,EAAU;AAAA,UAElB,QAAA,EAAA,KAAA,CAAM;AAAA;AAAA;AACT;AAAA,GACF;AAEJ;AAEO,SAAS,6BACd,KAAA,EACA;AACA,EAAA,uBAAOA,GAAAA,CAAC,sBAAA,EAAA,EAAwB,GAAG,KAAA,EAAO,UAAQ,IAAA,EAAC,CAAA;AACrD;AC3DO,SAAS,kBAAA,CAAmB;AAAA,EACjC,QAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAqC;AACnC,EAAA,MAAM,EAAE,iBAAA,EAAkB,GAAI,KAAA,CAAM,MAAA,CAAO,WAAW2B,eAAe,CAAA;AACrE,EAAA,MAAM,UAAA,GAAa,iBAAA,GAAoB,CAAA,GAAI,KAAA,CAAM,OAAA,CAAQ,UAAA;AAEzD,EAAA,uBACE3B,GAAAA;AAAA,IAACsB,YAAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,SAAA,EAAU,sBAAA;AAAA,MACV,KAAA,EAAO,EAAE,WAAA,EAAa,UAAA,EAAW;AAAA,MAEjC,0BAAAtB,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,4BAAA,EACb,0BAAAA,GAAAA,CAAC,OAAA,EAAA,EAAM,SAAA,EAAU,mDAAA,EACf,0BAAAA,GAAAA,CAAC,OAAA,EAAA,EAAM,WAAU,YAAA,EAAc,QAAA,EAAS,GAC1C,CAAA,EACF;AAAA;AAAA,GACF;AAEJ;ACtBO,SAAS,sBAAsB,KAAA,EAA0B;AAC9D,EAAA,uBACEA,GAAAA,CAACsB,YAAAA,EAAA,EAAc,GAAG,KAAA,EAAO,EAAA,EAAG,IAAA,EAAK,SAAA,EAAU,QAAA,EACxC,QAAA,EAAA,KAAA,CAAM,QAAA,EACT,CAAA;AAEJ;ACGA,IAAM,mBAAA,GAAsBb,GAAAA;AAAA,EAC1B,gNAAA;AAAA,EACA;AAAA,IACE,QAAA,EAAU;AAAA,MACR,KAAA,EAAO;AAAA,QACL,CAAA,EAAG,QAAA;AAAA,QACH,CAAA,EAAG,WAAA;AAAA,QACH,CAAA,EAAG;AAAA;AACL;AACF;AAEJ,CAAA;AAEO,SAAS,iBAAiB,KAAA,EAA0B;AACzD,EAAA,MAAM,EAAE,QAAO,GAAI,KAAA;AACnB,EAAA,MAAM,WAAA,GAAc,eAAe,MAAM,CAAA;AAEzC,EAAA,uBACEN,IAAAA,CAACmB,YAAAA,EAAA,EAAc,GAAG,KAAA,EAAO,WAAU,UAAA,EACjC,QAAA,EAAA;AAAA,oBAAAtB,GAAAA,CAAC,SACE,QAAA,EAAA,WAAA,CAAY,MAAA,GAAS,IACpB,WAAA,CAAY,GAAA,CAAI,CAAC,IAAA,qBACfA,GAAAA;AAAA,MAACU,OAAAA;AAAA,MAAA;AAAA,QAEC,OAAA,EAAQ,OAAA;AAAA,QACR,WAAW,mBAAA,CAAoB;AAAA,UAC7B,OAAO,IAAA,CAAK;AAAA,SACb,CAAA;AAAA,QAEA,QAAA,EAAA,IAAA,CAAK;AAAA,OAAA;AAAA,MAND,IAAA,CAAK;AAAA,KAQb,oBAEDV,GAAAA,CAAC,SAAI,SAAA,EAAU,uBAAA,EAAwB,gEAEvC,CAAA,EAEJ,CAAA;AAAA,IACC,KAAA,CAAM;AAAA,GAAA,EACT,CAAA;AAEJ;AAEA,IAAM,YAAA,GAAuC;AAAA,EAC3C,CAAC,YAAA,CAAa,EAAE,GAAG,CAAA;AAAA,EACnB,CAAC,YAAA,CAAa,EAAE,GAAG,CAAA;AAAA,EACnB,CAAC,YAAA,CAAa,EAAE,GAAG,CAAA;AAAA,EACnB,CAAC,YAAA,CAAa,EAAE,GAAG,CAAA;AAAA,EACnB,CAAC,YAAA,CAAa,EAAE,GAAG,CAAA;AAAA,EACnB,CAAC,YAAA,CAAa,EAAE,GAAG;AACrB,CAAA;AAEA,IAAM,cAAA,GAAiB,CAAC,MAAA,KAAyB;AAC/C,EAAA,IAAI,CAAC,MAAA,EAAQ,OAAO,EAAC;AAErB,EAAA,MAAM,OAAA,GAAU,MAAA,CAAO,UAAA,CAAW,aAAa,CAAA;AAE/C,EAAA,IAAI,QAAQ,YAAA,EAAc;AACxB,IAAA,OAAO,OAAA,CAAQ,aAAa,MAAM,CAAA;AAAA;AAGpC,EAAA,MAAM,cAAyB,EAAC;AAEhC,EAAA,MAAM,MAAA,GAAS,MAAA,CAAO,GAAA,CAAI,KAAA,CAAgB;AAAA,IACxC,IAAI,EAAC;AAAA,IACL,KAAA,EAAO,CAAC,CAAA,KAAM,SAAA,CAAU,CAAC;AAAA,GAC1B,CAAA;AAED,EAAA,IAAI,CAAC,MAAA,EAAQ,OAAO,EAAC;AAErB,EAAA,KAAA,CAAM,KAAK,MAAA,EAAQ,CAAC,CAAC,IAAA,EAAM,IAAI,CAAA,KAAM;AACnC,IAAA,MAAM,EAAE,MAAK,GAAI,IAAA;AACjB,IAAA,MAAM,KAAA,GAAQyB,OAAAA,CAAQ,MAAA,CAAO,IAAI,CAAA;AACjC,IAAA,MAAM,KAAA,GAAQ,aAAa,IAAI,CAAA;AAC/B,IAAA,MAAM,KAAK,IAAA,CAAK,EAAA;AAEhB,IAAA,IAAI,KAAA,EAAO;AACT,MAAA,WAAA,CAAY,KAAK,EAAE,EAAA,EAAI,OAAO,IAAA,EAAM,KAAA,EAAO,MAAM,CAAA;AAAA;AACnD,GACD,CAAA;AAED,EAAA,OAAO,WAAA;AACT,CAAA;AC1FO,SAAS,oBAAoB,KAAA,EAA0B;AAC5D,EAAA,uBACEtB,IAAAA,CAACmB,YAAAA,EAAA,EAAc,GAAG,KAAA,EAAO,WAAU,MAAA,EACjC,QAAA,EAAA;AAAA,oBAAAtB,GAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,+KAAA;AAAA,QACV,eAAA,EAAiB,KAAA;AAAA,QAEjB,QAAA,kBAAAA,GAAAA,CAAC,YAAA,EAAA,EAAa,SAAA,EAAU,2CAAA,EAA4C;AAAA;AAAA,KACtE;AAAA,IACC,KAAA,CAAM;AAAA,GAAA,EACT,CAAA;AAEJ;ACVO,IAAM,cAAA,GAAiBS,GAAAA;AAAA,EAC5B,EAAA;AAAA,IACE,cAAA;AAAA,IACA,2FAAA;AAAA,IACA,8DAAA;AAAA,IACA,gLAAA;AAAA,IACA;AAAA,GACF;AAAA,EACA;AAAA,IACE,eAAA,EAAiB;AAAA,MACf,OAAA,EAAS;AAAA,KACX;AAAA,IACA,QAAA,EAAU;AAAA,MACR,QAAA,EAAU;AAAA,QACR,IAAA,EAAM;AAAA,OACR;AAAA,MACA,OAAA,EAAS;AAAA,QACP,IAAA,EAAM;AAAA,OACR;AAAA,MACA,OAAA,EAAS;AAAA,QACP,EAAA,EAAI,kCAAA;AAAA,QACJ,MAAA,EACE,6FAAA;AAAA,QACF,OAAA,EACE,wEAAA;AAAA,QACF,IAAA,EAAM,wEAAA;AAAA,QACN,SAAA,EAAW,+CAAA;AAAA,QACX,IAAA,EAAM,EAAA;AAAA,QACN,MAAA,EAAQ;AAAA;AACV;AACF;AAEJ,CAAA;AAEO,SAAS,YAAA,CAAa;AAAA,EAC3B,SAAA;AAAA,EACA,OAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA2D;AACzD,EAAA,uBACET,GAAAA;AAAA,IAAC,WAAA;AAAA,IAAA;AAAA,MACC,WAAW,EAAA,CAAG,cAAA,CAAe,EAAE,OAAA,EAAS,GAAG,SAAS,CAAA;AAAA,MACnD,GAAG;AAAA;AAAA,GACN;AAEJ;AC9CO,SAAS,sBACd,KAAA,EACA;AACA,EAAA,MAAM,EAAE,SAAQ,GAAI,KAAA;AAEpB,EAAA,MAAM,OAAO,eAAA,CAAgB;AAAA,IAC3B,OAAA;AAAA,IACA,OAAA,EAAS;AAAA,MACP,WAAA,EAAa,IAAA;AAAA,MACb,UAAA,EAAY,SAAA;AAAA,MACZ,KAAA,EAAO,KAAA;AAAA,MACP,KAAA,EAAO,KAAA;AAAA,MACP,MAAA,EAAQ,EAAE,KAAA,EAAO,SAAA,EAAU;AAAA,MAC3B,MAAA,EAAQ,eAAA;AAAA,MACR,MAAA,EAAQ,MAAA;AAAA,MACR,YAAA,EAAc,KAAA;AAAA,MACd,KAAA,EAAO;AAAA;AACT,GACD,CAAA;AAED,EAAA,uBACEG,IAAAA,CAACmB,YAAAA,EAAA,EAAa,SAAA,EAAU,MAAA,EAAQ,GAAG,KAAA,EACjC,QAAA,EAAA;AAAA,oBAAAtB,GAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAW,EAAA;AAAA,UACT,sHAAA;AAAA,UACA,OAAA,CAAQ,aAAA,CAAc,MAAA,KAAW,CAAA,GAAI,mBAAA,GAAsB;AAAA,SAC7D;AAAA,QAEC,QAAA,EAAA,OAAA,CAAQ,aAAA,CAAc,MAAA,GAAS,CAAA,mBAC9BA,GAAAA;AAAA,UAAC,MAAA;AAAA,UAAA;AAAA,YACC,uBAAA,EAAyB;AAAA,cACvB,MAAA,EAAQ;AAAA;AACV;AAAA,SACF,mBAEAG,IAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,oFAAA,EACb,QAAA,EAAA;AAAA,0BAAAH,GAAAA,CAAC,WAAA,EAAA,EAAY,SAAA,EAAU,iCAAA,EAAkC,CAAA;AAAA,0BACzDA,GAAAA,CAAC,KAAA,EAAA,EAAI,QAAA,EAAA,oBAAA,EAAkB;AAAA,SAAA,EACzB;AAAA;AAAA,KAEJ;AAAA,IACC,KAAA,CAAM;AAAA,GAAA,EACT,CAAA;AAEJ;AC1CO,SAAS,4BACd,KAAA,EACA;AACA,EAAA,MAAM,OAAO4B,eAAAA,CAAgB;AAAA,IAC3B,SAAS,KAAA,CAAM,OAAA;AAAA,IACf,OAAA,EAAS;AAAA,MACP,WAAA,EAAa,IAAA;AAAA,MACb,UAAA,EAAY,SAAA;AAAA,MACZ,KAAA,EAAO,KAAA;AAAA,MACP,KAAA,EAAO,KAAA;AAAA,MACP,MAAA,EAAQ,EAAE,KAAA,EAAO,SAAA,EAAU;AAAA,MAC3B,MAAA,EAAQ,eAAA;AAAA,MACR,MAAA,EAAQ,MAAA;AAAA,MACR,YAAA,EAAc,KAAA;AAAA,MACd,KAAA,EAAO;AAAA;AACT,GACD,CAAA;AAED,EAAA,uBACEzB,IAAAA;AAAA,IAACmB,YAAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,SAAA,EAAU,6DAAA;AAAA,MAEV,QAAA,EAAA;AAAA,wBAAAtB,GAAAA;AAAA,UAAC,KAAA;AAAA,UAAA;AAAA,YACC,SAAA,EAAW,EAAA;AAAA,cACT,2JAAA;AAAA,cACA,KAAA;AAAA,cACA,KAAA,CAAM,OAAA,CAAQ,aAAA,CAAc,MAAA,KAAW,CAAA,IACrC;AAAA,aACJ;AAAA,YAEA,QAAA,kBAAAA,GAAAA;AAAA,cAAC,MAAA;AAAA,cAAA;AAAA,gBACC,SAAA,EAAW,EAAA;AAAA,kBACT,KAAA,CAAM,OAAA,CAAQ,aAAA,CAAc,MAAA,KAAW,CAAA,IAAK,QAAA;AAAA,kBAC5C;AAAA,iBACF;AAAA,gBACA,uBAAA,EAAyB,EAAE,MAAA,EAAQ,IAAA;AAAK;AAAA;AAC1C;AAAA,SACF;AAAA,QACC,KAAA,CAAM;AAAA;AAAA;AAAA,GACT;AAEJ;ACoEA,IAAM,OAAA,GAAU,qBAAA;AAChB,IAAM,QAAA,GAAW,eAAe,GAAG,CAAA;AAE5B,SAAS,oBAAoB,KAAA,EAA0B;AAC5D,EAAA,MAAM,SAAS6B,YAAAA,EAAa;AAC5B,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAUC,iBAAS,KAAK,CAAA;AAE5C,EAAA,MAAM,YAAY,YAAY;AAC5B,IAAA,MAAM,EAAE,OAAA,EAAS,WAAA,EAAY,GAAI,MAAM,OAAO,iBAAiB,CAAA;AAE/D,IAAA,MAAM,KAAA,GAAQ,QAAA,CAAS,aAAA,CAAc,OAAO,CAAA;AAC5C,IAAA,QAAA,CAAS,IAAA,CAAK,OAAO,KAAK,CAAA;AAE1B,IAAA,MAAM,SAAS,MAAM,WAAA,CAAY,OAAO,GAAA,CAAI,SAAA,CAAU,MAAM,CAAA,EAAI;AAAA,MAC9D,OAAA,EAAS,CAACC,SAAAA,KAAuB;AAC/B,QAAA,MAAM,gBAAgBA,SAAAA,CAAS,aAAA;AAAA,UAC7B;AAAA,SACF;AACA,QAAA,IAAI,aAAA,EAAe;AACjB,UAAA,KAAA,CAAM,IAAA,CAAK,cAAc,gBAAA,CAAiB,GAAG,CAAC,CAAA,CAAE,OAAA,CAAQ,CAAC,OAAA,KAAY;AACnE,YAAA,MAAM,aAAA,GAAgB,OAAA,CAAQ,YAAA,CAAa,OAAO,CAAA,IAAK,EAAA;AACvD,YAAA,OAAA,CAAQ,YAAA;AAAA,cACN,OAAA;AAAA,cACA,GAAG,aAAa,CAAA,6GAAA;AAAA,aAClB;AAAA,WACD,CAAA;AAAA;AACH;AACF,KACD,CAAA;AACD,IAAA,KAAA,CAAM,MAAA,EAAO;AAEb,IAAA,OAAO,MAAA;AAAA,GACT;AAEA,EAAA,MAAM,YAAA,GAAe,OAAO,GAAA,EAAa,QAAA,KAAqB;AAC5D,IAAA,MAAM,QAAA,GAAW,MAAM,KAAA,CAAM,GAAG,CAAA;AAEhC,IAAA,MAAM,IAAA,GAAO,MAAM,QAAA,CAAS,IAAA,EAAK;AACjC,IAAA,MAAM,OAAA,GAAU,MAAA,CAAO,GAAA,CAAI,eAAA,CAAgB,IAAI,CAAA;AAE/C,IAAA,MAAM,IAAA,GAAO,QAAA,CAAS,aAAA,CAAc,GAAG,CAAA;AACvC,IAAA,IAAA,CAAK,IAAA,GAAO,OAAA;AACZ,IAAA,IAAA,CAAK,QAAA,GAAW,QAAA;AAChB,IAAA,QAAA,CAAS,IAAA,CAAK,OAAO,IAAI,CAAA;AACzB,IAAA,IAAA,CAAK,KAAA,EAAM;AACX,IAAA,IAAA,CAAK,MAAA,EAAO;AAGZ,IAAA,MAAA,CAAO,GAAA,CAAI,gBAAgB,OAAO,CAAA;AAAA,GACpC;AAEA,EAAA,MAAM,cAAc,YAAY;AAC9B,IAAA,MAAM,MAAA,GAAS,MAAM,SAAA,EAAU;AAE/B,IAAA,MAAM,MAAA,GAAS,MAAM,OAAO,SAAS,CAAA;AACrC,IAAA,MAAM,MAAA,GAAS,MAAM,MAAA,CAAO,WAAA,CAAY,MAAA,EAAO;AAC/C,IAAA,MAAM,IAAA,GAAO,OAAO,OAAA,CAAQ,CAAC,OAAO,KAAA,EAAO,MAAA,CAAO,MAAM,CAAC,CAAA;AACzD,IAAA,MAAM,aAAa,MAAM,MAAA,CAAO,SAAS,MAAA,CAAO,SAAA,CAAU,KAAK,CAAC,CAAA;AAChE,IAAA,MAAM,EAAE,MAAA,EAAQ,KAAA,EAAM,GAAI,UAAA,CAAW,MAAM,CAAC,CAAA;AAC5C,IAAA,IAAA,CAAK,UAAU,UAAA,EAAY;AAAA,MACzB,MAAA;AAAA,MACA,KAAA;AAAA,MACA,CAAA,EAAG,CAAA;AAAA,MACH,CAAA,EAAG;AAAA,KACJ,CAAA;AACD,IAAA,MAAM,YAAY,MAAM,MAAA,CAAO,aAAa,EAAE,OAAA,EAAS,MAAM,CAAA;AAE7D,IAAA,MAAM,YAAA,CAAa,WAAW,WAAW,CAAA;AAAA,GAC3C;AAEA,EAAA,MAAM,gBAAgB,YAAY;AAChC,IAAA,MAAM,MAAA,GAAS,MAAM,SAAA,EAAU;AAC/B,IAAA,MAAM,YAAA,CAAa,MAAA,CAAO,SAAA,CAAU,WAAW,GAAG,WAAW,CAAA;AAAA,GAC/D;AAEA,EAAA,MAAM,eAAe,YAAY;AAC/B,IAAA,MAAMC,WAAAA,GAAa;AAAA,MACjB,CAAC,eAAA,CAAgB,GAAG,GAAG,uBAAA;AAAA,MACvB,CAAC,oBAAA,CAAqB,GAAG,GAAG,uBAAA;AAAA,MAC5B,CAAC,eAAe,GAAG,GAAG,UAAUT,SAAAA,EAAW,EAAE,EAAA,EAAI,QAAA,EAAU,CAAA;AAAA,MAC3D,CAAC,mBAAA,CAAoB,GAAG,GAAG,sBAAA;AAAA,MAC3B,CAAC,kBAAA,CAAmB,GAAG,GAAG,qBAAA;AAAA,MAC1B,CAAC,cAAA,CAAe,GAAG,GAAG,cAAA;AAAA,MACtB,CAAC,oBAAA,CAAqB,GAAG,GAAG,oBAAA;AAAA,MAC5B,CAAC,oBAAA,CAAqB,GAAG,GAAG,mBAAA;AAAA,MAC5B,CAAC,gBAAA,CAAiB,GAAG,GAAG,wBAAA;AAAA,MACxB,CAACU,kBAAAA,CAAmB,GAAG,GAAG,iBAAA;AAAA,MAC1B,CAAC,cAAA,CAAe,GAAG,GAAG,iBAAA;AAAA,MACtB,CAAC,kBAAA,CAAmB,GAAG,GAAG,qBAAA;AAAA,MAC1B,CAAC,cAAA,CAAe,GAAG,GAAG,sBAAA;AAAA,MACtB,CAAC,mBAAA,CAAoB,GAAG,GAAG,mBAAA;AAAA,MAC3B,CAAC,wBAAA,CAAyB,GAAG,GAAG,eAAA;AAAA,MAChC,CAAC,eAAA,CAAgB,GAAG,GAAG,kBAAA;AAAA,MACvB,CAAC,wBAAA,CAAyB,GAAG,GAAG,2BAAA;AAAA,MAChC,CAAC,iBAAiB,GAAG,GAAG,UAAUV,SAAAA,EAAW,EAAE,EAAA,EAAI,IAAA,EAAM,CAAA;AAAA,MACzD,CAAC,aAAA,CAAc,GAAG,GAAG,aAAA;AAAA,MACrB,CAAC,cAAA,CAAe,GAAG,GAAG,iBAAA;AAAA;AAAA,MAEtB,CAAC,iBAAA,CAAkB,GAAG,GAAG,oBAAA;AAAA,MACzB,CAAC,mBAAA,CAAoB,GAAG,GAAG,sBAAA;AAAA,MAC3B,CAAC,wBAAwB,GAAG,GAAG,UAAUA,SAAAA,EAAW,EAAE,EAAA,EAAI,KAAA,EAAO,CAAA;AAAA,MACjE,CAAC,oBAAoB,GAAG,GAAG,UAAUA,SAAAA,EAAW,EAAE,EAAA,EAAI,KAAA,EAAO,CAAA;AAAA,MAC7D,CAAC,sBAAsB,GAAG,GAAG,UAAUA,SAAAA,EAAW,EAAE,EAAA,EAAI,KAAA,EAAO,CAAA;AAAA,MAC/D,CAAC,yBAAA,CAA0B,GAAG,GAAG,4BAAA;AAAA,MACjC,CAAC,mBAAA,CAAoB,GAAG,GAAG,sBAAA;AAAA,MAC3B,CAACI,eAAAA,CAAgB,GAAG,GAAG,kBAAA;AAAA,MACvB,CAAC,kBAAA,CAAmB,GAAG,GAAG,qBAAA;AAAA,MAC1B,CAACO,aAAAA,CAAc,GAAG,GAAG,gBAAA;AAAA,MACrB,CAAC,gBAAA,CAAiB,GAAG,GAAG,mBAAA;AAAA,MACxB,CAAC,oBAAoB,GAAG,GAAG,UAAUX,SAAAA,EAAW,EAAE,EAAA,EAAI,GAAA,EAAK,CAAA;AAAA,MAC3D,CAAC,eAAA,CAAgB,GAAG,GAAG,uBAAA;AAAA,MACvB,CAACY,aAAa,EAAE,GAAG,UAAU,oBAAA,EAAsB,EAAE,OAAA,EAAS,IAAA,EAAM,CAAA;AAAA,MACpE,CAACA,aAAa,EAAE,GAAG,UAAU,oBAAA,EAAsB,EAAE,OAAA,EAAS,IAAA,EAAM,CAAA;AAAA,MACpE,CAACA,aAAa,EAAE,GAAG,UAAU,oBAAA,EAAsB,EAAE,OAAA,EAAS,IAAA,EAAM,CAAA;AAAA,MACpE,CAACA,aAAa,EAAE,GAAG,UAAU,oBAAA,EAAsB,EAAE,OAAA,EAAS,IAAA,EAAM,CAAA;AAAA,MACpE,CAACA,aAAa,EAAE,GAAG,UAAU,oBAAA,EAAsB,EAAE,OAAA,EAAS,IAAA,EAAM,CAAA;AAAA,MACpE,CAACA,aAAa,EAAE,GAAG,UAAU,oBAAA,EAAsB,EAAE,OAAA,EAAS,IAAA,EAAM;AAAA,KACtE;AAEA,IAAA,MAAM,eAAe,iBAAA,CAAkB;AAAA,MACrC,OAAA,EAAS;AAAA,QACP,gBAAA;AAAA,QACA,oBAAA;AAAA,QACAD,aAAAA;AAAA,QACA,eAAA;AAAA,QACA,eAAA;AAAA,QACA,mBAAA;AAAA,QACA,iBAAA;AAAA,QACA,oBAAA;AAAA,QACA,cAAA;AAAA,QACA,cAAA;AAAA,QACA,gBAAA;AAAA,QACA,uBAAA;AAAA,QACA,mBAAA;AAAA,QACA,qBAAA;AAAA,QACA,mBAAA;AAAA,QACA,oBAAA;AAAA,QACA,cAAA;AAAA,QACA,kBAAA;AAAA,QACA,wBAAA;AAAA,QACA,oBAAoB,SAAA,CAAU;AAAA,UAC5B,OAAA,EAAS;AAAA,YACP;AAAA;AACF,SACD,CAAA;AAAA,QACD,iBAAiB,MAAA,CAAO;AAAA,UACtB,MAAA,EAAQ;AAAA,YACN,aAAA,EAAe;AAAA,cACb,mBAAA,CAAoB,GAAA;AAAA,cACpB,oBAAA,CAAqB,GAAA;AAAA,cACrB,mBAAA,CAAoB;AAAA;AACtB;AACF,SACD,CAAA;AAAA,QACD,qBAAqB,MAAA,CAAO;AAAA,UAC1B,MAAA,EAAQ;AAAA,YACN,aAAA,EAAe;AAAA,cACb,mBAAA,CAAoB,GAAA;AAAA,cACpB,GAAG,cAAA;AAAA,cACH,oBAAA,CAAqB,GAAA;AAAA,cACrB,mBAAA,CAAoB,GAAA;AAAA,cACpB,gBAAA,CAAiB;AAAA;AACnB,WACF;AAAA,UACA,OAAA,EAAS;AAAA,YACP,cAAA,EAAgB;AAAA,cACd,IAAA,EAAM;AAAA,gBACJ,WAAA,EAAa,eAAA;AAAA,gBACb,eAAA,EAAiB,UAAA;AAAA,gBACjB,IAAA,EAAM;AAAA,eACR;AAAA,cACA,IAAA,EAAM;AAAA,gBACJ,WAAA,EAAa,YAAA;AAAA,gBACb,eAAA,EAAiB,gBAAA;AAAA,gBACjB,IAAA,EAAM;AAAA;AACR;AACF;AACF,SACD,CAAA;AAAA,QACD,cAAA;AAAA,QACA,kBAAA;AAAA,QACAP,eAAAA;AAAA,QACA,mBAAA;AAAA,QACA,wBAAA;AAAA,QACA,mBAAA;AAAA,QACA,6BAAA;AAAA,QACA,kBAAA;AAAA,QACA,aAAA;AAAA,QACA,gBAAgB,MAAA,CAAO;AAAA,UACrB,MAAA,EAAQ;AAAA,YACN,aAAA,EAAe;AAAA,cACb,mBAAA,CAAoB,GAAA;AAAA,cACpB,oBAAA,CAAqB,GAAA;AAAA,cACrB,GAAG,cAAA;AAAA,cACH,eAAA,CAAgB;AAAA;AAClB;AACF,SACD,CAAA;AAAA,QACD,oBAAA;AAAA,QACA,mBAAA;AAAA,QACA,cAAA;AAAA,QACA,eAAA;AAAA,QACA,iBAAA;AAAA,QACAM,kBAAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,OAAO,MAAA,CAAO;AAAA,KACf,CAAA;AAED,IAAA,MAAM,UAAA,GAAa,MAAM,aAAA,CAAc,YAAA,EAAc;AAAA,MACnD,UAAA,EAAAD,WAAAA;AAAA,MACA,eAAA,EAAiB,YAAA;AAAA,MACjB,KAAA,EAAO,EAAE,KAAA,EAAO,EAAE,SAAS,qBAAA,EAAuB,aAAA,EAAe,IAAG;AAAE,KACvE,CAAA;AAED,IAAA,MAAM,WAAA,GAAc,gCAAgC,OAAO,CAAA,eAAA,CAAA;AAC3D,IAAA,MAAM,QAAA,GAAW,CAAA,oMAAA,CAAA;AAEjB,IAAA,MAAM,IAAA,GAAO,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,EAYP,WAAW;AAAA,QAAA,EACX,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,EASR,UAAU;AAAA;AAAA,WAAA,CAAA;AAIhB,IAAA,MAAM,GAAA,GAAM,CAAA,6BAAA,EAAgC,kBAAA,CAAmB,IAAI,CAAC,CAAA,CAAA;AAEpE,IAAA,MAAM,YAAA,CAAa,KAAK,YAAY,CAAA;AAAA,GACtC;AAEA,EAAA,MAAM,mBAAmB,YAAY;AACnC,IAAA,MAAM,KAAK,MAAA,CAAO,MAAA,CAAOI,cAAc,CAAA,CAAE,SAAS,SAAA,EAAU;AAC5D,IAAA,MAAM,GAAA,GAAM,CAAA,iCAAA,EAAoC,kBAAA,CAAmB,EAAE,CAAC,CAAA,CAAA;AACtE,IAAA,MAAM,YAAA,CAAa,KAAK,UAAU,CAAA;AAAA,GACpC;AAEA,EAAA,uBACEjC,KAAC,YAAA,EAAA,EAAa,IAAA,EAAY,cAAc,OAAA,EAAS,KAAA,EAAO,KAAA,EAAQ,GAAG,KAAA,EACjE,QAAA,EAAA;AAAA,oBAAAH,IAAC,mBAAA,EAAA,EAAoB,OAAA,EAAO,MAC1B,QAAA,kBAAAA,GAAAA,CAAC,iBAAc,OAAA,EAAS,IAAA,EAAM,SAAQ,QAAA,EAAS,UAAA,EAAU,MACvD,QAAA,kBAAAA,GAAAA,CAAC,uBAAoB,SAAA,EAAU,QAAA,EAAS,GAC1C,CAAA,EACF,CAAA;AAAA,oBAEAA,GAAAA,CAAC,mBAAA,EAAA,EAAoB,OAAM,OAAA,EACzB,QAAA,kBAAAG,KAAC,iBAAA,EAAA,EACC,QAAA,EAAA;AAAA,sBAAAH,GAAAA,CAAC,gBAAA,EAAA,EAAiB,QAAA,EAAU,YAAA,EAAc,QAAA,EAAA,gBAAA,EAE1C,CAAA;AAAA,sBACAA,GAAAA,CAAC,gBAAA,EAAA,EAAiB,QAAA,EAAU,aAAa,QAAA,EAAA,eAAA,EAEzC,CAAA;AAAA,sBACAA,GAAAA,CAAC,gBAAA,EAAA,EAAiB,QAAA,EAAU,eAAe,QAAA,EAAA,iBAAA,EAE3C,CAAA;AAAA,sBACAA,GAAAA,CAAC,gBAAA,EAAA,EAAiB,QAAA,EAAU,kBAAkB,QAAA,EAAA,oBAAA,EAE9C;AAAA,KAAA,EACF,CAAA,EACF;AAAA,GAAA,EACF,CAAA;AAEJ;ACxYO,SAAS,kBACd,KAAA,EACA;AACA,EAAA,MAAM,SAAS6B,YAAAA,EAAa;AAC5B,EAAA,MAAM,QAAA,GAAW,iBAAA;AAAA,IACf,CAACQ,OAAAA,KAAWA,OAAAA,CAAO,OAAA,CAAQ,MAAM,MAAA,KAAW,CAAA;AAAA,IAC5C;AAAC,GACH;AAEA,EAAA,uBACErC,GAAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,QAAA;AAAA,MACA,OAAA,EAAS,MAAM,MAAA,CAAO,IAAA,EAAK;AAAA,MAC3B,WAAA,EAAa,CAAC,CAAA,KAAM,CAAA,CAAE,cAAA,EAAe;AAAA,MACrC,OAAA,EAAQ,MAAA;AAAA,MAER,QAAA,kBAAAA,IAAC,SAAA,EAAA,EAAU;AAAA;AAAA,GACb;AAEJ;AAEO,SAAS,kBACd,KAAA,EACA;AACA,EAAA,MAAM,SAAS6B,YAAAA,EAAa;AAC5B,EAAA,MAAM,QAAA,GAAW,iBAAA;AAAA,IACf,CAACQ,OAAAA,KAAWA,OAAAA,CAAO,OAAA,CAAQ,MAAM,MAAA,KAAW,CAAA;AAAA,IAC5C;AAAC,GACH;AAEA,EAAA,uBACErC,GAAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,QAAA;AAAA,MACA,OAAA,EAAS,MAAM,MAAA,CAAO,IAAA,EAAK;AAAA,MAC3B,WAAA,EAAa,CAAC,CAAA,KAAM,CAAA,CAAE,cAAA,EAAe;AAAA,MACrC,OAAA,EAAQ,MAAA;AAAA,MAER,QAAA,kBAAAA,IAAC,SAAA,EAAA,EAAU;AAAA;AAAA,GACb;AAEJ;AC3BO,SAAS,oBAAoB,KAAA,EAA0B;AAC5D,EAAA,MAAM,SAAS6B,YAAAA,EAAa;AAC5B,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAUS,iBAAS,KAAK,CAAA;AAE5C,EAAA,MAAM,YAAA,GAAe,CAAC,IAAA,EAAc,IAAA,KAAqB;AACvD,IAAA,IAAI,SAAS,MAAA,EAAQ;AACnB,MAAA,MAAM,UAAA,GAAa,2BAA2B,IAAI,CAAA;AAClD,MAAA,MAAM,KAAA,GAAQ,MAAA,CAAO,GAAA,CAAI,IAAA,CAAK,WAAA,CAAY;AAAA,QACxC,OAAA,EAAS;AAAA,OACV,CAAA;AAED,MAAA,OAAO,KAAA;AAAA;AAGT,IAAA,IAAI,SAAS,UAAA,EAAY;AACvB,MAAA,OAAO,OAAO,MAAA,CAAOF,cAAc,CAAA,CAAE,QAAA,CAAS,YAAY,IAAI,CAAA;AAAA;AAGhE,IAAA,OAAO,EAAC;AAAA,GACV;AAEA,EAAA,MAAM,EAAE,cAAA,EAAgB,gBAAA,EAAiB,GAAI,aAAA,CAAc;AAAA,IACzD,MAAA,EAAQ,CAAC,KAAA,EAAO,MAAM,CAAA;AAAA,IACtB,QAAA,EAAU,KAAA;AAAA,IACV,eAAA,EAAiB,OAAO,EAAE,UAAA,EAAW,KAAM;AACzC,MAAA,MAAM,IAAA,GAAO,MAAM,UAAA,CAAW,CAAC,EAAE,IAAA,EAAK;AAEtC,MAAA,MAAM,KAAA,GAAQ,YAAA,CAAa,IAAA,EAAM,UAAU,CAAA;AAE3C,MAAA,MAAA,CAAO,EAAA,CAAG,YAAY,KAAK,CAAA;AAAA;AAC7B,GACD,CAAA;AAED,EAAA,MAAM,EAAE,cAAA,EAAgB,kBAAA,EAAmB,GAAI,aAAA,CAAc;AAAA,IAC3D,MAAA,EAAQ,CAAC,WAAW,CAAA;AAAA,IACpB,QAAA,EAAU,KAAA;AAAA,IACV,eAAA,EAAiB,OAAO,EAAE,UAAA,EAAW,KAAM;AACzC,MAAA,MAAM,IAAA,GAAO,MAAM,UAAA,CAAW,CAAC,EAAE,IAAA,EAAK;AAEtC,MAAA,MAAM,KAAA,GAAQ,YAAA,CAAa,IAAA,EAAM,MAAM,CAAA;AAEvC,MAAA,MAAA,CAAO,EAAA,CAAG,YAAY,KAAK,CAAA;AAAA;AAC7B,GACD,CAAA;AAED,EAAA,uBACEjC,KAAC,YAAA,EAAA,EAAa,IAAA,EAAY,cAAc,OAAA,EAAS,KAAA,EAAO,KAAA,EAAQ,GAAG,KAAA,EACjE,QAAA,EAAA;AAAA,oBAAAH,IAAC,mBAAA,EAAA,EAAoB,OAAA,EAAO,MAC1B,QAAA,kBAAAA,GAAAA,CAAC,iBAAc,OAAA,EAAS,IAAA,EAAM,SAAQ,QAAA,EAAS,UAAA,EAAU,MACvD,QAAA,kBAAAA,GAAAA,CAAC,qBAAkB,SAAA,EAAU,QAAA,EAAS,GACxC,CAAA,EACF,CAAA;AAAA,oBAEAA,GAAAA,CAAC,mBAAA,EAAA,EAAoB,OAAM,OAAA,EACzB,QAAA,kBAAAG,KAAC,iBAAA,EAAA,EACC,QAAA,EAAA;AAAA,sBAAAH,GAAAA;AAAA,QAAC,gBAAA;AAAA,QAAA;AAAA,UACC,UAAU,MAAM;AACd,YAAA,kBAAA,EAAmB;AAAA,WACrB;AAAA,UACD,QAAA,EAAA;AAAA;AAAA,OAED;AAAA,sBAEAA,GAAAA;AAAA,QAAC,gBAAA;AAAA,QAAA;AAAA,UACC,UAAU,MAAM;AACd,YAAA,gBAAA,EAAiB;AAAA,WACnB;AAAA,UACD,QAAA,EAAA;AAAA;AAAA;AAED,KAAA,EACF,CAAA,EACF;AAAA,GAAA,EACF,CAAA;AAEJ;ACjFO,SAAS,uBAAA,CAAwB,EAAE,OAAA,EAAQ,EAAiC;AACjF,EAAA,MAAM,SAAS6B,YAAAA,EAAa;AAE5B,EAAA,MAAM,cAAc,MAAM;AACxB,IAAA,IAAI,YAAY,UAAA,EAAY;AAC1B,MAAA,gBAAA,CAAiB,MAAA,EAAQ;AAAA,QACvB,eAAeU,aAAAA,CAAc;AAAA,OAC9B,CAAA;AAAA,KACH,MAAO;AACL,MAAA,gBAAA,CAAiB,MAAA,EAAQ;AAAA,QACvB,eAAeA,aAAAA,CAAc;AAAA,OAC9B,CAAA;AAAA;AACH,GACF;AAEA,EAAA,uBACEvC,GAAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,WAAA;AAAA,MACT,OAAA,EAAS,OAAA,KAAY,UAAA,GAAa,eAAA,GAAkB,eAAA;AAAA,MAEnD,QAAA,EAAA,OAAA,KAAY,6BAAaA,GAAAA,CAAC,mBAAgB,CAAA,mBAAKA,IAAC,QAAA,EAAA,EAAS;AAAA;AAAA,GAC5D;AAEJ;AC5BO,SAAS,wBACd,KAAA,EACA;AACA,EAAA,MAAM,KAAA,GAAQ,+BAAA,CAAgC,EAAE,QAAA,EAAU,QAAQ,CAAA;AAClE,EAAA,MAAM,EAAE,KAAA,EAAO,WAAA,EAAY,GAAI,2BAA2B,KAAK,CAAA;AAE/D,EAAA,uBACEA,GAAAA,CAAC,aAAA,EAAA,EAAe,GAAG,KAAA,EAAQ,GAAG,WAAA,EAAa,OAAA,EAAQ,MAAA,EACjD,QAAA,kBAAAA,GAAAA,CAAC,YAAA,EAAA,EAAa,CAAA,EAChB,CAAA;AAEJ;ACXO,SAAS,kBACd,KAAA,EACA;AACA,EAAA,MAAM,QAAQ,yBAAA,EAA0B;AACxC,EAAA,MAAM,EAAE,KAAA,EAAO,WAAA,EAAY,GAAI,qBAAqB,KAAK,CAAA;AAEzD,EAAA,uBACEA,GAAAA,CAAC,aAAA,EAAA,EAAe,GAAG,OAAQ,GAAG,WAAA,EAAa,kBAAA,EAAgB,IAAA,EAAC,SAAQ,MAAA,EAClE,QAAA,kBAAAA,GAAAA,CAACwC,IAAAA,EAAA,EAAK,CAAA,EACR,CAAA;AAEJ;ACZO,SAAS,iBAAA,CAAkB;AAAA,EAChC,KAAA;AAAA,EACA,QAAA;AAAA,EACA,GAAG;AACL,CAAA,EAGG;AACD,EAAA,MAAM,KAAA,GAAQ,yBAAA,CAA0B,EAAE,KAAA,EAAO,UAAU,CAAA;AAC3D,EAAA,MAAM,EAAE,KAAA,EAAO,WAAA,EAAY,GAAI,qBAAqB,KAAK,CAAA;AAEzD,EAAA,uBAAOxC,GAAAA,CAAC,aAAA,EAAA,EAAe,GAAG,KAAA,EAAQ,GAAG,WAAA,EAAa,CAAA;AACpD;ACfA,SAAS,WAAA,CAAY;AAAA,EACnB,GAAG;AACL,CAAA,EAA2D;AACzD,EAAA,uBAAOA,GAAAA,CAAsB,oBAAA,CAAA,IAAA,EAArB,EAA0B,WAAA,EAAU,cAAA,EAAgB,GAAG,KAAA,EAAO,CAAA;AACxE;AAUA,SAAS,iBAAA,CAAkB;AAAA,EACzB,GAAG;AACL,CAAA,EAA6D;AAC3D,EAAA,uBACEA,GAAAA,CAAsB,oBAAA,CAAA,MAAA,EAArB,EAA4B,WAAA,EAAU,qBAAA,EAAuB,GAAG,KAAA,EAAO,CAAA;AAE5E;AAEA,SAAS,kBAAA,CAAmB;AAAA,EAC1B,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA8D;AAC5D,EAAA,uBACEA,GAAAA;AAAA,IAAsB,oBAAA,CAAA,OAAA;AAAA,IAArB;AAAA,MACC,WAAA,EAAU,sBAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,wJAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,kBAAA,CAAmB;AAAA,EAC1B,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA8D;AAC5D,EAAA,uBACEG,KAAC,iBAAA,EAAA,EACC,QAAA,EAAA;AAAA,oBAAAH,IAAC,kBAAA,EAAA,EAAmB,CAAA;AAAA,oBACpBA,GAAAA;AAAA,MAAsB,oBAAA,CAAA,OAAA;AAAA,MAArB;AAAA,QACC,WAAA,EAAU,sBAAA;AAAA,QACV,SAAA,EAAW,EAAA;AAAA,UACT,6WAAA;AAAA,UACA;AAAA,SACF;AAAA,QACC,GAAG;AAAA;AAAA;AACN,GAAA,EACF,CAAA;AAEJ;AAEA,SAAS,iBAAA,CAAkB;AAAA,EACzB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAgC;AAC9B,EAAA,uBACEA,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,qBAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,8CAAA,EAAgD,SAAS,CAAA;AAAA,MACtE,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,iBAAA,CAAkB;AAAA,EACzB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAgC;AAC9B,EAAA,uBACEA,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,qBAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,wDAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,gBAAA,CAAiB;AAAA,EACxB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA4D;AAC1D,EAAA,uBACEA,GAAAA;AAAA,IAAsB,oBAAA,CAAA,KAAA;AAAA,IAArB;AAAA,MACC,WAAA,EAAU,oBAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,uBAAA,EAAyB,SAAS,CAAA;AAAA,MAC/C,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,sBAAA,CAAuB;AAAA,EAC9B,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAkE;AAChE,EAAA,uBACEA,GAAAA;AAAA,IAAsB,oBAAA,CAAA,WAAA;AAAA,IAArB;AAAA,MACC,WAAA,EAAU,0BAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,+BAAA,EAAiC,SAAS,CAAA;AAAA,MACvD,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,iBAAA,CAAkB;AAAA,EACzB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA6D;AAC3D,EAAA,uBACEA,GAAAA;AAAA,IAAsB,oBAAA,CAAA,MAAA;AAAA,IAArB;AAAA,MACC,SAAA,EAAW,EAAA,CAAG,cAAA,EAAe,EAAG,SAAS,CAAA;AAAA,MACxC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,iBAAA,CAAkB;AAAA,EACzB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA6D;AAC3D,EAAA,uBACEA,GAAAA;AAAA,IAAsB,oBAAA,CAAA,MAAA;AAAA,IAArB;AAAA,MACC,SAAA,EAAW,GAAG,cAAA,CAAe,EAAE,SAAS,SAAA,EAAW,GAAG,SAAS,CAAA;AAAA,MAC9D,GAAG;AAAA;AAAA,GACN;AAEJ;ACtIA,IAAM,KAAA,GAAcyC,OAAA,CAAA,UAAA;AAAA,EAClB,CAAC,EAAE,SAAA,EAAW,MAAM,GAAG,KAAA,IAAS,GAAA,KAAQ;AACtC,IAAA,uBACEzC,GAAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,GAAA;AAAA,QACA,SAAA,EAAW,EAAA;AAAA,UACT,yWAAA;AAAA,UACA;AAAA,SACF;AAAA,QACA,IAAA;AAAA,QACC,GAAG;AAAA;AAAA,KACN;AAAA;AAGN,CAAA;AACA,KAAA,CAAM,WAAA,GAAc,OAAA;AC2BpB,IAAM,YAAA,GAQF;AAAA,EACF,CAAC0C,WAAAA,CAAY,GAAG,GAAG;AAAA,IACjB,MAAA,EAAQ,CAAC,SAAS,CAAA;AAAA,IAClB,IAAA,kBAAM1C,GAAAA,CAAC,cAAA,EAAA,EAAe,WAAU,QAAA,EAAS,CAAA;AAAA,IACzC,KAAA,EAAO,cAAA;AAAA,IACP,OAAA,EAAS;AAAA,GACX;AAAA,EACA,CAAC2C,UAAAA,CAAW,GAAG,GAAG;AAAA,IAChB,MAAA,EAAQ,CAAC,GAAG,CAAA;AAAA,IACZ,IAAA,kBAAM3C,GAAAA,CAAC,UAAA,EAAA,EAAW,WAAU,QAAA,EAAS,CAAA;AAAA,IACrC,KAAA,EAAO,aAAA;AAAA,IACP,OAAA,EAAS;AAAA,GACX;AAAA,EACA,CAAC4C,WAAAA,CAAY,GAAG,GAAG;AAAA,IACjB,MAAA,EAAQ,CAAC,SAAS,CAAA;AAAA,IAClB,IAAA,kBAAM5C,GAAAA,CAAC,SAAA,EAAA,EAAU,WAAU,QAAA,EAAS,CAAA;AAAA,IACpC,KAAA,EAAO,cAAA;AAAA,IACP,OAAA,EAAS;AAAA,GACX;AAAA,EACA,CAAC6C,WAAAA,CAAY,GAAG,GAAG;AAAA,IACjB,MAAA,EAAQ,CAAC,SAAS,CAAA;AAAA,IAClB,IAAA,kBAAM7C,GAAAA,CAAC,QAAA,EAAA,EAAS,WAAU,QAAA,EAAS,CAAA;AAAA,IACnC,KAAA,EAAO,cAAA;AAAA,IACP,OAAA,EAAS;AAAA;AAEb,CAAA;AAEO,SAAS,kBAAA,CAAmB;AAAA,EACjC,QAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA6C;AAC3C,EAAA,MAAM,aAAA,GAAgB,aAAa,QAAQ,CAAA;AAE3C,EAAA,MAAM,SAAS6B,YAAAA,EAAa;AAC5B,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAUiB,iBAAS,KAAK,CAAA;AAC5C,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAUA,iBAAS,KAAK,CAAA;AAExD,EAAA,MAAM,EAAE,cAAA,EAAe,GAAIC,aAAAA,CAAc;AAAA,IACvC,QAAQ,aAAA,CAAc,MAAA;AAAA,IACtB,QAAA,EAAU,IAAA;AAAA,IACV,eAAA,EAAiB,CAAC,EAAE,UAAA,EAAY,cAAa,KAAM;AACjD,MAAA,MAAA,CAAO,aAAA,CAAc,iBAAiB,CAAA,CAAE,MAAA,CAAO,MAAM,YAAY,CAAA;AAAA;AACnE,GACD,CAAA;AAED,EAAA,uBACE5C,IAAAA,CAAAgB,QAAAA,EAAA,EACE,QAAA,EAAA;AAAA,oBAAAhB,IAAAA;AAAA,MAAC,kBAAA;AAAA,MAAA;AAAA,QACC,SAAS,MAAM;AACb,UAAA,cAAA,EAAe;AAAA,SACjB;AAAA,QACA,SAAA,EAAW,CAAC,CAAA,KAAM;AAChB,UAAA,IAAI,CAAA,CAAE,QAAQ,WAAA,EAAa;AACzB,YAAA,CAAA,CAAE,cAAA,EAAe;AACjB,YAAA,OAAA,CAAQ,IAAI,CAAA;AAAA;AACd,SACF;AAAA,QACA,OAAA,EAAS,IAAA;AAAA,QAET,QAAA,EAAA;AAAA,0BAAAH,GAAAA,CAAC,yBAAA,EAAA,EACE,QAAA,EAAA,aAAA,CAAc,IAAA,EACjB,CAAA;AAAA,0BAEAG,IAAAA;AAAA,YAAC,YAAA;AAAA,YAAA;AAAA,cACC,IAAA;AAAA,cACA,YAAA,EAAc,OAAA;AAAA,cACd,KAAA,EAAO,KAAA;AAAA,cACN,GAAG,KAAA;AAAA,cAEJ,QAAA,EAAA;AAAA,gCAAAH,IAAC,mBAAA,EAAA,EAAoB,OAAA,EAAO,MAC1B,QAAA,kBAAAA,GAAAA,CAAC,+BAA4B,CAAA,EAC/B,CAAA;AAAA,gCAEAA,GAAAA;AAAA,kBAAC,mBAAA;AAAA,kBAAA;AAAA,oBACC,OAAA,EAAS,CAAC,CAAA,KAAM,CAAA,CAAE,eAAA,EAAgB;AAAA,oBAClC,KAAA,EAAM,OAAA;AAAA,oBACN,WAAA,EAAa,GAAA;AAAA,oBAEb,QAAA,kBAAAG,KAAC,iBAAA,EAAA,EACC,QAAA,EAAA;AAAA,sCAAAA,IAAAA,CAAC,gBAAA,EAAA,EAAiB,QAAA,EAAU,MAAM,gBAAe,EAC9C,QAAA,EAAA;AAAA,wBAAA,aAAA,CAAc,IAAA;AAAA,wBAAK;AAAA,uBAAA,EAEtB,CAAA;AAAA,sCACAA,IAAAA,CAAC,gBAAA,EAAA,EAAiB,UAAU,MAAM,aAAA,CAAc,IAAI,CAAA,EAClD,QAAA,EAAA;AAAA,wCAAAH,IAAC,QAAA,EAAA,EAAS,CAAA;AAAA,wBAAE;AAAA,uBAAA,EAEd;AAAA,qBAAA,EACF;AAAA;AAAA;AACF;AAAA;AAAA;AACF;AAAA;AAAA,KACF;AAAA,oBAEAA,GAAAA;AAAA,MAAC,WAAA;AAAA,MAAA;AAAA,QACC,IAAA,EAAM,UAAA;AAAA,QACN,YAAA,EAAc,CAAC,KAAA,KAAU;AACvB,UAAA,aAAA,CAAc,KAAK,CAAA;AAAA,SACrB;AAAA,QAEA,QAAA,kBAAAA,GAAAA,CAAC,kBAAA,EAAA,EAAmB,SAAA,EAAU,SAC5B,QAAA,kBAAAA,GAAAA;AAAA,UAAC,qBAAA;AAAA,UAAA;AAAA,YACC,aAAA;AAAA,YACA,QAAA;AAAA,YACA,OAAA,EAAS;AAAA;AAAA,SACX,EACF;AAAA;AAAA;AACF,GAAA,EACF,CAAA;AAEJ;AAEA,SAAS,qBAAA,CAAsB;AAAA,EAC7B,aAAA;AAAA,EACA,QAAA;AAAA,EACA;AACF,CAAA,EAIG;AACD,EAAA,MAAM,SAAS6B,YAAAA,EAAa;AAC5B,EAAA,MAAM,CAAC,GAAA,EAAK,MAAM,CAAA,GAAUiB,iBAAS,EAAE,CAAA;AAEvC,EAAA,MAAM,UAAA,GAAmBA,oBAAY,MAAM;AACzC,IAAA,IAAI,CAAC,KAAA,CAAM,GAAG,GAAG,OAAO,KAAA,CAAM,MAAM,aAAa,CAAA;AAEjD,IAAA,OAAA,CAAQ,KAAK,CAAA;AACb,IAAA,MAAA,CAAO,GAAG,WAAA,CAAY;AAAA,MACpB,QAAA,EAAU,CAAC,EAAE,IAAA,EAAM,IAAI,CAAA;AAAA,MACvB,IAAA,EAAM,aAAaH,UAAAA,CAAW,GAAA,GAAM,IAAI,KAAA,CAAM,GAAG,CAAA,CAAE,GAAA,EAAI,GAAI,MAAA;AAAA,MAC3D,IAAA,EAAM,QAAA;AAAA,MACN;AAAA,KACD,CAAA;AAAA,KACA,CAAC,GAAA,EAAK,MAAA,EAAQ,QAAA,EAAU,OAAO,CAAC,CAAA;AAEnC,EAAA,uBACExC,IAAAA,CAAAgB,QAAAA,EAAA,EACE,QAAA,EAAA;AAAA,oBAAAnB,IAAC,iBAAA,EAAA,EACC,QAAA,kBAAAA,IAAC,gBAAA,EAAA,EAAkB,QAAA,EAAA,aAAA,CAAc,OAAM,CAAA,EACzC,CAAA;AAAA,oBAEAG,IAAAA,CAAC,sBAAA,EAAA,EAAuB,SAAA,EAAU,uBAAA,EAChC,QAAA,EAAA;AAAA,sBAAAH,GAAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UACC,SAAA,EAAU,olBAAA;AAAA,UACV,OAAA,EAAQ,KAAA;AAAA,UAER,QAAA,kBAAAA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,kCAAiC,QAAA,EAAA,KAAA,EAAG;AAAA;AAAA,OACtD;AAAA,sBACAA,GAAAA;AAAA,QAAC,KAAA;AAAA,QAAA;AAAA,UACC,EAAA,EAAG,KAAA;AAAA,UACH,SAAA,EAAU,QAAA;AAAA,UACV,KAAA,EAAO,GAAA;AAAA,UACP,UAAU,CAAC,CAAA,KAAM,MAAA,CAAO,CAAA,CAAE,OAAO,KAAK,CAAA;AAAA,UACtC,SAAA,EAAW,CAAC,CAAA,KAAM;AAChB,YAAA,IAAI,CAAA,CAAE,GAAA,KAAQ,OAAA,EAAS,UAAA,EAAW;AAAA,WACpC;AAAA,UACA,WAAA,EAAY,EAAA;AAAA,UACZ,IAAA,EAAK,KAAA;AAAA,UACL,SAAA,EAAS;AAAA;AAAA;AACX,KAAA,EACF,CAAA;AAAA,oBAEAG,KAAC,iBAAA,EAAA,EACC,QAAA,EAAA;AAAA,sBAAAH,GAAAA,CAAC,qBAAkB,QAAA,EAAA,QAAA,EAAM,CAAA;AAAA,sBACzBA,GAAAA;AAAA,QAAC,iBAAA;AAAA,QAAA;AAAA,UACC,OAAA,EAAS,CAAC,CAAA,KAAM;AACd,YAAA,CAAA,CAAE,cAAA,EAAe;AACjB,YAAA,UAAA,EAAW;AAAA,WACb;AAAA,UACD,QAAA,EAAA;AAAA;AAAA;AAED,KAAA,EACF;AAAA,GAAA,EACF,CAAA;AAEJ;AC9MO,SAAS,iBAAiB,KAAA,EAA0B;AACzD,EAAA,MAAM,SAAS6B,YAAAA,EAAa;AAC5B,EAAA,MAAM,CAAC,QAAA,EAAU,WAAW,CAAA,GAAI,cAAc,UAAU,CAAA;AACxD,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAUmB,iBAAS,KAAK,CAAA;AAE5C,EAAA,MAAM,YAAA,GAAeC,eAAAA,CAAgBtC,gBAAAA,EAAkB,cAAc,CAAA;AAErE,EAAA,IAAI,KAAA,GAAQ,SAAA;AAEZ,EAAA,IAAI,UAAU,KAAA,GAAQ,SAAA;AAEtB,EAAA,IAAI,cAAc,KAAA,GAAQ,YAAA;AAE1B,EAAA,MAAM,IAAA,GAAiE;AAAA,IACrE,OAAA,EAAS;AAAA,MACP,IAAA,kBAAMX,GAAAA,CAAC,OAAA,EAAA,EAAQ,CAAA;AAAA,MACf,KAAA,EAAO;AAAA,KACT;AAAA,IACA,UAAA,EAAY;AAAA,MACV,IAAA,kBAAMA,GAAAA,CAAC,cAAA,EAAA,EAAe,CAAA;AAAA,MACtB,KAAA,EAAO;AAAA,KACT;AAAA,IACA,OAAA,EAAS;AAAA,MACP,IAAA,kBAAMA,GAAAA,CAAC,OAAA,EAAA,EAAQ,CAAA;AAAA,MACf,KAAA,EAAO;AAAA;AACT,GACF;AAEA,EAAA,uBACEG,KAAC,YAAA,EAAA,EAAa,IAAA,EAAY,cAAc,OAAA,EAAS,KAAA,EAAO,KAAA,EAAQ,GAAG,KAAA,EACjE,QAAA,EAAA;AAAA,oBAAAH,GAAAA,CAAC,mBAAA,EAAA,EAAoB,OAAA,EAAO,IAAA,EAC1B,QAAA,kBAAAG,IAAAA,CAAC,aAAA,EAAA,EAAc,OAAA,EAAS,IAAA,EAAM,OAAA,EAAQ,cAAA,EAAe,UAAA,EAAU,IAAA,EAC5D,QAAA,EAAA;AAAA,MAAA,IAAA,CAAK,KAAK,CAAA,CAAE,IAAA;AAAA,sBACbH,IAAC,MAAA,EAAA,EAAK,SAAA,EAAU,oBAAoB,QAAA,EAAA,IAAA,CAAK,KAAK,EAAE,KAAA,EAAM;AAAA,KAAA,EACxD,CAAA,EACF,CAAA;AAAA,oBAEAA,GAAAA,CAAC,mBAAA,EAAA,EAAoB,WAAU,eAAA,EAAgB,KAAA,EAAM,SACnD,QAAA,kBAAAG,IAAAA;AAAA,MAAC,sBAAA;AAAA,MAAA;AAAA,QACC,KAAA;AAAA,QACA,aAAA,EAAe,CAAC,QAAA,KAAa;AAC3B,UAAA,IAAI,aAAa,SAAA,EAAW;AAC1B,YAAA,WAAA,CAAY,IAAI,CAAA;AAEhB,YAAA;AAAA,WACF,MAAO;AACL,YAAA,WAAA,CAAY,KAAK,CAAA;AAAA;AAGnB,UAAA,IAAI,aAAa,YAAA,EAAc;AAC7B,YAAA,MAAA,CAAO,SAAA,CAAUQ,gBAAAA,EAAkB,cAAA,EAAgB,IAAI,CAAA;AAEvD,YAAA;AAAA,WACF,MAAO;AACL,YAAA,MAAA,CAAO,SAAA,CAAUA,gBAAAA,EAAkB,cAAA,EAAgB,KAAK,CAAA;AAAA;AAG1D,UAAA,IAAI,aAAa,SAAA,EAAW;AAC1B,YAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAEhB,YAAA;AAAA;AACF,SACF;AAAA,QAEA,QAAA,EAAA;AAAA,0BAAAR,IAAAA;AAAA,YAAC,qBAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAU,0DAAA;AAAA,cACV,KAAA,EAAM,SAAA;AAAA,cAEN,QAAA,EAAA;AAAA,gCAAAH,IAAC,SAAA,EAAA,EAAU,CAAA;AAAA,gBACV,KAAK,OAAA,CAAQ,IAAA;AAAA,gBACb,KAAK,OAAA,CAAQ;AAAA;AAAA;AAAA,WAChB;AAAA,0BAEAG,IAAAA;AAAA,YAAC,qBAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAU,0DAAA;AAAA,cACV,KAAA,EAAM,SAAA;AAAA,cAEN,QAAA,EAAA;AAAA,gCAAAH,IAAC,SAAA,EAAA,EAAU,CAAA;AAAA,gBACV,KAAK,OAAA,CAAQ,IAAA;AAAA,gBACb,KAAK,OAAA,CAAQ;AAAA;AAAA;AAAA,WAChB;AAAA,0BAEAG,IAAAA;AAAA,YAAC,qBAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAU,0DAAA;AAAA,cACV,KAAA,EAAM,YAAA;AAAA,cAEN,QAAA,EAAA;AAAA,gCAAAH,IAAC,SAAA,EAAA,EAAU,CAAA;AAAA,gBACV,KAAK,UAAA,CAAW,IAAA;AAAA,gBAChB,KAAK,UAAA,CAAW;AAAA;AAAA;AAAA;AACnB;AAAA;AAAA,KACF,EACF;AAAA,GAAA,EACF,CAAA;AAEJ;AAEA,SAAS,SAAA,GAAY;AACnB,EAAA,uBACEA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,gFAAA,EACd,QAAA,kBAAAA,GAAAA,CAAC,yBAAA,EAAA,EACC,QAAA,kBAAAA,GAAAA,CAACwB,SAAAA,EAAA,EAAU,GACb,CAAA,EACF,CAAA;AAEJ;ACrGO,SAAS,iBAAiB,KAAA,EAA0B;AACzD,EAAA,MAAM,SAASK,YAAAA,EAAa;AAC5B,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAUqB,iBAAS,KAAK,CAAA;AAE5C,EAAA,uBACE/C,KAAC,YAAA,EAAA,EAAa,IAAA,EAAY,cAAc,OAAA,EAAS,KAAA,EAAO,KAAA,EAAQ,GAAG,KAAA,EACjE,QAAA,EAAA;AAAA,oBAAAH,GAAAA,CAAC,mBAAA,EAAA,EAAoB,OAAA,EAAO,IAAA,EAC1B,0BAAAA,GAAAA,CAAC,aAAA,EAAA,EAAc,OAAA,EAAS,IAAA,EAAM,SAAQ,QAAA,EACpC,QAAA,kBAAAA,GAAAA,CAAC,kBAAA,EAAA,EAAmB,GACtB,CAAA,EACF,CAAA;AAAA,oBAEAA,GAAAA;AAAA,MAAC,mBAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,wFAAA;AAAA,QACV,KAAA,EAAM,OAAA;AAAA,QAEN,QAAA,kBAAAG,KAAC,iBAAA,EAAA,EACC,QAAA,EAAA;AAAA,0BAAAA,IAAAA;AAAA,YAAC,gBAAA;AAAA,YAAA;AAAA,cACC,UAAU,MAAM;AACd,gBAAA,MAAA,CAAO,EAAA,CAAG,UAAA,CAAW,SAAA,CAAU,GAAG,CAAA;AAClC,gBAAA,MAAA,CAAO,EAAA,CAAG,QAAA,CAAS,EAAE,IAAA,EAAM,OAAO,CAAA;AAClC,gBAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,eAClB;AAAA,cAEA,QAAA,EAAA;AAAA,gCAAAH,IAAC,YAAA,EAAA,EAAa,CAAA;AAAA,gBAAE;AAAA;AAAA;AAAA,WAElB;AAAA,0BAEAG,IAAAA;AAAA,YAAC,gBAAA;AAAA,YAAA;AAAA,cACC,UAAU,MAAM;AACd,gBAAA,MAAA,CAAO,EAAA,CAAG,UAAA,CAAW,iBAAA,CAAkB,GAAA,EAAK;AAAA,kBAC1C,QAAQ,eAAA,CAAgB;AAAA,iBACzB,CAAA;AACD,gBAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,eAClB;AAAA,cAEA,QAAA,EAAA;AAAA,gCAAAH,IAAC,eAAA,EAAA,EAAgB,CAAA;AAAA,gBAAE;AAAA;AAAA;AAAA,WAGrB;AAAA,0BACAG,IAAAA;AAAA,YAAC,gBAAA;AAAA,YAAA;AAAA,cACC,UAAU,MAAM;AACd,gBAAA,MAAA,CAAO,EAAA,CAAG,UAAA,CAAW,eAAA,CAAgB,GAAA,EAAK;AAAA,kBACxC,QAAQ,iBAAA,CAAkB;AAAA,iBAC3B,CAAA;AACD,gBAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,eAClB;AAAA,cAEA,QAAA,EAAA;AAAA,gCAAAH,IAAC,aAAA,EAAA,EAAc,CAAA;AAAA,gBAAE;AAAA;AAAA;AAAA;AAGnB,SAAA,EACF;AAAA;AAAA;AACF,GAAA,EACF,CAAA;AAEJ;AClDO,SAAS,kBAAkB,KAAA,EAA0B;AAC1D,EAAA,MAAM,aAAA,GAAgBmD,iBAAAA;AAAA,IACpB,CAACd,OAAAA,KAAWA,OAAAA,CAAO,GAAA,CAAI,IAAA,CAAK,EAAE,KAAA,EAAO,EAAE,IAAA,EAAMe,WAAAA,CAAY,GAAA,EAAI,EAAG,CAAA;AAAA,IAChE;AAAC,GACH;AAEA,EAAA,MAAM,EAAE,MAAA,EAAQ,EAAA,EAAG,GAAIpC,gBAAgBoC,WAAW,CAAA;AAClD,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAUC,iBAAS,KAAK,CAAA;AAC5C,EAAA,MAAM,aAAa,kBAAA,EAAmB;AAEtC,EAAA,uBACElD,KAAC,YAAA,EAAA,EAAa,IAAA,EAAY,cAAc,OAAA,EAAS,KAAA,EAAO,KAAA,EAAQ,GAAG,KAAA,EACjE,QAAA,EAAA;AAAA,oBAAAH,IAAC,mBAAA,EAAA,EAAoB,OAAA,EAAO,IAAA,EAC1B,QAAA,kBAAAA,IAAC,aAAA,EAAA,EAAc,OAAA,EAAS,IAAA,EAAM,OAAA,EAAQ,SAAQ,UAAA,EAAU,IAAA,EACtD,0BAAAA,GAAAA,CAAC,KAAA,EAAA,EAAM,GACT,CAAA,EACF,CAAA;AAAA,oBAEAA,GAAAA;AAAA,MAAC,mBAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,iCAAA;AAAA,QACV,KAAA,EAAM,OAAA;AAAA,QAEN,QAAA,kBAAAG,KAAC,iBAAA,EAAA,EACC,QAAA,EAAA;AAAA,0BAAAA,KAAC,eAAA,EAAA,EACC,QAAA,EAAA;AAAA,4BAAAA,IAAAA,CAAC,sBAAA,EAAA,EAAuB,SAAA,EAAU,sEAAA,EAChC,QAAA,EAAA;AAAA,8BAAAH,GAAAA,CAAC,WAAA,EAAA,EAAY,SAAA,EAAU,QAAA,EAAS,CAAA;AAAA,8BAChCA,GAAAA,CAAC,MAAA,EAAA,EAAK,QAAA,EAAA,OAAA,EAAK;AAAA,aAAA,EACb,CAAA;AAAA,4BACAA,IAAC,sBAAA,EAAA,EAAuB,SAAA,EAAU,WAChC,QAAA,kBAAAA,GAAAA,CAAC,eAAY,CAAA,EACf;AAAA,WAAA,EACF,CAAA;AAAA,0BAEAG,KAAC,eAAA,EAAA,EACC,QAAA,EAAA;AAAA,4BAAAA,IAAAA;AAAA,cAAC,sBAAA;AAAA,cAAA;AAAA,gBACC,SAAA,EAAU,sEAAA;AAAA,gBACV,UAAU,CAAC,aAAA;AAAA,gBAEX,QAAA,EAAA;AAAA,kCAAAH,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,QAAA,EAAS,CAAA;AAAA,kCACxBA,GAAAA,CAAC,MAAA,EAAA,EAAK,QAAA,EAAA,MAAA,EAAI;AAAA;AAAA;AAAA,aACZ;AAAA,4BACAG,KAAC,sBAAA,EAAA,EACC,QAAA,EAAA;AAAA,8BAAAA,IAAAA;AAAA,gBAAC,gBAAA;AAAA,gBAAA;AAAA,kBACC,SAAA,EAAU,eAAA;AAAA,kBACV,QAAA,EAAU,CAAC,UAAA,CAAW,QAAA;AAAA,kBACtB,UAAU,MAAM;AACd,oBAAA,EAAA,CAAG,MAAM,KAAA,EAAM;AACf,oBAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,mBAClB;AAAA,kBAEA,QAAA,EAAA;AAAA,oCAAAH,IAAC,OAAA,EAAA,EAAQ,CAAA;AAAA,oBAAE;AAAA;AAAA;AAAA,eAEb;AAAA,8BACAG,IAAAA;AAAA,gBAAC,gBAAA;AAAA,gBAAA;AAAA,kBACC,SAAA,EAAU,eAAA;AAAA,kBACV,QAAA,EAAU,CAAC,UAAA,CAAW,QAAA;AAAA,kBACtB,UAAU,MAAM;AACd,oBAAA,EAAA,CAAG,MAAM,KAAA,EAAM;AACf,oBAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,mBAClB;AAAA,kBAEA,QAAA,EAAA;AAAA,oCAAAH,IAAC,OAAA,EAAA,EAAQ,CAAA;AAAA,oBAAE;AAAA;AAAA;AAAA;AAEb,aAAA,EACF;AAAA,WAAA,EACF,CAAA;AAAA,0BAEAG,KAAC,eAAA,EAAA,EACC,QAAA,EAAA;AAAA,4BAAAA,IAAAA;AAAA,cAAC,sBAAA;AAAA,cAAA;AAAA,gBACC,SAAA,EAAU,sEAAA;AAAA,gBACV,UAAU,CAAC,aAAA;AAAA,gBAEX,QAAA,EAAA;AAAA,kCAAAH,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,QAAA,EAAS,CAAA;AAAA,kCACxBA,GAAAA,CAAC,MAAA,EAAA,EAAK,QAAA,EAAA,KAAA,EAAG;AAAA;AAAA;AAAA,aACX;AAAA,4BACAG,KAAC,sBAAA,EAAA,EACC,QAAA,EAAA;AAAA,8BAAAA,IAAAA;AAAA,gBAAC,gBAAA;AAAA,gBAAA;AAAA,kBACC,SAAA,EAAU,eAAA;AAAA,kBACV,UAAU,CAAC,aAAA;AAAA,kBACX,UAAU,MAAM;AACd,oBAAA,EAAA,CAAG,MAAA,CAAO,QAAA,CAAS,EAAE,MAAA,EAAQ,MAAM,CAAA;AACnC,oBAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,mBAClB;AAAA,kBAEA,QAAA,EAAA;AAAA,oCAAAH,IAAC,OAAA,EAAA,EAAQ,CAAA;AAAA,oBAAE;AAAA;AAAA;AAAA,eAEb;AAAA,8BACAG,IAAAA;AAAA,gBAAC,gBAAA;AAAA,gBAAA;AAAA,kBACC,SAAA,EAAU,eAAA;AAAA,kBACV,UAAU,CAAC,aAAA;AAAA,kBACX,UAAU,MAAM;AACd,oBAAA,EAAA,CAAG,OAAO,QAAA,EAAS;AACnB,oBAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,mBAClB;AAAA,kBAEA,QAAA,EAAA;AAAA,oCAAAH,IAAC,SAAA,EAAA,EAAU,CAAA;AAAA,oBAAE;AAAA;AAAA;AAAA,eAEf;AAAA,8BACAG,IAAAA;AAAA,gBAAC,gBAAA;AAAA,gBAAA;AAAA,kBACC,SAAA,EAAU,eAAA;AAAA,kBACV,UAAU,CAAC,aAAA;AAAA,kBACX,UAAU,MAAM;AACd,oBAAA,EAAA,CAAG,OAAO,QAAA,EAAS;AACnB,oBAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,mBAClB;AAAA,kBAEA,QAAA,EAAA;AAAA,oCAAAH,GAAAA,CAACsD,OAAA,EAAM,CAAA;AAAA,oBAAE;AAAA;AAAA;AAAA;AAEX,aAAA,EACF;AAAA,WAAA,EACF,CAAA;AAAA,0BAEAnD,KAAC,eAAA,EAAA,EACC,QAAA,EAAA;AAAA,4BAAAA,IAAAA;AAAA,cAAC,sBAAA;AAAA,cAAA;AAAA,gBACC,SAAA,EAAU,sEAAA;AAAA,gBACV,UAAU,CAAC,aAAA;AAAA,gBAEX,QAAA,EAAA;AAAA,kCAAAH,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,QAAA,EAAS,CAAA;AAAA,kCACxBA,GAAAA,CAAC,MAAA,EAAA,EAAK,QAAA,EAAA,QAAA,EAAM;AAAA;AAAA;AAAA,aACd;AAAA,4BACAG,KAAC,sBAAA,EAAA,EACC,QAAA,EAAA;AAAA,8BAAAA,IAAAA;AAAA,gBAAC,gBAAA;AAAA,gBAAA;AAAA,kBACC,SAAA,EAAU,eAAA;AAAA,kBACV,UAAU,CAAC,aAAA;AAAA,kBACX,UAAU,MAAM;AACd,oBAAA,EAAA,CAAG,MAAA,CAAO,WAAA,CAAY,EAAE,MAAA,EAAQ,MAAM,CAAA;AACtC,oBAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,mBAClB;AAAA,kBAEA,QAAA,EAAA;AAAA,oCAAAH,IAAC,SAAA,EAAA,EAAU,CAAA;AAAA,oBAAE;AAAA;AAAA;AAAA,eAEf;AAAA,8BACAG,IAAAA;AAAA,gBAAC,gBAAA;AAAA,gBAAA;AAAA,kBACC,SAAA,EAAU,eAAA;AAAA,kBACV,UAAU,CAAC,aAAA;AAAA,kBACX,UAAU,MAAM;AACd,oBAAA,EAAA,CAAG,OAAO,WAAA,EAAY;AACtB,oBAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,mBAClB;AAAA,kBAEA,QAAA,EAAA;AAAA,oCAAAH,IAAC,UAAA,EAAA,EAAW,CAAA;AAAA,oBAAE;AAAA;AAAA;AAAA,eAEhB;AAAA,8BACAG,IAAAA;AAAA,gBAAC,gBAAA;AAAA,gBAAA;AAAA,kBACC,SAAA,EAAU,eAAA;AAAA,kBACV,UAAU,CAAC,aAAA;AAAA,kBACX,UAAU,MAAM;AACd,oBAAA,EAAA,CAAG,OAAO,WAAA,EAAY;AACtB,oBAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,mBAClB;AAAA,kBAEA,QAAA,EAAA;AAAA,oCAAAH,GAAAA,CAACsD,OAAA,EAAM,CAAA;AAAA,oBAAE;AAAA;AAAA;AAAA;AAEX,aAAA,EACF;AAAA,WAAA,EACF,CAAA;AAAA,0BAEAnD,IAAAA;AAAA,YAAC,gBAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAU,eAAA;AAAA,cACV,UAAU,CAAC,aAAA;AAAA,cACX,UAAU,MAAM;AACd,gBAAA,EAAA,CAAG,OAAO,KAAA,EAAM;AAChB,gBAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,eAClB;AAAA,cAEA,QAAA,EAAA;AAAA,gCAAAH,IAAC,UAAA,EAAA,EAAW,CAAA;AAAA,gBAAE;AAAA;AAAA;AAAA;AAEhB,SAAA,EACF;AAAA;AAAA;AACF,GAAA,EACF,CAAA;AAEJ;AAEO,SAAS,WAAA,GAAc;AAC5B,EAAA,MAAM,EAAE,MAAA,EAAQ,EAAA,EAAG,GAAIgB,gBAAgBoC,WAAW,CAAA;AAElD,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,CAAA,GAAUC,OAAA,CAAA,QAAA,CAAS;AAAA,IACnD,MAAM,KAAA,CAAM,IAAA,CAAK,EAAE,MAAA,EAAQ,GAAE,EAAG,MAAM,KAAA,CAAM,IAAA,CAAK,EAAE,MAAA,EAAQ,CAAA,EAAG,CAAA,CAAE,IAAA,CAAK,CAAC,CAAC,CAAA;AAAA,IACvE,IAAA,EAAM,EAAE,QAAA,EAAU,CAAA,EAAG,UAAU,CAAA;AAAE,GAClC,CAAA;AAED,EAAA,MAAM,UAAA,GAAa,CAAC,QAAA,EAAkB,QAAA,KAAqB;AACzD,IAAA,MAAM,OAAA,GAAU,CAAC,GAAG,WAAA,CAAY,IAAI,CAAA;AAEpC,IAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,OAAA,CAAQ,QAAQ,CAAA,EAAA,EAAK;AACvC,MAAA,KAAA,IAAS,IAAI,CAAA,EAAG,CAAA,GAAI,QAAQ,CAAC,CAAA,CAAE,QAAQ,CAAA,EAAA,EAAK;AAC1C,QAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,CAAC,CAAA,GACV,CAAA,IAAK,CAAA,IAAK,CAAA,IAAK,QAAA,IAAY,CAAA,IAAK,CAAA,IAAK,CAAA,IAAK,QAAA,GAAW,CAAA,GAAI,CAAA;AAAA;AAC7D;AAGF,IAAA,cAAA,CAAe;AAAA,MACb,IAAA,EAAM,OAAA;AAAA,MACN,MAAM,EAAE,QAAA,EAAU,WAAW,CAAA,EAAG,QAAA,EAAU,WAAW,CAAA;AAAE,KACxD,CAAA;AAAA,GACH;AAEA,EAAA,uBACElD,IAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,wBAAA;AAAA,MACV,SAAS,MAAM;AACb,QAAA,EAAA,CAAG,OAAO,KAAA,CAAM,WAAA,CAAY,MAAM,EAAE,MAAA,EAAQ,MAAM,CAAA;AAClD,QAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,OAClB;AAAA,MAEA,QAAA,EAAA;AAAA,wBAAAH,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,2CAAA,EACZ,sBAAY,IAAA,CAAK,GAAA;AAAA,UAAI,CAAC,IAAA,EAAM,QAAA,KAC3B,KAAK,GAAA,CAAI,CAAC,OAAO,UAAA,KAAe;AAC9B,YAAA,uBACEA,GAAAA;AAAA,cAAC,KAAA;AAAA,cAAA;AAAA,gBAEC,SAAA,EAAW,EAAA;AAAA,kBACT,oDAAA;AAAA,kBACA,CAAC,CAAC,KAAA,IAAS;AAAA,iBACb;AAAA,gBACA,aAAa,MAAM;AACjB,kBAAA,UAAA,CAAW,UAAU,UAAU,CAAA;AAAA;AACjC,eAAA;AAAA,cAPK,CAAA,CAAA,EAAI,QAAQ,CAAA,CAAA,EAAI,UAAU,CAAA,CAAA;AAAA,aAQjC;AAAA,WAEH;AAAA,SACH,EACF,CAAA;AAAA,wBAEAG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,kCAAA,EACZ,QAAA,EAAA;AAAA,UAAA,WAAA,CAAY,IAAA,CAAK,QAAA;AAAA,UAAS,KAAA;AAAA,UAAI,YAAY,IAAA,CAAK;AAAA,SAAA,EAClD;AAAA;AAAA;AAAA,GACF;AAEJ;AC7PO,SAAS,oBACd,KAAA,EACA;AACA,EAAA,MAAM,QAAQ,2BAAA,EAA4B;AAC1C,EAAA,MAAM,EAAE,KAAA,EAAO,WAAA,EAAY,GAAI,uBAAuB,KAAK,CAAA;AAE3D,EAAA,uBACEH,GAAAA,CAAC,aAAA,EAAA,EAAe,GAAG,KAAA,EAAQ,GAAG,WAAA,EAAa,OAAA,EAAQ,QAAA,EACjD,QAAA,kBAAAA,GAAAA,CAAC,gBAAA,EAAA,EAAiB,CAAA,EACpB,CAAA;AAEJ;ACwBA,IAAM,aAAA,GAAgB;AAAA,EACpB;AAAA,IACE,IAAA,kBAAMA,GAAAA,CAAC,WAAA,EAAA,EAAY,CAAA;AAAA,IACnB,QAAA,EAAU,CAAC,WAAW,CAAA;AAAA,IACtB,KAAA,EAAO,MAAA;AAAA,IACP,OAAO,eAAA,CAAgB;AAAA,GACzB;AAAA,EACA;AAAA,IACE,IAAA,kBAAMA,GAAAA,CAAC,YAAA,EAAA,EAAa,CAAA;AAAA,IACpB,QAAA,EAAU,CAAC,OAAA,EAAS,IAAI,CAAA;AAAA,IACxB,KAAA,EAAO,WAAA;AAAA,IACP,OAAOmC,YAAAA,CAAa;AAAA,GACtB;AAAA,EACA;AAAA,IACE,IAAA,kBAAMnC,GAAAA,CAAC,YAAA,EAAA,EAAa,CAAA;AAAA,IACpB,QAAA,EAAU,CAAC,UAAA,EAAY,IAAI,CAAA;AAAA,IAC3B,KAAA,EAAO,WAAA;AAAA,IACP,OAAOmC,YAAAA,CAAa;AAAA,GACtB;AAAA,EACA;AAAA,IACE,IAAA,kBAAMnC,GAAAA,CAAC,YAAA,EAAA,EAAa,CAAA;AAAA,IACpB,QAAA,EAAU,CAAC,UAAA,EAAY,IAAI,CAAA;AAAA,IAC3B,KAAA,EAAO,WAAA;AAAA,IACP,OAAOmC,YAAAA,CAAa;AAAA,GACtB;AAAA,EACA;AAAA,IACE,IAAA,kBAAMnC,GAAAA,CAACuD,QAAAA,EAAA,EAAS,CAAA;AAAA,IAChB,QAAA,EAAU,CAAC,WAAA,EAAa,IAAA,EAAM,GAAG,CAAA;AAAA,IACjC,KAAA,EAAO,eAAA;AAAA,IACP,OAAOhB,aAAAA,CAAc;AAAA,GACvB;AAAA,EACA;AAAA,IACE,IAAA,kBAAMvC,GAAAA,CAACwD,eAAAA,EAAA,EAAgB,CAAA;AAAA,IACvB,QAAA,EAAU,CAAC,SAAA,EAAW,IAAA,EAAM,GAAG,CAAA;AAAA,IAC/B,KAAA,EAAO,eAAA;AAAA,IACP,OAAOjB,aAAAA,CAAc;AAAA,GACvB;AAAA,EACA;AAAA,IACE,IAAA,kBAAMvC,GAAAA,CAAC,UAAA,EAAA,EAAW,CAAA;AAAA,IAClB,QAAA,EAAU,CAAC,WAAA,EAAa,MAAA,EAAQ,YAAY,IAAI,CAAA;AAAA,IAChD,KAAA,EAAO,YAAA;AAAA,IACP,OAAOyD,gBAAAA,CAAiB;AAAA,GAC1B;AAAA,EACA;AAAA,IACE,IAAA,kBAAMzD,GAAAA,CAAC0D,gBAAAA,EAAA,EAAiB,CAAA;AAAA,IACxB,QAAA,EAAU,CAAC,aAAA,EAAe,YAAY,CAAA;AAAA,IACtC,KAAA,EAAO,aAAA;AAAA,IACP,OAAO,YAAA,CAAa;AAAA,GACtB;AAAA,EACA;AAAA,IACE,IAAA,kBAAM1D,GAAAA,CAAC,YAAA,EAAA,EAAa,CAAA;AAAA,IACpB,QAAA,EAAU,CAAC,KAAK,CAAA;AAAA,IAChB,KAAA,EAAO,MAAA;AAAA,IACP,OAAO2D,eAAAA,CAAgB;AAAA,GACzB;AAAA,EACA;AAAA,IACE,IAAA,kBAAM3D,GAAAA,CAAC,SAAA,EAAA,EAAU,CAAA;AAAA,IACjB,QAAA,EAAU,CAAC,UAAA,EAAY,YAAA,EAAc,GAAG,CAAA;AAAA,IACxC,KAAA,EAAO,OAAA;AAAA,IACP,OAAO,gBAAA,CAAiB;AAAA,GAC1B;AAAA,EACA;AAAA,IACE,IAAA,kBAAMA,GAAAA,CAAC,YAAA,EAAA,EAAa,CAAA;AAAA,IACpB,KAAA,EAAO,WAAA;AAAA,IACP,KAAA,EAAO;AAAA;AAEX,CAAA;AAEO,SAAS,qBAAqB,KAAA,EAA0B;AAC7D,EAAA,MAAM,SAAS6B,YAAAA,EAAa;AAC5B,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAU+B,iBAAS,KAAK,CAAA;AAE5C,EAAA,MAAM,QAAQC,wBAAAA,CAAyB;AAAA,IACrC,cAAc,eAAA,CAAgB,GAAA;AAAA,IAC9B,eAAA,EAAiB,gBAAA;AAAA,IACjB,OAAA,EAAS,CAAC,IAAA,KAAS,YAAA,CAAa,IAAgB;AAAA,GACjD,CAAA;AACD,EAAA,MAAM,YAAA,GAAqBD,OAAA,CAAA,OAAA;AAAA,IACzB,MACE,aAAA,CAAc,IAAA;AAAA,MACZ,CAAC,IAAA,KAAS,IAAA,CAAK,KAAA,MAAW,SAAS,eAAA,CAAgB,GAAA;AAAA,KACrD,IAAK,cAAc,CAAC,CAAA;AAAA,IACtB,CAAC,KAAK;AAAA,GACR;AAEA,EAAA,uBACEzD,KAAC,YAAA,EAAA,EAAa,IAAA,EAAY,cAAc,OAAA,EAAS,KAAA,EAAO,KAAA,EAAQ,GAAG,KAAA,EACjE,QAAA,EAAA;AAAA,oBAAAH,GAAAA,CAAC,mBAAA,EAAA,EAAoB,OAAA,EAAO,IAAA,EAC1B,QAAA,kBAAAA,GAAAA;AAAA,MAAC,aAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,eAAA;AAAA,QACV,OAAA,EAAS,IAAA;AAAA,QACT,OAAA,EAAQ,WAAA;AAAA,QACR,UAAA,EAAU,IAAA;AAAA,QAET,QAAA,EAAA,YAAA,CAAa;AAAA;AAAA,KAChB,EACF,CAAA;AAAA,oBAEAA,GAAAA;AAAA,MAAC,mBAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,sCAAA;AAAA,QACV,gBAAA,EAAkB,CAAC,CAAA,KAAM;AACvB,UAAA,CAAA,CAAE,cAAA,EAAe;AACjB,UAAA,MAAA,CAAO,GAAG,KAAA,EAAM;AAAA,SAClB;AAAA,QACA,KAAA,EAAM,OAAA;AAAA,QAEN,QAAA,kBAAAA,GAAAA;AAAA,UAAC,gBAAA;AAAA,UAAA;AAAA,YACC,KAAA;AAAA,YACA,aAAA,EAAe,CAAC,IAAA,KAAS;AACvB,cAAA,YAAA,CAAa,QAAQ,IAAI,CAAA;AAAA,aAC3B;AAAA,YACA,KAAA,EAAM,WAAA;AAAA,YAEL,QAAA,EAAA,aAAA,CAAc,IAAI,CAAC,EAAE,MAAM,KAAA,EAAO,KAAA,EAAO,SAAA,EAAU,qBAClDG,IAAAA;AAAA,cAAC,qBAAA;AAAA,cAAA;AAAA,gBAEC,SAAA,EAAU,0CAAA;AAAA,gBACV,KAAA,EAAO,SAAA;AAAA,gBAEP,QAAA,EAAA;AAAA,kCAAAH,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,gFAAA,EACd,QAAA,kBAAAA,GAAAA,CAAC8D,yBAAAA,EAAA,EACC,QAAA,kBAAA9D,GAAAA,CAACwB,SAAAA,EAAA,EAAU,GACb,CAAA,EACF,CAAA;AAAA,kBACC,IAAA;AAAA,kBACA;AAAA;AAAA,eAAA;AAAA,cAVI;AAAA,aAYR;AAAA;AAAA;AACH;AAAA;AACF,GAAA,EACF,CAAA;AAEJ;AC9IO,SAAS,mBAAA,GAAsB;AACpC,EAAA,MAAM,WAAW,iBAAA,EAAkB;AAEnC,EAAA,uBACErB,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,aAAA,EACZ,QAAA,EAAA;AAAA,IAAA,CAAC,QAAA,oBACAA,IAAAA,CAAAgB,QAAAA,EAAA,EACE,QAAA,EAAA;AAAA,sBAAAhB,KAAC,YAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAH,IAAC,iBAAA,EAAA,EAAkB,CAAA;AAAA,wBACnBA,IAAC,iBAAA,EAAA,EAAkB;AAAA,OAAA,EACrB,CAAA;AAAA,sBAEAA,GAAAA,CAAC,YAAA,EAAA,EACC,QAAA,kBAAAA,GAAAA,CAAC,wBAAqB,CAAA,EACxB,CAAA;AAAA,sBAEAG,KAAC,YAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAH,GAAAA,CAAC,qBAAkB,QAAA,EAAS,MAAA,EAAO,SAAQ,iBAAA,EACzC,QAAA,kBAAAA,GAAAA,CAAC,QAAA,EAAA,EAAS,CAAA,EACZ,CAAA;AAAA,wBACAA,GAAAA,CAAC,iBAAA,EAAA,EAAkB,QAAA,EAAS,QAAA,EAAS,SAAQ,mBAAA,EAC3C,QAAA,kBAAAA,GAAAA,CAAC,UAAA,EAAA,EAAW,CAAA,EACd,CAAA;AAAA,wBACAA,GAAAA;AAAA,UAAC,iBAAA;AAAA,UAAA;AAAA,YACC,QAAA,EAAS,WAAA;AAAA,YACT,OAAA,EAAQ,sBAAA;AAAA,YAER,QAAA,kBAAAA,IAAC,aAAA,EAAA,EAAc;AAAA;AAAA,SACjB;AAAA,wBACAA,GAAAA;AAAA,UAAC,iBAAA;AAAA,UAAA;AAAA,YACC,QAAA,EAAS,eAAA;AAAA,YACT,OAAA,EAAQ,iCAAA;AAAA,YAER,QAAA,kBAAAA,IAAC,iBAAA,EAAA,EAAkB;AAAA;AAAA,SACrB;AAAA,wBACAA,GAAAA,CAAC,iBAAA,EAAA,EAAkB,QAAA,EAAS,MAAA,EAAO,SAAQ,iBAAA,EACzC,QAAA,kBAAAA,GAAAA,CAAC,SAAA,EAAA,EAAU,CAAA,EACX,CAAA;AAAA,wBACFA,GAAAA,CAAC,iBAAA,EAAA,EAAkB,QAAA,EAAS,aAAA,EAAc,OAAA,EAAQ,aAAA,EAChD,QAAA,kBAAAA,GAAAA,CAAC+D,eAAAA,EAAA,EAAgB,CAAA,EACnB,CAAA;AAAA,wBACA/D,GAAAA,CAAC,iBAAA,EAAA,EAAkB,QAAA,EAAS,WAAA,EAAY,OAAA,EAAQ,WAAA,EAC9C,QAAA,kBAAAA,GAAAA,CAACgE,aAAAA,EAAA,EAAc,CAAA,EACjB;AAAA,OAAA,EACF,CAAA;AAAA,sBAEA7D,KAAC,YAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAH,GAAAA,CAAC,qBAAkB,QAAA,EAAS,OAAA,EAAQ,SAAQ,YAAA,EAC1C,QAAA,kBAAAA,GAAAA,CAAC,WAAA,EAAA,EAAY,CAAA,EACf,CAAA;AAAA,wBACAA,GAAAA;AAAA,UAAC,iBAAA;AAAA,UAAA;AAAA,YACC,QAAA,EAAS,iBAAA;AAAA,YACT,OAAA,EAAQ,iBAAA;AAAA,YAER,QAAA,kBAAAA,IAAC,WAAA,EAAA,EAAY;AAAA;AAAA;AACf,OAAA,EACF,CAAA;AAAA,sBAEAG,KAAC,YAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAH,IAAC,iBAAA,EAAA,EAAkB,CAAA;AAAA,wBAEnBA,GAAAA,CAAC,uBAAA,EAAA,EAAwB,OAAA,EAAQ,UAAA,EAAW,CAAA;AAAA,wBAC5CA,IAAC,uBAAA,EAAA,EAAwB;AAAA,OAAA,EAC3B,CAAA;AAAA,sBAEAG,KAAC,YAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAH,IAAC,iBAAA,EAAA,EAAkB,CAAA;AAAA,wBAEnBA,IAAC,mBAAA,EAAA,EAAoB,CAAA;AAAA,wBAErBA,GAAAA,CAAC,kBAAA,EAAA,EAAmB,QAAA,EAAU4C,YAAY,GAAA,EAAK,CAAA;AAAA,wBAC/C5C,GAAAA,CAAC,kBAAA,EAAA,EAAmB,QAAA,EAAU2C,WAAW,GAAA,EAAK,CAAA;AAAA,wBAE9C3C,IAAC,iBAAA,EAAA,EAAkB,CAAA;AAAA,wBACnBA,IAAC,iBAAA,EAAA,EAAkB,CAAA;AAAA,wBAEnBA,IAAC,gBAAA,EAAA,EAAiB;AAAA,OAAA,EACpB;AAAA,KAAA,EACF,CAAA;AAAA,oBAGFA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,MAAA,EAAO,CAAA;AAAA,oBAEtBG,KAAC,YAAA,EAAA,EACC,QAAA,EAAA;AAAA,sBAAAH,IAAC,gBAAA,EAAA,EAAiB,CAAA;AAAA,MAEjB,CAAC,QAAA,oBACAG,IAAAA,CAAAgB,UAAA,EACE,QAAA,EAAA;AAAA,wBAAAnB,IAAC,oBAAA,EAAA,EAAqB,CAAA;AAAA,wBACtBA,IAAC,eAAA,EAAA,EAAgB,CAAA;AAAA,wBAEjBA,IAAC,mBAAA,EAAA,EAAoB,CAAA;AAAA,wBACrBA,IAAC,mBAAA,EAAA,EAAoB;AAAA,OAAA,EACvB;AAAA,KAAA,EAEJ;AAAA,GAAA,EACF,CAAA;AAEJ;AC/HO,IAAM,qBAAqB,iBAAA,CAAkB;AAAA,EAClD,GAAA,EAAK,eAAA;AAAA,EACL,MAAA,EAAQ;AAAA,IACN,cAAA,EAAgB,sBACdA,GAAAA,CAAC,SAAI,SAAA,EAAU,2EAAA,EACf,QAAA,kBAAAA,GAAAA,CAAC,YAAA,EAAA,EACC,QAAA,kBAAAA,GAAAA,CAAC,mBAAA,EAAA,EAAoB,GACvB,CAAA,EACF;AAAA;AAGJ,CAAC,CAAA;ACOM,SAAS,eAAA,CAAgB;AAAA,EAC9B,QAAA;AAAA,EACA,SAAA;AAAA,EACA,KAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAyB;AACvB,EAAA,MAAM,WAAW,WAAA,EAAY;AAC7B,EAAA,MAAM,eAAA,GAAkB,oBAAoB,OAAO,CAAA;AACnD,EAAA,MAAM,kBAAA,GAAqB,CAAC,CAACiD,eAAAA,CAAgB,EAAE,GAAA,EAAK,GAAA,IAAO,MAAM,CAAA;AACjE,EAAA,MAAM,eAAeA,eAAAA,CAAgB,EAAE,GAAA,EAAK,QAAA,IAAY,MAAM,CAAA;AAE9D,EAAA,MAAM,uBAAuB,uBAAA,CAAwB;AAAA,IACnD,QAAA;AAAA,IACA,eAAA;AAAA,IACA,aAAa,kBAAA,IAAsB,YAAA;AAAA,IACnC,GAAG,KAAA;AAAA,IACH,eAAA,EAAiB;AAAA,MACf,UAAA,EAAY;AAAA,QACV,OAAO,EAAE,CAAA;AAAA,QACT,IAAA,CAAK;AAAA,UACH,kBAAA,EAAoB;AAAA,YAClB,WAAA;AAAA,YACA,SAAA;AAAA,YACA,cAAA;AAAA,YACA;AAAA,WACF;AAAA,UACA,OAAA,EAAS;AAAA,SACV;AAAA,OACH;AAAA,MACA,SAAA,EAAW,KAAA;AAAA,MACX,GAAG,KAAA,EAAO;AAAA;AACZ,GACD,CAAA;AAED,EAAA,MAAM;AAAA,IACJ,eAAA;AAAA,IACA,MAAA;AAAA,IACA,KAAA,EAAO,SAAA;AAAA,IACP,GAAA,EAAK;AAAA,GACP,GAAI,mBAAmB,oBAAoB,CAAA;AAE3C,EAAA,MAAM,GAAA,GAAMgB,gBAAAA,CAA+B,KAAA,CAAM,GAAA,EAAK,WAAW,CAAA;AAEjE,EAAA,IAAI,QAAQ,OAAO,IAAA;AAEnB,EAAA,uBACEjE,GAAAA,CAAC,KAAA,EAAA,EAAI,GAAA,EAAK,iBACR,QAAA,kBAAAA,GAAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACH,GAAG,SAAA;AAAA,MACJ,GAAA;AAAA,MACA,SAAA,EAAW,EAAA;AAAA,QACT,oIAAA;AAAA,QACA,cAAA;AAAA,QACA;AAAA,OACF;AAAA,MAEC;AAAA;AAAA,GACH,EACF,CAAA;AAEJ;AC7EO,SAAS,4BACd,KAAA,EACA;AACA,EAAA,MAAM,SAAS6B,YAAAA,EAAa;AAE5B,EAAA,uBACE7B,GAAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,SAAS,MAAM;AACb,QAAAkE,qBAAqB,MAAM,CAAA;AAAA,OAC7B;AAAA,MACA,OAAA,EAAQ,kBAAA;AAAA,MAER,QAAA,kBAAAlE,GAAAA,CAACmE,WAAAA,EAAA,EAAY;AAAA;AAAA,GACf;AAEJ;ACdO,SAAS,uBAAA,GAA0B;AACxC,EAAA,MAAM,EAAE,SAAA,EAAU,GAAInD,eAAAA,CAAgBL,gBAAgB,CAAA;AACtD,EAAA,MAAM,YAAA,GAAesC,eAAAA,CAAgBtC,gBAAAA,EAAkB,cAAc,CAAA;AAErE,EAAA,uBACEX,GAAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA,CAAG,YAAA,IAAgB,mCAAmC,CAAA;AAAA,MACjE,OAAA,EAAS,MAAM,SAAA,CAAU,cAAA,EAAgB,CAAC,YAAY,CAAA;AAAA,MACtD,WAAA,EAAa,CAAC,CAAA,KAAM,CAAA,CAAE,cAAA,EAAe;AAAA,MACrC,OAAA,EAAS,eAAe,qBAAA,GAAwB,kBAAA;AAAA,MAEhD,QAAA,kBAAAA,GAAAA,CAACoE,cAAAA,EAAA,EAAe;AAAA;AAAA,GAClB;AAEJ;ACKO,SAAS,sBAAA,GAAyB;AACvC,EAAA,MAAM,WAAWC,iBAAAA,EAAkB;AAEnC,EAAA,uBACElE,IAAAA,CAAAgB,QAAAA,EAAA,EACG,QAAA,EAAA;AAAA,IAAA,CAAC,QAAA,oBACAhB,IAAAA,CAAAgB,QAAAA,EAAA,EACE,QAAA,EAAA;AAAA,sBAAAnB,IAAC,YAAA,EAAA,EACC,QAAA,kBAAAG,IAAAA,CAAC,eAAA,EAAA,EAAgB,SAAQ,aAAA,EACvB,QAAA,EAAA;AAAA,wBAAAH,IAAC,gBAAA,EAAA,EAAiB,CAAA;AAAA,QAAE;AAAA,OAAA,EAEtB,CAAA,EACF,CAAA;AAAA,sBAEAG,KAAC,YAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAH,IAAC,oBAAA,EAAA,EAAqB,CAAA;AAAA,wBAElCA,GAAAA,CAAC,iBAAA,EAAA,EAAkB,QAAA,EAAU,UAAA,CAAW,GAAA,EAAK,OAAA,EAAQ,iBAAA,EACvC,QAAA,kBAAAA,GAAAA,CAACsE,QAAAA,EAAA,EAAS,CAAA,EACZ,CAAA;AAAA,wBAEAtE,GAAAA;AAAA,UAAC,iBAAA;AAAA,UAAA;AAAA,YACC,UAAU,YAAA,CAAa,GAAA;AAAA,YACvB,OAAA,EAAQ,mBAAA;AAAA,YAER,QAAA,kBAAAA,GAAAA,CAACuE,UAAAA,EAAA,EAAW;AAAA;AAAA,SACd;AAAA,wBAEAvE,GAAAA;AAAA,UAAC,iBAAA;AAAA,UAAA;AAAA,YACC,UAAU,eAAA,CAAgB,GAAA;AAAA,YAC1B,OAAA,EAAQ,sBAAA;AAAA,YAER,QAAA,kBAAAA,GAAAA,CAACwE,aAAAA,EAAA,EAAc;AAAA;AAAA,SACjB;AAAA,wBAEAxE,GAAAA;AAAA,UAAC,iBAAA;AAAA,UAAA;AAAA,YACC,UAAU,mBAAA,CAAoB,GAAA;AAAA,YAC9B,OAAA,EAAQ,iCAAA;AAAA,YAER,QAAA,kBAAAA,GAAAA,CAACyE,iBAAAA,EAAA,EAAkB;AAAA;AAAA,SACrB;AAAA,wBAEAzE,GAAAA,CAAC,iBAAA,EAAA,EAAkB,QAAA,EAAU,UAAA,CAAW,GAAA,EAAK,OAAA,EAAQ,iBAAA,EACnD,QAAA,kBAAAA,GAAAA,CAAC0E,SAAAA,EAAA,EAAU,CAAA,EACb,CAAA;AAAA,wBAEA1E,IAAC,2BAAA,EAAA,EAA4B,CAAA;AAAA,wBAE7BA,IAAC,iBAAA,EAAA,EAAkB;AAAA,OAAA,EACrB;AAAA,KAAA,EACF,CAAA;AAAA,oBAGFG,KAAC,YAAA,EAAA,EACC,QAAA,EAAA;AAAA,sBAAAH,IAAC,oBAAA,EAAA,EAAqB,CAAA;AAAA,sBACtBA,IAAC,uBAAA,EAAA,EAAwB,CAAA;AAAA,MAExB,CAAC,QAAA,oBAAYA,GAAAA,CAAC,gBAAA,EAAA,EAAiB;AAAA,KAAA,EAClC;AAAA,GAAA,EACF,CAAA;AAEJ;ACrFO,IAAM,wBAAwB2E,iBAAAA,CAAkB;AAAA,EACrD,GAAA,EAAK,kBAAA;AAAA,EACL,MAAA,EAAQ;AAAA,IACN,aAAA,EAAe,sBACb3E,GAAAA,CAAC,mBACC,QAAA,kBAAAA,GAAAA,CAAC,0BAAuB,CAAA,EAC1B;AAAA;AAGN,CAAC,CAAA;ACTD,SAASqB,QAAAA,CAAQ;AAAA,EACf,GAAG;AACL,CAAA,EAAuD;AACrD,EAAA,uBAAOrB,GAAAA,CAAkB,gBAAA,CAAA,IAAA,EAAjB,EAAsB,WAAA,EAAU,SAAA,EAAW,GAAG,KAAA,EAAO,CAAA;AAC/D;AAEA,SAAS,cAAA,CAAe;AAAA,EACtB,GAAG;AACL,CAAA,EAA0D;AACxD,EAAA,uBAAOA,GAAAA,CAAkB,gBAAA,CAAA,OAAA,EAAjB,EAAyB,WAAA,EAAU,iBAAA,EAAmB,GAAG,KAAA,EAAO,CAAA;AAC1E;AAEA,SAAS,cAAA,CAAe;AAAA,EACtB,SAAA;AAAA,EACA,KAAA,GAAQ,QAAA;AAAA,EACR,UAAA,GAAa,CAAA;AAAA,EACb,GAAG;AACL,CAAA,EAA0D;AACxD,EAAA,uBACEA,GAAAA,CAAkB,gBAAA,CAAA,MAAA,EAAjB,EACC,QAAA,kBAAAA,GAAAA;AAAA,IAAkB,gBAAA,CAAA,OAAA;AAAA,IAAjB;AAAA,MACC,WAAA,EAAU,iBAAA;AAAA,MACV,KAAA;AAAA,MACA,UAAA;AAAA,MACA,SAAA,EAAW,EAAA;AAAA,QACT,geAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN,EACF,CAAA;AAEJ;AAEA,SAAS,aAAA,CAAc;AAAA,EACrB,GAAG;AACL,CAAA,EAAyD;AACvD,EAAA,uBAAOA,GAAAA,CAAkB,gBAAA,CAAA,MAAA,EAAjB,EAAwB,WAAA,EAAU,gBAAA,EAAkB,GAAG,KAAA,EAAO,CAAA;AACxE;ACtCA,SAAS,MAAA,CAAO;AAAA,EACd,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAsD;AACpD,EAAA,uBACEA,GAAAA;AAAA,IAAiB,eAAA,CAAA,IAAA;AAAA,IAAhB;AAAA,MACC,WAAA,EAAU,QAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,4DAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,WAAA,CAAY;AAAA,EACnB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAuD;AACrD,EAAA,uBACEA,GAAAA;AAAA,IAAiB,eAAA,CAAA,KAAA;AAAA,IAAhB;AAAA,MACC,WAAA,EAAU,cAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,yBAAA,EAA2B,SAAS,CAAA;AAAA,MACjD,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,cAAA,CAAe;AAAA,EACtB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA0D;AACxD,EAAA,uBACEA,GAAAA;AAAA,IAAiB,eAAA,CAAA,QAAA;AAAA,IAAhB;AAAA,MACC,WAAA,EAAU,iBAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,kEAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AC1CA,IAAM,mBAAA,GAAsBS,GAAAA;AAAA,EAC1B;AACF,CAAA;AAEO,SAAS,OAAO,KAAA,EAAuB;AAC5C,EAAA,MAAM,aAAA,GAAgB,KAAA,CAAM,MAAA,CACzB,MAAA,CAAOmE,YAAY,CAAA,CACnB,MAAA,CAAO,IAAA,CAAK,EAAE,SAAA,EAAW,IAAA,EAAM,CAAA;AAElC,EAAA,MAAM,MAAA,GAAS,aAAA,GAAgB,CAAC,CAAA,KAAM,KAAA,CAAM,IAAA;AAE5C,EAAA,uBACE5E,GAAAA;AAAA,IAAC,SAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,6DAAA;AAAA,QACA,yCAAA;AAAA,QACA,UAAU,mBAAA;AAAoB,OAChC;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;ACpBA,SAAS,QAAA,CAAS;AAAA,EAChB,SAAA;AAAA,EACA,UAAA;AAAA,EACA,eAAA,GAAkB,IAAA;AAAA,EAClB,GAAG;AACL,CAAA,EAA2C;AACzC,EAAA,uBACEA,GAAAA;AAAA,IAAC,SAAA;AAAA,IAAA;AAAA,MACC,eAAA;AAAA,MACA,SAAA,EAAW,EAAA,CAAG,KAAA,EAAO,SAAS,CAAA;AAAA,MAC9B,UAAA,EAAY;AAAA,QACV,MAAA,EAAQ,iCAAA;AAAA,QACR,KAAA,EAAO,qBAAA;AAAA,QACP,OAAA,EAAS,uDAAA;AAAA,QACT,aAAA,EAAe,qBAAA;AAAA,QACf,GAAA,EAAK,yBAAA;AAAA,QACL,UAAA,EAAY,EAAA;AAAA,UACV,cAAA,CAAe,EAAE,OAAA,EAAS,SAAA,EAAW,CAAA;AAAA,UACrC;AAAA,SACF;AAAA,QACA,mBAAA,EAAqB,iBAAA;AAAA,QACrB,eAAA,EAAiB,kBAAA;AAAA,QACjB,KAAA,EAAO,kCAAA;AAAA,QACP,QAAA,EAAU,MAAA;AAAA,QACV,SAAA,EACE,gEAAA;AAAA,QACF,GAAA,EAAK,kBAAA;AAAA,QACL,IAAA,EAAM,EAAA;AAAA,UACJ,iKAAA;AAAA,UACA,KAAA,CAAM,IAAA,KAAS,OAAA,GACX,sKAAA,GACA;AAAA,SACN;AAAA,QACA,GAAA,EAAK,EAAA;AAAA,UACH,cAAA,CAAe,EAAE,OAAA,EAAS,OAAA,EAAS,CAAA;AAAA,UACnC;AAAA,SACF;AAAA,QACA,eAAA,EACE,gFAAA;AAAA,QACF,aAAA,EACE,8EAAA;AAAA,QACF,YAAA,EACE,kIAAA;AAAA,QACF,SAAA,EAAW,kCAAA;AAAA,QACX,WAAA,EACE,uEAAA;AAAA,QACF,YAAA,EAAc,kCAAA;AAAA,QACd,gBAAA,EACE,8DAAA;AAAA,QACF,UAAA,EAAY,WAAA;AAAA,QACZ,GAAG;AAAA,OACL;AAAA,MACA,UAAA,EAAY;AAAA,QACV,UAAU,CAAC,EAAE,SAAA,EAAA6E,UAAAA,EAAW,GAAGC,MAAAA,EAAM,qBAC/B9E,GAAAA,CAAC,eAAY,SAAA,EAAW,EAAA,CAAG,UAAU6E,UAAS,CAAA,EAAI,GAAGC,MAAAA,EAAO,CAAA;AAAA,QAE9D,WAAW,CAAC,EAAE,WAAAD,UAAAA,EAAW,GAAGC,QAAM,qBAChC9E,GAAAA,CAAC+E,YAAAA,EAAA,EAAa,SAAA,EAAW,EAAA,CAAG,UAAUF,UAAS,CAAA,EAAI,GAAGC,MAAAA,EAAO;AAAA,OAEjE;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;ACzDO,SAAS,YAAY,KAAA,EAAwC;AAClE,EAAA,MAAM,EAAE,MAAA,EAAQ,OAAA,EAAQ,GAAI,KAAA;AAE5B,EAAA,MAAM,WAAW,WAAA,EAAY;AAE7B,EAAA,MAAM,0BACJ9E,GAAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT;AAAA,OACF;AAAA,MACA,eAAA,EAAiB,KAAA;AAAA,MACjB,SAAA,EAAS,IAAA;AAAA,MAER,QAAA,EAAA,OAAA,CAAQ,QACN,MAAM;AACL,QAAA,MAAM,KAAA,uBAAY,IAAA,EAAK;AACvB,QAAA,MAAM,WAAA,GAAc,IAAI,IAAA,CAAK,OAAA,CAAQ,IAAI,CAAA;AACzC,QAAA,MAAM,UACJ,WAAA,CAAY,OAAA,EAAQ,KAAM,KAAA,CAAM,SAAQ,IACxC,WAAA,CAAY,QAAA,EAAS,KAAM,MAAM,QAAA,EAAS,IAC1C,YAAY,WAAA,EAAY,KAAM,MAAM,WAAA,EAAY;AAElD,QAAA,MAAM,WAAA,GACJ,IAAI,IAAA,CAAK,KAAA,CAAM,QAAQ,KAAA,CAAM,OAAA,EAAQ,GAAI,CAAC,CAAC,CAAA,CAAE,YAAA,EAAa,KAC1D,YAAY,YAAA,EAAa;AAC3B,QAAA,MAAM,UAAA,GACJ,IAAI,IAAA,CAAK,KAAA,CAAM,QAAQ,KAAA,CAAM,OAAA,EAAQ,GAAI,CAAC,CAAC,CAAA,CAAE,YAAA,EAAa,KAC1D,YAAY,YAAA,EAAa;AAE3B,QAAA,IAAI,SAAS,OAAO,OAAA;AACpB,QAAA,IAAI,aAAa,OAAO,WAAA;AACxB,QAAA,IAAI,YAAY,OAAO,UAAA;AAEvB,QAAA,OAAO,WAAA,CAAY,mBAAmB,MAAA,EAAW;AAAA,UAC/C,GAAA,EAAK,SAAA;AAAA,UACL,KAAA,EAAO,MAAA;AAAA,UACP,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,OACH,GAAG,mBAEHA,GAAAA,CAAC,UAAK,QAAA,EAAA,aAAA,EAAW;AAAA;AAAA,GAErB;AAGF,EAAA,IAAI,QAAA,EAAU;AACZ,IAAA,OAAO,OAAA;AAAA;AAGT,EAAA,uBACEG,IAAAA;AAAA,IAAC,YAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,SAAA,EAAU,cAAA;AAAA,MACV,UAAA,EAAY;AAAA,QACV,GAAG,KAAA,CAAM,UAAA;AAAA,QACT,eAAA,EAAiB;AAAA,OACnB;AAAA,MAEA,QAAA,EAAA;AAAA,wBAAAA,IAAAA,CAACkB,UAAA,EACC,QAAA,EAAA;AAAA,0BAAArB,GAAAA,CAAC,cAAA,EAAA,EAAe,OAAA,EAAO,IAAA,EAAE,QAAA,EAAA,OAAA,EAAQ,CAAA;AAAA,0BACjCA,GAAAA,CAAC,cAAA,EAAA,EAAe,SAAA,EAAU,cACxB,QAAA,kBAAAA,GAAAA;AAAA,YAAC,QAAA;AAAA,YAAA;AAAA,cACC,QAAA,EAAU,IAAI,IAAA,CAAK,OAAA,CAAQ,IAAc,CAAA;AAAA,cACzC,QAAA,EAAU,CAAC,IAAA,KAAS;AAClB,gBAAA,IAAI,CAAC,IAAA,EAAM;AAEX,gBAAA,MAAA,CAAO,EAAA,CAAG,QAAA;AAAA,kBACR,EAAE,IAAA,EAAM,IAAA,CAAK,YAAA,EAAa,EAAE;AAAA,kBAC5B,EAAE,IAAI,OAAA;AAAQ,iBAChB;AAAA,eACF;AAAA,cACA,IAAA,EAAK,QAAA;AAAA,cACL,YAAA,EAAY;AAAA;AAAA,WACd,EACF;AAAA,SAAA,EACF,CAAA;AAAA,QACC,KAAA,CAAM;AAAA;AAAA;AAAA,GACT;AAEJ;AClFA,IAAM,uBAAA,GAA0BS,GAAAA;AAAA,EAC9B,wQAAA;AAAA,EACA;AAAA,IACE,eAAA,EAAiB;AAAA,MACf,OAAA,EAAS;AAAA,KACX;AAAA,IACA,QAAA,EAAU;AAAA,MACR,OAAA,EAAS;AAAA,QACP,OAAA,EAAS,EAAA;AAAA,UACP,0DAAA;AAAA,UACA,6DAAA;AAAA,UACA,sIAAA;AAAA,UACA;AAAA,SACF;AAAA,QACA,OAAA,EAAS,QAAA;AAAA,QACT,IAAA,EAAM,WAAA;AAAA,QACN,MAAA,EAAQ,EAAA;AAAA,UACN,mIAAA;AAAA,UACA;AAAA;AACF;AACF;AACF;AAEJ,CAAA;AAEO,IAAM,kBAAkB,CAAC;AAAA,EAC9B,SAAA;AAAA,EACA,OAAA;AAAA,EACA,GAAG;AACL,CAAA,KACmD;AACjD,EAAA,uBACET,GAAAA;AAAA,IAAC,cAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,8BAAA;AAAA,QACA,uBAAA,CAAwB,EAAE,OAAA,EAAS,CAAA;AAAA,QACnC;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ,CAAA;AAEA,eAAA,CAAgB,WAAA,GAAc,iBAAA;AAE9B,IAAMgF,eAAAA,GAAiBvE,GAAAA;AAAA,EACrB,EAAA;AAAA,IACE,cAAA;AAAA,IACA,2FAAA;AAAA,IACA,8DAAA;AAAA,IACA,gLAAA;AAAA,IACA;AAAA,GACF;AAAA,EACA;AAAA,IACE,eAAA,EAAiB;AAAA,MACf,OAAA,EAAS;AAAA,KACX;AAAA,IACA,QAAA,EAAU;AAAA,MACR,QAAA,EAAU;AAAA,QACR,IAAA,EAAM;AAAA,OACR;AAAA,MACA,OAAA,EAAS;AAAA,QACP,IAAA,EAAM;AAAA,OACR;AAAA,MACA,OAAA,EAAS;AAAA,QACP,EAAA,EAAI,kCAAA;AAAA,QACJ,MAAA,EACE,6FAAA;AAAA,QACF,OAAA,EAAS,GAAG,iDAAiD,CAAA;AAAA,QAC7D,OAAA,EACE,wEAAA;AAAA,QACA,IAAA,EAAM,sEAAA;AAAA,QACN,SAAA,EAAW,+CAAA;AAAA,QACb,IAAA,EAAM,EAAA;AAAA,QACN,MAAA,EAAQ;AAAA;AACV;AACF;AAEJ,CAAA;AAKO,IAAM,MAAA,GAAewE,OAAA,CAAA,UAAA;AAAA,EAC1B,CAAC,EAAE,SAAA,EAAW,QAAA,EAAU,SAAS,OAAA,EAAS,GAAG,KAAA,EAAM,EAAG,GAAA,KAAQ;AAC5D,IAAA,uBACEjF,GAAAA;AAAA,MAAC,YAAA;AAAA,MAAA;AAAA,QACC,GAAA;AAAA,QACA,SAAA,EAAW,EAAA;AAAA,UACTgF,eAAAA,CAAe;AAAA,YACb,QAAA;AAAA,YACA,OAAA;AAAA,YACA;AAAA,WACD,CAAA;AAAA,UACD;AAAA,SACF;AAAA,QACA,QAAA;AAAA,QACA,oBAAA,EAAoB,IAAA;AAAA,QACnB,GAAG;AAAA;AAAA,KACN;AAAA;AAGN,CAAA;AAEA,MAAA,CAAO,WAAA,GAAc,QAAA;AAGEC,mBAGrB,CAAC,EAAE,WAAW,QAAA,EAAU,GAAG,KAAA,EAAM,EAAG,GAAA,KAAQ;AAC5C,EAAA,uBACEjF,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,GAAA;AAAA,MACA,SAAA,EAAW,EAAA;AAAA,QACT,sFAAA;AAAA,QACA,CAAC,QAAA,IACC,yFAAA;AAAA,QACF;AAAA,OACF;AAAA,MACC,GAAG,KAAA;AAAA,MACJ,iBAAiB,CAAC;AAAA;AAAA,GACpB;AAEJ,CAAC;ACtIM,IAAM,WAAA,GAAc,CAAI,KAAA,EAAUkF,MAAAA,GAAQ,GAAA,KAAQ;AACvD,EAAA,MAAM,CAAC,cAAA,EAAgB,iBAAiB,CAAA,GAAUC,iBAAS,KAAK,CAAA;AAEhE,EAAMA,kBAAU,MAAM;AACpB,IAAA,MAAM,OAAA,GAA0B,WAAW,MAAM;AAC/C,MAAA,iBAAA,CAAkB,KAAK,CAAA;AAAA,OACtBD,MAAK,CAAA;AAGR,IAAA,OAAO,MAAM;AACX,MAAA,YAAA,CAAa,OAAO,CAAA;AAAA,KACtB;AAAA,GACF,EAAG,CAAC,KAAA,EAAOA,MAAK,CAAC,CAAA;AAEjB,EAAA,OAAO,cAAA;AACT,CAAA;AC4BA,IAAM,qBAAA,GAA8B,OAAA,CAAA,aAAA;AAAA,EAClC;AACF,CAAA;AAEO,IAAM,aAAA,GAA0B,CACrC,EAAE,KAAA,EAAO,QAAA,GAAW,EAAC,EAAG,KAAA,EAAO,KAAA,EAAM,EACrC,MAAA,KACG;AACH,EAAA,MAAM,cAAc,IAAI,GAAA;AAAA,IACtB,CAAC,OAAO,GAAG,QAAA,EAAU,OAAO,KAAK,CAAA,CAAE,OAAO,OAAO;AAAA,GACnD;AAEA,EAAA,OAAO,KAAA,CAAM,IAAA,CAAK,WAAW,CAAA,CAAE,IAAA;AAAA,IAAK,CAAC,OAAA,KACnC,WAAA,CAAY,OAAA,EAAU,MAAM;AAAA,GAC9B;AACF,CAAA;AAaA,IAAM,iBAAiB,CAAC;AAAA,EACtB,QAAA;AAAA,EACA,OAAA;AAAA,EACA,MAAA,GAAS,aAAA;AAAA,EACT,eAAA,GAAkB,KAAA;AAAA,EAClB,QAAA,EAAU,YAAA;AAAA,EACV,WAAA,GAAc,IAAA;AAAA,EACd,OAAA;AAAA,EACA,KAAA,EAAO;AACT,CAAA,KAA2B;AACzB,EAAA,MAAM,SAASrD,YAAAA,EAAa;AAC5B,EAAA,MAAM,QAAA,GAAiB,eAAyB,IAAI,CAAA;AACpD,EAAA,MAAM,WAAA,GAAc,wBAAwB,QAAQ,CAAA;AAEpD,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAU,iBAAS,EAAE,CAAA;AACrD,EAAA,MAAM,eAAe,SAAA,KAAc,MAAA;AACnC,EAAA,MAAM,KAAA,GAAQ,eAAe,SAAA,GAAY,UAAA;AAEzC,EAAA,MAAM,QAAA,GAAiB,OAAA,CAAA,WAAA;AAAA,IACrB,CAAC,QAAA,KAAqB;AACpB,MAAA,YAAA,GAAe,QAAQ,CAAA;AAEvB,MAAA,IAAI,CAAC,YAAA,EAAc;AACjB,QAAA,aAAA,CAAc,QAAQ,CAAA;AAAA;AACxB,KACF;AAAA,IACA,CAAC,cAAc,YAAY;AAAA,GAC7B;AAMA,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,CAAA,GAAU,iBAA0B,IAAI,CAAA;AAE1E,EAAM,kBAAU,MAAM;AACpB,IAAA,MAAM,IAAA,GAAO,MAAA,CAAO,GAAA,CAAI,QAAA,CAAS,OAAO,CAAA;AAExC,IAAA,IAAI,CAAC,IAAA,EAAM;AAEX,IAAA,MAAM,KAAA,GAAQ,MAAA,CAAO,GAAA,CAAI,MAAA,CAAO,IAAI,CAAA;AAEpC,IAAA,IAAI,CAAC,KAAA,EAAO;AAEZ,IAAA,MAAM,QAAA,GAAW,MAAA,CAAO,GAAA,CAAI,QAAA,CAAS,KAAK,CAAA;AAC1C,IAAA,cAAA,CAAe,QAAQ,CAAA;AAEvB,IAAA,OAAO,MAAM;AACX,MAAA,QAAA,CAAS,KAAA,EAAM;AAAA,KACjB;AAAA,GACF,EAAG,CAAC,MAAA,EAAQ,OAAO,CAAC,CAAA;AAEpB,EAAA,MAAM,EAAE,KAAA,EAAO,UAAA,EAAY,WAAA,KAAgB,gBAAA,CAAiB;AAAA,IAC1D,iBAAA,EAAmB,KAAA;AAAA,IACnB,WAAA;AAAA,IACA,GAAA,EAAK,QAAA;AAAA,IACL,aAAA,EAAe,CAAC,KAAA,KAAU;AACxB,MAAA,IAAI,UAAU,WAAA,EAAa;AACzB,QAAA,MAAA,CAAO,EAAA,CAAG,UAAA,CAAW,OAAA,GAAU,KAAA,EAAO;AAAA,UACpC,EAAA,EAAI,aAAa,OAAA,IAAW;AAAA,SAC7B,CAAA;AAAA;AAEH,MAAA,IAAI,KAAA,KAAU,WAAA,IAAe,KAAA,KAAU,YAAA,EAAc;AACnD,QAAA,MAAA,CAAO,GAAG,IAAA,CAAK;AAAA,UACb,QAAA,EAAU,CAAA;AAAA,UACV,SAAS,KAAA,KAAU;AAAA,SACpB,CAAA;AAAA;AACH;AACF,GACD,CAAA;AAED,EAAA,MAAM,CAAC,QAAA,EAAU,WAAW,CAAA,GAAU,iBAAS,KAAK,CAAA;AAEpD,EAAA,MAAM,YAAA,GAAiD,OAAA,CAAA,OAAA;AAAA,IACrD,OAAO;AAAA,MACL,MAAA;AAAA,MACA,UAAA;AAAA,MACA,QAAA;AAAA,MACA,WAAA;AAAA,MACA,WAAA;AAAA,MACA,WAAA;AAAA,MACA;AAAA,KACF,CAAA;AAAA,IACA;AAAA,MACE,OAAA;AAAA,MACA,WAAA;AAAA,MACA,MAAA;AAAA,MACA,QAAA;AAAA,MACA,UAAA;AAAA,MACA,WAAA;AAAA,MACA;AAAA;AACF,GACF;AAEA,EAAA,MAAM,QAAQ,gBAAA,CAAiB;AAAA;AAAA,IAE7B,UAAU,CAAC,QAAA,KAAmB,wBAAgB,MAAM,QAAA,CAAS,QAAQ,CAAC;AAAA,GACvE,CAAA;AAED,EAAA,MAAMuD,MAAAA,GAAQ,KAAA,CAAM,QAAA,CAAS,OAAO,CAAA;AAMpC,EAAM,kBAAU,MAAM;AACpB,IAAA,IAAI,CAAC,KAAA,CAAM,QAAA,EAAS,CAAE,QAAA,EAAU;AAC9B,MAAA,KAAA,CAAM,WAAA,CAAY,KAAA,CAAM,KAAA,EAAO,CAAA;AAAA;AACjC,GACF,EAAG,CAACA,MAAAA,EAAO,KAAK,CAAC,CAAA;AAEjB,EAAA,uBACEpF,GAAAA,CAAC,MAAA,EAAA,EAAK,eAAA,EAAiB,OACrB,QAAA,kBAAAA,GAAAA;AAAA,IAAC,gBAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAA,CACGoF,OAAM,MAAA,GAAS,CAAA,IAAK,cACpB,CAAC,eAAA,IAAmB,MAAM,MAAA,GAAS,CAAA,CAAA;AAAA,MAEtC,KAAA;AAAA,MAEA,0BAAApF,GAAAA,CAAC,qBAAA,CAAsB,UAAtB,EAA+B,KAAA,EAAO,cACpC,QAAA,EACH;AAAA;AAAA,GACF,EACF,CAAA;AAEJ,CAAA;AAEA,IAAM,mBAAA,GAA4B,mBAGhC,CAAC,EAAE,WAAW,GAAG,KAAA,IAAS,OAAA,KAAY;AACtC,EAAA,MAAM;AAAA,IACJ,UAAA;AAAA,IACA,QAAA,EAAU,UAAA;AAAA,IACV,WAAA;AAAA,IACA;AAAA,GACF,GAAU,mBAAW,qBAAqB,CAAA;AAE1C,EAAA,MAAM,QAAQ,kBAAA,EAAmB;AACjC,EAAA,MAAM,KAAA,GAAQ,KAAA,CAAM,QAAA,CAAS,OAAO,CAAA;AAEpC,EAAA,MAAM,GAAA,GAAMiE,cAAAA,CAAe,OAAA,EAAS,UAAU,CAAA;AAS9C,EAAA,uBACE9D,IAAAA,CAAAgB,QAAAA,EAAA,EACG,QAAA,EAAA;AAAA,IAAA,WAAA,IAAe,OAAA;AAAA,oBAEhBhB,IAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,sBAAA,EACd,QAAA,EAAA;AAAA,sBAAAH,GAAAA;AAAA,QAAC,MAAA;AAAA,QAAA;AAAA,UACC,SAAA,EAAU,uCAAA;AAAA,UACV,aAAA,EAAY,MAAA;AAAA,UAEX,QAAA,EAAA,KAAA,IAAS;AAAA;AAAA,OACZ;AAAA,sBAEAA,GAAAA;AAAA,QAAC,QAAA;AAAA,QAAA;AAAA,UACC,GAAA;AAAA,UACA,SAAA,EAAW,EAAA;AAAA,YACT,6DAAA;AAAA,YACA;AAAA,WACF;AAAA,UACA,KAAA;AAAA,UACA,UAAA,EAAU,IAAA;AAAA,UACT,GAAG,UAAA;AAAA,UACH,GAAG;AAAA;AAAA;AACN,KAAA,EACF;AAAA,GAAA,EACF,CAAA;AAEJ,CAAC,CAAA;AAED,mBAAA,CAAoB,WAAA,GAAc,qBAAA;AAElC,IAAM,wBAAgD,CAAC;AAAA,EACrD,SAAA;AAAA,EACA,GAAG;AACL,CAAA,KAAM;AAEJ,EAAA,uBACEA,GAAAA,CAACqF,MAAAA,EAAA,EACC,QAAA,kBAAArF,GAAAA;AAAA,IAAC,eAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,+EAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN,EACF,CAAA;AAEJ,CAAA;AAEA,IAAM,oBAAA,GAAuBS,GAAAA;AAAA,EAC3B,uKAAA;AAAA,EACA;AAAA,IACE,eAAA,EAAiB;AAAA,MACf,WAAA,EAAa;AAAA,KACf;AAAA,IACA,QAAA,EAAU;AAAA,MACR,WAAA,EAAa;AAAA,QACX,KAAA,EAAO,EAAA;AAAA,QACP,IAAA,EAAM;AAAA;AACR;AACF;AAEJ,CAAA;AAUA,IAAM,qBAAqB,CAAC;AAAA,EAC1B,SAAA;AAAA,EACA,WAAA,GAAc,IAAA;AAAA,EACd,KAAA;AAAA,EACA,QAAA;AAAA,EACA,KAAA;AAAA,EACA,OAAA;AAAA,EACA,GAAG;AACL,CAAA,KAA+B;AAC7B,EAAA,MAAM,EAAE,OAAM,GAAI,KAAA;AAElB,EAAA,MAAM,EAAE,MAAA,EAAQ,WAAA,EAAY,GAAU,mBAAW,qBAAqB,CAAA;AAEtE,EAAA,MAAM,QAAQ,kBAAA,EAAmB;AAGjC,EAAA,MAAM,MAAA,GAAS,MAAA,IAAU,KAAA,CAAM,QAAA,CAAS,OAAO,CAAA;AAE/C,EAAA,MAAM,OAAA,GAAgB,OAAA,CAAA,OAAA;AAAA,IACpB,MACE,CAAC,MAAA,IAAU,MAAA,CAAO,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,KAAA,EAAM,EAAG,MAAgB,CAAA;AAAA,IACvE,CAAC,MAAA,EAAQ,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,OAAO,MAAM;AAAA,GAChD;AAEA,EAAA,IAAI,CAAC,SAAS,OAAO,IAAA;AAErB,EAAA,uBACET,GAAAA;AAAA,IAAC,YAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA,CAAG,oBAAA,EAAqB,EAAG,SAAS,CAAA;AAAA,MAC/C,OAAA,EAAS,CAAC,KAAA,KAAU;AAClB,QAAA,WAAA,CAAY,WAAW,CAAA;AACvB,QAAA,OAAA,GAAU,KAAK,CAAA;AAAA,OACjB;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ,CAAA;AAEA,IAAM,sBAAsB,CAAC;AAAA,EAC3B,QAAA;AAAA,EACA;AACF,CAAA,KAA4C;AAC1C,EAAA,MAAM,EAAE,WAAA,EAAY,GAAU,OAAA,CAAA,UAAA,CAAW,qBAAqB,CAAA;AAC9D,EAAA,MAAM,QAAQ,kBAAA,EAAmB;AACjC,EAAA,MAAMoF,MAAAA,GAAQ,KAAA,CAAM,QAAA,CAAS,OAAO,CAAA;AAEpC,EAAM,kBAAU,MAAM;AACpB,IAAA,WAAA,CAAY,IAAI,CAAA;AAEhB,IAAA,OAAO,MAAM;AACX,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,KACnB;AAAA,GACF,EAAG,CAAC,WAAW,CAAC,CAAA;AAEhB,EAAA,IAAIA,MAAAA,CAAM,MAAA,GAAS,CAAA,EAAG,OAAO,IAAA;AAE7B,EAAA,uBACEpF,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,GAAG,oBAAA,CAAqB,EAAE,aAAa,KAAA,EAAO,GAAG,SAAS,CAAA;AAAA,MAEpE;AAAA;AAAA,GACH;AAEJ,CAAA;AAIA,SAAS,mBAAA,CAAoB;AAAA,EAC3B,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA+C;AAC7C,EAAA,uBACEA,GAAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,SAAA,EAAW,EAAA;AAAA,QACT,8DAAA;AAAA,QACA;AAAA;AACF;AAAA,GACF;AAEJ;AAEA,SAAS,wBAAA,CAAyB;AAAA,EAChC,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAoD;AAClD,EAAA,uBACEA,GAAAA;AAAA,IAAC,kBAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,SAAA,EAAW,EAAA;AAAA,QACT,4DAAA;AAAA,QACA;AAAA;AACF;AAAA,GACF;AAEJ;ACjXO,SAAS,kBAAkB,KAAA,EAA0B;AAC1D,EAAA,MAAM,EAAE,QAAA,EAAU,MAAA,EAAQ,OAAA,EAAQ,GAAI,KAAA;AACtC,EAAA,MAAM,IAAA,GAAOiD,eAAAA,CAAgB,WAAA,EAAa,MAAM,CAAA;AAChD,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAUqC,iBAAS,EAAE,CAAA;AAC3C,EAAA,MAAM,cAAA,GAAiB,WAAA,CAAY,KAAA,EAAO,GAAG,CAAA;AAC7C,EAAA,MAAM,YAAY,KAAA,KAAU,cAAA;AAE5B,EAAA,MAAM,cAAA,GAAuBA,gBAAQ,MAAM;AACzC,IAAA,IAAI,eAAe,IAAA,EAAK,CAAE,MAAA,KAAW,CAAA,SAAU,EAAC;AAEhD,IAAA,OAAO,sBAAA,CAAuB,WAAA,CAAY,IAAI,CAAA,CAC3C,MAAA,CAAO,cAAA,CAAe,OAAA,CAAQ,IAAA,EAAM,EAAE,CAAC,CAAA,CACvC,GAAA,EAAI;AAAA,GACT,EAAG,CAAC,IAAA,EAAM,cAAc,CAAC,CAAA;AAEzB,EAAA,uBACEnF,IAAAA,CAACoF,YAAAA,EAAA,EAAa,EAAA,EAAG,QAAO,kBAAA,EAAkB,OAAA,CAAQ,KAAA,EAAQ,GAAG,KAAA,EAC3D,QAAA,EAAA;AAAA,oBAAApF,IAAAA;AAAA,MAAC,cAAA;AAAA,MAAA;AAAA,QACC,KAAA;AAAA,QACA,OAAA;AAAA,QACA,MAAA,EAAQ,KAAA;AAAA,QACR,QAAA;AAAA,QACA,OAAA,EAAQ,GAAA;AAAA,QACR,eAAA,EAAe,IAAA;AAAA,QAEf,QAAA,EAAA;AAAA,0BAAAH,IAAC,mBAAA,EAAA,EAAoB,CAAA;AAAA,0BAErBG,KAAC,qBAAA,EAAA,EACE,QAAA,EAAA;AAAA,YAAA,CAAC,SAAA,oBAAaH,GAAAA,CAAC,mBAAA,EAAA,EAAoB,QAAA,EAAA,YAAA,EAAU,CAAA;AAAA,4BAE9CA,GAAAA,CAAC,mBAAA,EAAA,EACE,yBAAe,GAAA,CAAI,CAAC,0BACnBG,IAAAA;AAAA,cAAC,kBAAA;AAAA,cAAA;AAAA,gBAEC,OAAO,KAAA,CAAM,IAAA;AAAA,gBACb,OAAA,EAAS,MAAM,WAAA,CAAY,MAAA,EAAQ,KAAK,CAAA;AAAA,gBAEvC,QAAA,EAAA;AAAA,kBAAA,KAAA,CAAM,KAAA,CAAM,CAAC,CAAA,CAAE,MAAA;AAAA,kBAAO,GAAA;AAAA,kBAAE,KAAA,CAAM;AAAA;AAAA,eAAA;AAAA,cAJ1B,KAAA,CAAM;AAAA,aAMd,CAAA,EACH;AAAA,WAAA,EACF;AAAA;AAAA;AAAA,KACF;AAAA,IAEC;AAAA,GAAA,EACH,CAAA;AAEJ;AC7CA,IAAM,aAAA,GAAgB,wBAAA,CAAyB,gBAAgB,CAAA,CAAE;AAAA,EAC/D,SAAA,EAAW;AACb,CAAC,CAAA;AAED,IAAM,yBAAyB,CAAC;AAAA,EAC9B,SAAA;AAAA,EACA,QAAA;AAAA,EACA,IAAA;AAAA,EACA,OAAA;AAAA,EACA,GAAG;AACL,CAAA,KAI8B;AAC5B,EAAA,MAAM,SAAS0B,YAAAA,EAAa;AAC5B,EAAA,MAAM,WAAW2D,WAAAA,EAAY;AAC7B,EAAA,MAAM,UAAUC,UAAAA,EAA6B;AAE7C,EAAMC,kBAAU,MAAM;AACpB,IAAA,IAAI,YAAY,IAAA,EAAM;AACpB,MAAA,OAAA,CAAQ,IAAI,CAAA;AAAA;AACd,GACF,EAAG,CAAC,QAAA,EAAU,IAAA,EAAM,OAAO,CAAC,CAAA;AAE5B,EAAA,IAAI,UAAU,OAAO,IAAA;AAErB,EAAA,MAAM,UAAU,MAAM;AACpB,IAAA,OAAA,CAAQ,KAAK,CAAA;AAEb,IAAA,IAAI,QAAA,EAAU;AACZ,MAAA,MAAA,CAAO,GAAG,MAAA,CAAO,OAAA,EAAS,EAAE,IAAA,EAAM,MAAM,CAAA;AAAA,KAC1C,MAAO;AACL,MAAA,MAAA,CACG,OAAO,oBAAoB,CAAA,CAC3B,cAAA,CAAe,GAAA,CAAI,QAAQ,EAAY,CAAA;AAAA;AAC5C,GACF;AAEA,EAAA,uBACEvF,IAAAA;AAAA,IAAC,cAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,YAAA;AAAA,MACV,eAAA,EAAiB,CAAC,CAAA,KAAM;AACtB,QAAA,CAAA,CAAE,cAAA,EAAe;AAAA,OACnB;AAAA,MACA,eAAA,EAAiB,KAAA;AAAA,MAEjB,QAAA,EAAA;AAAA,wBAAAH,GAAAA;AAAA,UAAC,aAAA;AAAA,UAAA;AAAA,YACC,SAAA,EAAW,EAAA,CAAG,2CAAA,EAA6C,SAAS,CAAA;AAAA,YACpE,KAAA,EAAO,EAAE,QAAA,EAAU,IAAA,EAAM,OAAA,EAAQ;AAAA,YACjC,SAAA,EAAS,IAAA;AAAA,YACR,GAAG;AAAA;AAAA,SACN;AAAA,wBAEAG,KAACO,OAAAA,EAAA,EAAO,SAAQ,WAAA,EAAY,SAAA,EAAU,MAAA,EAAO,OAAA,EAAS,OAAA,EAAS,QAAA,EAAA;AAAA,UAAA,OAAA;AAAA,0BACxDV,GAAAA,CAAC,kBAAA,EAAA,EAAmB,SAAA,EAAU,UAAA,EAAW;AAAA,SAAA,EAChD;AAAA;AAAA;AAAA,GACF;AAEJ,CAAA;AC9DO,SAAS,sBACd,KAAA,EACA;AACA,EAAA,MAAM,UAAU,KAAA,CAAM,OAAA;AACtB,EAAA,MAAM,QAAA,GAAiB2F,eAA8B,IAAI,CAAA;AACzD,EAAA,MAAM,WAAW,WAAA,EAAY;AAC7B,EAAA,MAAM,WAAA,GAAcxC,iBAAAA;AAAA,IAClB,CAAC,MAAA,KAAW,MAAA,CAAO,GAAA,CAAI,WAAA,EAAY;AAAA,IACnC;AAAC,GACH;AACA,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAUwC,OAAA,CAAA,QAAA,CAAS,YAAY,WAAW,CAAA;AAE9D,EAAA,kBAAA,CAAmB;AAAA,IACjB,OAAA;AAAA,IACA,QAAA;AAAA,IACA,OAAA,EAAS;AAAA,MACP,WAAA,EAAa,IAAA;AAAA,MACb,UAAA,EAAY,SAAA;AAAA,MACZ,KAAA,EAAO,KAAA;AAAA,MACP,KAAA,EAAO,KAAA;AAAA,MACP,MAAA,EAAQ,EAAE,KAAA,EAAO,SAAA,EAAU;AAAA,MAC3B,MAAA,EAAQ,eAAA;AAAA,MACR,MAAA,EAAQ,MAAA;AAAA,MACR,YAAA,EAAc,KAAA;AAAA,MACd,KAAA,EAAO;AAAA;AACT,GACD,CAAA;AAED,EAAA,uBACExF,IAAAA;AAAA,IAACoF,YAAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,SAAA,EAAW,EAAA;AAAA,QACT;AAAA,OACF;AAAA,MAEA,QAAA,EAAA;AAAA,wBAAApF,KAACkB,QAAAA,EAAA,EAAQ,MAAY,YAAA,EAAc,OAAA,EAAS,OAAO,KAAA,EACjD,QAAA,EAAA;AAAA,0BAAArB,GAAAA,CAAC,cAAA,EAAA,EAAe,OAAA,EAAO,IAAA,EACrB,QAAA,kBAAAG,IAAAA;AAAA,YAAC,KAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAW,EAAA;AAAA,gBACT,2JAAA;AAAA,gBACA,KAAA;AAAA,gBACA,OAAA,CAAQ,aAAA,CAAc,MAAA,GAAS,CAAA,IAAK,IAAA,IAAQ,mBAAA;AAAA,gBAC5C,OAAA,CAAQ,aAAA,CAAc,MAAA,KAAW,CAAA,IAC/B;AAAA,eACJ;AAAA,cACA,eAAA,EAAiB,KAAA;AAAA,cAEjB,QAAA,EAAA;AAAA,gCAAAH,GAAAA;AAAA,kBAAC,MAAA;AAAA,kBAAA;AAAA,oBACC,GAAA,EAAK,QAAA;AAAA,oBACL,SAAA,EAAW,EAAA;AAAA,sBACT,OAAA,CAAQ,aAAA,CAAc,MAAA,KAAW,CAAA,IAAK,QAAA;AAAA,sBACtC;AAAA;AACF;AAAA,iBACF;AAAA,gBACC,QAAQ,aAAA,CAAc,MAAA,KAAW,CAAA,oBAChCG,KAAC,MAAA,EAAA,EACC,QAAA,EAAA;AAAA,kCAAAH,GAAAA,CAACmE,WAAAA,EAAA,EAAY,SAAA,EAAU,6DAAA,EAA8D,CAAA;AAAA,kBAAE;AAAA,iBAAA,EAEzF;AAAA;AAAA;AAAA,WAEJ,EACF,CAAA;AAAA,0BAEAnE,GAAAA;AAAA,YAAC,sBAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAU,SAAA;AAAA,cACV,IAAA;AAAA,cACA,WAAA,EAAY,UAAA;AAAA,cACZ,OAAA;AAAA,cACA,QAAA,EAAQ;AAAA;AAAA;AACV,SAAA,EACF,CAAA;AAAA,QAEC,KAAA,CAAM;AAAA;AAAA;AAAA,GACT;AAEJ;ACrFO,SAAS,YAAY,KAAA,EAAwC;AAClE,EAAA,MAAM,EAAE,OAAO,SAAA,EAAU,GAAI,QAAQ,EAAE,OAAA,EAAS,KAAA,CAAM,OAAA,EAAS,CAAA;AAE/D,EAAA,uBACEA,GAAAA;AAAA,IAACuF,YAAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,EAAA,EAAG,GAAA;AAAA,MACH,SAAA,EAAU,0EAAA;AAAA,MACV,UAAA,EAAY;AAAA,QACV,GAAG,KAAA,CAAM,UAAA;AAAA,QACT,GAAI;AAAA,OACN;AAAA,MAEC,QAAA,EAAA,KAAA,CAAM;AAAA;AAAA,GACT;AAEJ;ACxBO,SAAS,UAAA,GAAa;AAC3B,EAAA,MAAM,CAAC,OAAA,EAAS,UAAU,CAAA,GAAUK,iBAAS,KAAK,CAAA;AAElD,EAAMA,kBAAU,MAAM;AACpB,IAAA,UAAA,CAAW,IAAI,CAAA;AAAA,GACjB,EAAG,EAAE,CAAA;AAEL,EAAA,OAAO,OAAA;AACT;ACQO,SAAS,eACd,KAAA,EAGA;AACA,EAAA,MAAM,UAAU,KAAA,CAAM,OAAA;AACtB,EAAA,MAAM,WAAWC,WAAAA,EAAY;AAC7B,EAAA,MAAM,UAAU,UAAA,EAAW;AAC3B,EAAA,MAAM,UAAU,UAAA,EAAW;AAC3B,EAAA,MAAM,WAAWL,WAAAA,EAAY;AAE7B,EAAA,uBACExF,GAAAA;AAAA,IAACuF,YAAAA;AAAA,IAAA;AAAA,MACE,GAAG,KAAA;AAAA,MACJ,SAAA,EAAW,EAAA;AAAA,QACT,mFAAA;AAAA,QACA,CAAC,QAAA,IAAY,gBAAA;AAAA,QACb,YAAY,OAAA,IAAW,kBAAA;AAAA,QACvB,OAAA,CAAQ,QAAA,CAAS,CAAC,CAAA,CAAE,SAAS,IAAA,IAAQ,WAAA;AAAA,QACrC,OAAA,CAAQ,QAAA,CAAS,CAAC,CAAA,CAAE,WAAW,IAAA,IAAQ,QAAA;AAAA,QACvC,OAAA,CAAQ,QAAA,CAAS,CAAC,CAAA,CAAE,cAAc,IAAA,IAAQ;AAAA,OAC5C;AAAA,MACA,UAAA,EAAY;AAAA,QACV,GAAG,KAAA,CAAM,UAAA;AAAA,QACT,eAAA,EAAiB,KAAA;AAAA,QACjB,oBAAoB,OAAA,CAAQ,KAAA;AAAA,QAC5B,SAAA,EAAW;AAAA,OACb;AAAA,MAEC,QAAA,EAAA,OAAA,IAAWO,QAAAA;AAAA;AAAA,wBAEV3F,IAAAA,CAAO4F,OAAA,CAAA,QAAA,EAAN,EACE,QAAA,EAAA;AAAA,UAAA,KAAA,CAAM,QAAA;AAAA,UACN,KAAA,CAAM,MAAA;AAAA,UACN,OAAA,CAAQ;AAAA,SAAA,EACX;AAAA;AAAA;AAAA,wBAGA5F,IAAAA,CAAO4F,OAAA,CAAA,QAAA,EAAN,EACE,QAAA,EAAA;AAAA,UAAA,KAAA,CAAM,MAAA;AAAA,UACN,OAAA,CAAQ,KAAA;AAAA,UACR,KAAA,CAAM;AAAA,SAAA,EACT;AAAA;AAAA;AAAA,GAEJ;AAEJ;AC7CA,IAAM,eAAe,sBAAA,EAAuB;AAErC,SAAS,oBACd,KAAA,EACA;AACA,EAAA,MAAM,EAAE,MAAA,EAAQ,OAAA,EAAQ,GAAI,KAAA;AAC5B,EAAA,MAAM,CAAC,MAAA,EAAQ,SAAS,CAAA,GAAUC,iBAAS,EAAE,CAAA;AAE7C,EAAA,uBACE7F,IAAAA,CAACoF,YAAAA,EAAA,EAAc,GAAG,OAAO,EAAA,EAAG,MAAA,EAAO,kBAAA,EAAkB,OAAA,CAAQ,KAAA,EAC3D,QAAA,EAAA;AAAA,oBAAApF,IAAAA;AAAA,MAAC,cAAA;AAAA,MAAA;AAAA,QACC,KAAA,EAAO,MAAA;AAAA,QACP,OAAA;AAAA,QACA,QAAA,EAAU,SAAA;AAAA,QACV,WAAA,EAAa,KAAA;AAAA,QACb,OAAA,EAAQ,GAAA;AAAA,QAER,QAAA,EAAA;AAAA,0BAAAH,IAAC,MAAA,EAAA,EAAK,SAAA,EAAU,uGACd,QAAA,kBAAAA,GAAAA,CAAC,uBAAoB,CAAA,EACvB,CAAA;AAAA,0BAEAG,IAAAA,CAAC,qBAAA,EAAA,EAAsB,SAAA,EAAU,QAAA,EAC/B,QAAA,EAAA;AAAA,4BAAAH,GAAAA,CAAC,uBAAoB,QAAA,EAAA,YAAA,EAAU,CAAA;AAAA,4BAE/BA,GAAAA,CAAC,mBAAA,EAAA,EACE,uBAAa,GAAA,CAAI,CAAC,yBACjBA,GAAAA;AAAA,cAAC,kBAAA;AAAA,cAAA;AAAA,gBAEC,OAAO,IAAA,CAAK,IAAA;AAAA,gBACZ,OAAA,EAAS,MAAM,YAAA,CAAa,MAAA,EAAQ,MAAM,MAAM,CAAA;AAAA,gBAE/C,QAAA,EAAA,IAAA,CAAK;AAAA,eAAA;AAAA,cAJD,IAAA,CAAK;AAAA,aAMb,CAAA,EACH;AAAA,WAAA,EACF;AAAA;AAAA;AAAA,KACF;AAAA,IAEC,KAAA,CAAM;AAAA,GAAA,EACT,CAAA;AAEJ;AAEO,IAAM,YAAA,GAAe;AAAA,EAC1B,EAAE,GAAA,EAAK,GAAA,EAAK,IAAA,EAAM,cAAA,EAAe;AAAA,EACjC,EAAE,GAAA,EAAK,GAAA,EAAK,IAAA,EAAM,YAAA,EAAa;AAAA,EAC/B;AAAA,IACE,GAAA,EAAK,GAAA;AAAA,IACL,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,GAAA,EAAK,GAAA;AAAA,IACL,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,GAAA,EAAK,GAAA;AAAA,IACL,IAAA,EAAM;AAAA,GACR;AAAA,EACA,EAAE,GAAA,EAAK,GAAA,EAAK,IAAA,EAAM,eAAA,EAAgB;AAAA,EAClC,EAAE,GAAA,EAAK,GAAA,EAAK,IAAA,EAAM,gBAAA,EAAiB;AAAA,EACnC;AAAA,IACE,GAAA,EAAK,GAAA;AAAA,IACL,IAAA,EAAM;AAAA,GACR;AAAA,EACA,EAAE,GAAA,EAAK,GAAA,EAAK,IAAA,EAAM,gBAAA,EAAiB;AAAA,EACnC;AAAA,IACE,GAAA,EAAK,GAAA;AAAA,IACL,IAAA,EAAM;AAAA,GACR;AAAA,EACA,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,YAAA,EAAa;AAAA,EAChC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,cAAA,EAAe;AAAA,EAClC;AAAA,IACE,GAAA,EAAK,IAAA;AAAA,IACL,IAAA,EAAM;AAAA,GACR;AAAA,EACA,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,SAAA,EAAU;AAAA,EAC7B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,OAAA,EAAQ;AAAA,EAC3B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,cAAA,EAAe;AAAA,EAClC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,MAAA,EAAO;AAAA,EAC1B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,MAAA,EAAO;AAAA,EAC1B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,cAAA,EAAe;AAAA,EAClC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,OAAA,EAAQ;AAAA,EAC3B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,cAAA,EAAe;AAAA,EAClC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,gBAAA,EAAiB;AAAA,EACpC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,YAAA,EAAa;AAAA,EAChC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,OAAA,EAAQ;AAAA,EAC3B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,UAAA,EAAW;AAAA,EAC9B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,QAAA,EAAS;AAAA,EAC5B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,iBAAA,EAAkB;AAAA,EACrC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,iBAAA,EAAkB;AAAA,EACrC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,eAAA,EAAgB;AAAA,EACnC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,aAAA,EAAc;AAAA,EACjC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,cAAA,EAAe;AAAA,EAClC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,MAAA,EAAO;AAAA,EAC1B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,OAAA,EAAQ;AAAA,EAC3B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,gBAAA,EAAiB;AAAA,EACpC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,cAAA,EAAe;AAAA,EAClC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,WAAA,EAAY;AAAA,EAC/B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,aAAA,EAAc;AAAA,EACjC;AAAA,IACE,GAAA,EAAK,IAAA;AAAA,IACL,IAAA,EAAM;AAAA,GACR;AAAA,EACA,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,iBAAA,EAAkB;AAAA,EACrC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,gBAAA,EAAiB;AAAA,EACpC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,WAAA,EAAY;AAAA,EAC/B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,SAAA,EAAU;AAAA,EAC7B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,YAAA,EAAa;AAAA,EAChC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,gBAAA,EAAiB;AAAA,EACpC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,WAAA,EAAY;AAAA,EAC/B,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,OAAA,EAAQ;AAAA,EAC3B;AAAA,IACE,GAAA,EAAK,IAAA;AAAA,IACL,IAAA,EAAM;AAAA,GACR;AAAA,EACA,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,aAAA,EAAc;AAAA,EACjC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,aAAA,EAAc;AAAA,EACjC,EAAE,GAAA,EAAK,IAAA,EAAM,IAAA,EAAM,MAAA;AACrB,CAAA;ACzFO,IAAM,mBAAmB,CAC9B,OAAA,GAAqD,EAAC,EACtD,IAAA,GAAc,EAAC,KACZ;AACH,EAAA,MAAM,aAAA,GAAgB,eAAA;AAAA,IACpB;AAAA,MACE,EAAA,EAAI,SAAA;AAAA,MACJ,UAAA,EAAY;AAAA,QACV,CAAC,QAAA,CAAS,GAAG,GAAG,MAAA;AAAA,QAChB,CAACiG,WAAW,GAAG,GAAGC,UAAU,SAAA,EAAW,EAAE,EAAA,EAAI,QAAA,EAAU,CAAA;AAAA,QACvD,CAACC,UAAAA,CAAW,GAAG,GAAG,WAAA;AAAA,QAClB,CAAC,gBAAA,CAAiB,GAAG,GAAG,iBAAA;AAAA,QACxB,CAACC,oBAAAA,CAAqB,GAAG,GAAG,qBAAA;AAAA,QAC5B,CAACC,aAAa,GAAG,GAAGH,UAAU,SAAA,EAAW,EAAE,EAAA,EAAI,IAAA,EAAM,CAAA;AAAA,QACrD,CAACI,UAAAA,CAAW,GAAG,GAAG,WAAA;AAAA,QAClB,CAAC,kBAAA,CAAmB,GAAG,GAAG,mBAAA;AAAA,QAC1B,CAAC,aAAA,CAAc,GAAG,GAAG,cAAA;AAAA,QACrB,CAACC,oBAAoB,GAAG,GAAGL,UAAU,SAAA,EAAW,EAAE,EAAA,EAAI,GAAA,EAAK,CAAA;AAAA,QAC3D,CAACM,gBAAgB,GAAG,GAAGN,UAAU,SAAA,EAAW,EAAE,EAAA,EAAI,GAAA,EAAK;AAAA;AAAA,OAEzD;AAAA,MACA,YAAA,EAAc,KAAA;AAAA,MACd,OAAA,EAAS,CAAC,gBAAgB,CAAA;AAAA,MAC1B,OAAO,EAAC;AAAA,MACR,GAAG;AAAA,KACL;AAAA,IACA;AAAA,GACF;AAEA,EAAA,OAAO,aAAA;AACT,CAAA;AAEO,SAAS,iBAAA,CAAkB;AAAA,EAChC,SAAA,GAAY,KAAA;AAAA,EACZ,SAAA;AAAA,EACA,YAAA,EAAc,gBAAA;AAAA,EACd,YAAA,GAAe;AACjB,CAAA,EAKG;AACD,EAAA,MAAM,WAAA,GAAcjD,eAAAA,CAAgB,gBAAA,EAAkB,aAAa,CAAA;AAEnE,EAAA,MAAM,SAASpB,YAAAA,EAAa;AAC5B,EAAA,MAAM,YAAY,YAAA,EAAa;AAC/B,EAAA,MAAM,eAAe,gBAAA,IAAoB,SAAA;AAEzC,EAAA,MAAM,QAAA,GAAWoB,eAAAA,CAAgB,gBAAA,EAAkB,aAAa,CAAA;AAChE,EAAA,MAAM,CAAC,YAAA,EAAc,eAAe,CAAA,GAAUwD,OAAA,CAAA,QAAA,EAA4B;AAC1E,EAAA,MAAM,cAAA,GAAuBA,OAAA,CAAA,OAAA;AAAA,IAC3B,MACE,YAAA,GAAehF,OAAAA,CAAQ,MAAA,CAAO,EAAE,UAAU,YAAA,EAAc,IAAA,EAAM,GAAA,EAAK,CAAA,GAAI,EAAA;AAAA,IACzE,CAAC,YAAY;AAAA,GACf;AACA,EAAA,MAAM,aAAA,GAAgB,gBAAA,CAAiB,EAAC,EAAG,EAAE,CAAA;AAE7C,EAAMgF,kBAAU,MAAM;AACpB,IAAA,IAAI,iBAAiB,YAAA,EAAc;AACjC,MAAA,aAAA,CAAc,GAAG,KAAA,EAAM;AAAA;AACzB,GACF,EAAG,CAAC,aAAA,EAAe,YAAY,CAAC,CAAA;AAEhC,EAAA,MAAM,YAAA,GAAqBA,oBAAY,YAAY;AACjD,IAAA,IAAI,CAAC,YAAA,EAAc;AAEnB,IAAA,aAAA,CAAc,GAAG,KAAA,EAAM;AAEvB,IAAA,IAAI,YAAA,EAAc;AAEhB,MAAA,MAAM,aAAa,WAAA,CAAY,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,OAAO,YAAY,CAAA;AAChE,MAAA,IAAI,CAAC,UAAA,EAAY;AAEf,QAAA,MAAMC,cAAAA,GAA6B;AAAA,UACjC,EAAA,EAAI,YAAA;AAAA,UACJ,QAAA,EAAU;AAAA,YACR;AAAA,cACE,IAAI,MAAA,EAAO;AAAA,cACX,WAAA,EAAa,YAAA;AAAA,cACb,SAAA,sBAAe,IAAA,EAAK;AAAA,cACpB,YAAA;AAAA,cACA,QAAA,EAAU,KAAA;AAAA,cACV,MAAA,EAAQ,MAAA,CAAO,SAAA,CAAU,gBAAA,EAAkB,eAAe;AAAA;AAC5D,WACF;AAAA,UACA,SAAA,sBAAe,IAAA,EAAK;AAAA,UACpB,UAAA,EAAY,KAAA;AAAA,UACZ,MAAA,EAAQ,MAAA,CAAO,SAAA,CAAU,gBAAA,EAAkB,eAAe;AAAA,SAC5D;AAEA,QAAA,MAAA,CAAO,SAAA,CAAU,kBAAkB,aAAA,EAAe;AAAA,UAChD,GAAG,WAAA;AAAA,UACHA;AAAA,SACD,CAAA;AACD,QAAA;AAAA;AAIF,MAAA,MAAM,OAAA,GAAoB;AAAA,QACxB,IAAI,MAAA,EAAO;AAAA,QACX,WAAA,EAAa,YAAA;AAAA,QACb,SAAA,sBAAe,IAAA,EAAK;AAAA,QACpB,YAAA;AAAA,QACA,QAAA,EAAU,KAAA;AAAA,QACV,MAAA,EAAQ,MAAA,CAAO,SAAA,CAAU,gBAAA,EAAkB,eAAe;AAAA,OAC5D;AAGA,MAAA,MAAM,iBAAA,GAAoB;AAAA,QACxB,GAAG,UAAA;AAAA,QACH,QAAA,EAAU,CAAC,GAAG,UAAA,CAAW,UAAU,OAAO;AAAA,OAC5C;AAGA,MAAA,MAAM,kBAAA,GAAqB,WAAA,CACxB,MAAA,CAAO,CAAC,CAAA,KAAM,EAAE,EAAA,KAAO,YAAY,CAAA,CACnC,MAAA,CAAO,iBAAiB,CAAA;AAE3B,MAAA,MAAA,CAAO,SAAA,CAAU,gBAAA,EAAkB,aAAA,EAAe,kBAAkB,CAAA;AAEpE,MAAA;AAAA;AAGF,IAAA,MAAM,iBAAA,GAAoB,MAAA,CACvB,MAAA,CAAO,cAAc,CAAA,CACrB,OAAA,CAAQ,KAAA,CAAM,EAAE,EAAA,EAAI,EAAC,EAAG,OAAA,EAAS,MAAM,CAAA;AAE1C,IAAA,IAAI,iBAAA,CAAkB,WAAW,CAAA,EAAG;AAEpC,IAAA,MAAM,eAAA,GAAkB,iBAAA,CACrB,GAAA,CAAI,CAAC,CAAC,IAAI,CAAA,KAAM,IAAA,CAAK,IAAI,CAAA,CACzB,IAAA,CAAK,EAAE,CAAA;AAEV,IAAA,MAAM,gBAAgB,MAAA,EAAO;AAE7B,IAAA,MAAM,aAAA,GAA6B;AAAA,MACjC,EAAA,EAAI,aAAA;AAAA,MACJ,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAI,MAAA,EAAO;AAAA,UACX,WAAA,EAAa,YAAA;AAAA,UACb,SAAA,sBAAe,IAAA,EAAK;AAAA,UACpB,YAAA,EAAc,aAAA;AAAA,UACd,QAAA,EAAU,KAAA;AAAA,UACV,MAAA,EAAQ,MAAA,CAAO,SAAA,CAAU,gBAAA,EAAkB,eAAe;AAAA;AAC5D,OACF;AAAA,MACA,SAAA,sBAAe,IAAA,EAAK;AAAA,MACpB,eAAA;AAAA,MACA,UAAA,EAAY,KAAA;AAAA,MACZ,MAAA,EAAQ,MAAA,CAAO,SAAA,CAAU,gBAAA,EAAkB,eAAe;AAAA,KAC5D;AAEA,IAAA,MAAA,CAAO,SAAA,CAAU,kBAAkB,aAAA,EAAe;AAAA,MAChD,GAAG,WAAA;AAAA,MACH;AAAA,KACD,CAAA;AAED,IAAA,MAAM,KAAK,aAAA,CAAc,EAAA;AAEzB,IAAA,iBAAA,CAAkB,OAAA,CAAQ,CAAC,GAAG,IAAI,CAAA,KAAM;AACtC,MAAA,MAAA,CAAO,EAAA,CAAG,QAAA;AAAA,QACR;AAAA,UACE,CAAC,aAAA,CAAc,EAAE,CAAC,GAAG;AAAA,SACvB;AAAA,QACA,EAAE,EAAA,EAAI,IAAA,EAAM,KAAA,EAAO,IAAA;AAAK,OAC1B;AACA,MAAA,MAAA,CAAO,EAAA,CAAG,WAAW,CAACC,kBAAAA,EAAoB,CAAA,EAAG,EAAE,EAAA,EAAI,IAAA,EAAM,CAAA;AAAA,KAC1D,CAAA;AAAA,GACH,EAAG,CAAC,YAAA,EAAc,aAAA,CAAc,IAAI,YAAA,EAAc,MAAA,EAAQ,WAAW,CAAC,CAAA;AAEtE,EAAA,uBACExG,IAAAA,CAAC,KAAA,EAAA,EAAI,WAAW,EAAA,CAAG,aAAA,EAAe,SAAS,CAAA,EACzC,QAAA,EAAA;AAAA,oBAAAH,GAAAA,CAAC,SAAI,SAAA,EAAU,oBAAA,EAEb,0BAAAG,IAAAA,CAAC,MAAA,EAAA,EAAO,WAAU,QAAA,EAChB,QAAA,EAAA;AAAA,sBAAAH,IAAC,WAAA,EAAA,EAAY,GAAA,EAAK,UAAU,IAAA,EAAM,GAAA,EAAK,UAAU,SAAA,EAAW,CAAA;AAAA,sBAC5DA,GAAAA,CAAC,cAAA,EAAA,EAAgB,QAAA,EAAA,QAAA,EAAU,IAAA,GAAO,CAAC,CAAA,EAAE;AAAA,KAAA,EACvC,CAAA,EACF,CAAA;AAAA,oBAEAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,4BACb,QAAA,kBAAAA,GAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,QAAA,EAAU,CAAC,EAAE,KAAA,EAAM,KAAM;AACvB,UAAA,eAAA,CAAgB,KAAK,CAAA;AAAA,SACvB;AAAA,QACA,MAAA,EAAQ,aAAA;AAAA,QAER,QAAA,kBAAAG,IAAAA,CAAC,eAAA,EAAA,EAAgB,OAAA,EAAQ,SAAA,EACvB,QAAA,EAAA;AAAA,0BAAAH,GAAAA;AAAA,YAAC,MAAA;AAAA,YAAA;AAAA,cACC,OAAA,EAAQ,SAAA;AAAA,cACR,SAAA,EAAU,+BAAA;AAAA,cACV,SAAA,EAAW,CAAC,CAAA,KAAM;AAChB,gBAAA,IAAI,CAAA,CAAE,GAAA,KAAQ,OAAA,IAAW,CAAC,EAAE,QAAA,EAAU;AACpC,kBAAA,CAAA,CAAE,cAAA,EAAe;AACjB,kBAAA,YAAA,EAAa;AAAA;AACf,eACF;AAAA,cACA,WAAA,EAAY,UAAA;AAAA,cACZ,YAAA,EAAa,KAAA;AAAA,cACb;AAAA;AAAA,WACF;AAAA,0BAEAA,GAAAA;AAAA,YAACU,OAAAA;AAAA,YAAA;AAAA,cACC,IAAA,EAAK,MAAA;AAAA,cACL,OAAA,EAAQ,OAAA;AAAA,cACR,SAAA,EAAU,gDAAA;AAAA,cACV,QAAA,EAAU,cAAA,CAAe,IAAA,EAAK,CAAE,MAAA,KAAW,CAAA;AAAA,cAC3C,OAAA,EAAS,CAAC,CAAA,KAAM;AACd,gBAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,gBAAA,YAAA,EAAa;AAAA,eACf;AAAA,cAEA,QAAA,kBAAAV,IAAC,KAAA,EAAA,EAAI,SAAA,EAAU,wDACb,QAAA,kBAAAA,GAAAA,CAAC,eAAY,CAAA,EACf;AAAA;AAAA;AACF,SAAA,EACF;AAAA;AAAA,KACF,EACF;AAAA,GAAA,EACF,CAAA;AAEJ;ACrOO,IAAM,iBAAA,GAAoB,CAAC,IAAA,KAAe;AAC/C,EAAA,MAAM,GAAA,uBAAU,IAAA,EAAK;AACrB,EAAA,MAAM,WAAA,GAAc,mBAAA,CAAoB,GAAA,EAAK,IAAI,CAAA;AACjD,EAAA,MAAM,SAAA,GAAY,iBAAA,CAAkB,GAAA,EAAK,IAAI,CAAA;AAC7C,EAAA,MAAM,QAAA,GAAW,gBAAA,CAAiB,GAAA,EAAK,IAAI,CAAA;AAE3C,EAAA,IAAI,cAAc,EAAA,EAAI;AACpB,IAAA,OAAO,GAAG,WAAW,CAAA,CAAA,CAAA;AAAA;AAEvB,EAAA,IAAI,YAAY,EAAA,EAAI;AAClB,IAAA,OAAO,GAAG,SAAS,CAAA,CAAA,CAAA;AAAA;AAErB,EAAA,IAAI,WAAW,CAAA,EAAG;AAChB,IAAA,OAAO,GAAG,QAAQ,CAAA,CAAA,CAAA;AAAA;AAGpB,EAAA,OAAO,MAAA,CAAO,MAAM,YAAY,CAAA;AAClC,CAAA;AAWO,SAAS,QAAQ,KAAA,EASrB;AACD,EAAA,MAAM;AAAA,IACJ,OAAA;AAAA,IACA,gBAAA;AAAA,IACA,eAAA;AAAA,IACA,SAAA;AAAA,IACA,KAAA;AAAA,IACA,YAAA;AAAA,IACA,mBAAA,GAAsB,KAAA;AAAA,IACtB;AAAA,GACF,GAAI,KAAA;AAEJ,EAAA,MAAM,SAAS6B,YAAAA,EAAa;AAC5B,EAAA,MAAM,QAAA,GAAWoB,eAAAA,CAAgB,gBAAA,EAAkB,MAAA,EAAQ,QAAQ,MAAM,CAAA;AACzE,EAAA,MAAM,aAAA,GAAgBA,eAAAA,CAAgB,gBAAA,EAAkB,eAAe,CAAA;AAEvE,EAAA,MAAM,iBAAA,GAAoB,OAAO,EAAA,KAAe;AAC9C,IAAA,MAAM,kBAAA,GAAqB,OACxB,SAAA,CAAU,gBAAA,EAAkB,aAAa,CAAA,CACzC,GAAA,CAAI,CAAC,UAAA,KAAe;AACnB,MAAA,IAAI,UAAA,CAAW,OAAO,EAAA,EAAI;AACxB,QAAA,OAAO,EAAE,GAAG,UAAA,EAAY,UAAA,EAAY,IAAA,EAAK;AAAA;AAE3C,MAAA,OAAO,UAAA;AAAA,KACR,CAAA;AACH,IAAA,MAAA,CAAO,SAAA,CAAU,gBAAA,EAAkB,aAAA,EAAe,kBAAkB,CAAA;AAAA,GACtE;AAEA,EAAA,MAAM,gBAAA,GAAmB,OAAO,EAAA,KAAe;AAC7C,IAAA,MAAM,kBAAA,GAAqB,MAAA,CACxB,SAAA,CAAU,gBAAA,EAAkB,aAAa,CAAA,CACzC,MAAA,CAAO,CAAC,UAAA,KAAe,UAAA,CAAW,EAAA,KAAO,EAAE,CAAA;AAC9C,IAAA,MAAA,CAAO,SAAA,CAAU,gBAAA,EAAkB,aAAA,EAAe,kBAAkB,CAAA;AAAA,GACtE;AAEA,EAAA,MAAM,aAAA,GAAgB,OAAO,KAAA,KAKvB;AACJ,IAAA,MAAM,kBAAA,GAAqB,OACxB,SAAA,CAAU,gBAAA,EAAkB,aAAa,CAAA,CACzC,GAAA,CAAI,CAAC,UAAA,KAAe;AACnB,MAAA,IAAI,UAAA,CAAW,EAAA,KAAO,KAAA,CAAM,YAAA,EAAc;AACxC,QAAA,MAAM,eAAA,GAAkB,UAAA,CAAW,QAAA,CAAS,GAAA,CAAI,CAAC2D,QAAAA,KAAY;AAC3D,UAAA,IAAIA,QAAAA,CAAQ,EAAA,KAAO,KAAA,CAAM,EAAA,EAAI;AAC3B,YAAA,OAAO;AAAA,cACL,GAAGA,QAAAA;AAAA,cACH,aAAa,KAAA,CAAM,WAAA;AAAA,cACnB,QAAA,EAAU,IAAA;AAAA,cACV,SAAA,sBAAe,IAAA;AAAK,aACtB;AAAA;AAEF,UAAA,OAAOA,QAAAA;AAAA,SACR,CAAA;AACD,QAAA,OAAO,EAAE,GAAG,UAAA,EAAY,QAAA,EAAU,eAAA,EAAgB;AAAA;AAEpD,MAAA,OAAO,UAAA;AAAA,KACR,CAAA;AACH,IAAA,MAAA,CAAO,SAAA,CAAU,gBAAA,EAAkB,aAAA,EAAe,kBAAkB,CAAA;AAAA,GACtE;AAEA,EAAA,MAAM,EAAE,EAAA,EAAG,GAAI5F,eAAAA,CAAgB6F,cAAc,CAAA;AAG7C,EAAA,MAAM,WAAA,GAAc,kBAAkB,OAAA,CAAQ,MAAA;AAE9C,EAAA,MAAM,eAAe,OAAA,CAAQ,WAAA;AAE7B,EAAA,MAAM,aAAA,GAAgB,gBAAA;AAAA,IACpB;AAAA,MACE,IAAI,OAAA,CAAQ,EAAA;AAAA,MACZ,KAAA,EAAO;AAAA,KACT;AAAA,IACA,CAAC,YAAY;AAAA,GACf;AAEA,EAAA,MAAM,WAAW,MAAM;AACrB,IAAA,YAAA,CAAa,IAAI,CAAA;AACjB,IAAA,aAAA,CAAc,EAAA,CAAG,aAAa,YAAA,EAAc;AAAA,MAC1C,IAAI,EAAC;AAAA,MACL,QAAA,EAAU;AAAA,KACX,CAAA;AAAA,GACH;AAEA,EAAA,MAAM,SAAS,MAAM;AACnB,IAAA,KAAK,aAAA,CAAc;AAAA,MACjB,IAAI,OAAA,CAAQ,EAAA;AAAA,MACZ,aAAa,aAAA,CAAc,QAAA;AAAA,MAC3B,cAAc,OAAA,CAAQ,YAExB,CAAC,CAAA;AACD,IAAA,YAAA,CAAa,IAAI,CAAA;AAAA,GACnB;AAEA,EAAA,MAAM,mBAAmB,MAAM;AAC7B,IAAA,KAAK,iBAAA,CAAkB,QAAQ,YAAY,CAAA;AAC3C,IAAA,EAAA,CAAG,QAAQ,SAAA,CAAU,EAAE,EAAA,EAAI,OAAA,CAAQ,cAAc,CAAA;AAAA,GACnD;AAEA,EAAA,MAAM,UAAU,KAAA,KAAU,CAAA;AAC1B,EAAA,MAAM,MAAA,GAAS,UAAU,gBAAA,GAAmB,CAAA;AAC5C,EAAA,MAAM,SAAA,GAAY,SAAA,IAAa,SAAA,KAAc,OAAA,CAAQ,EAAA;AAErD,EAAA,MAAM,CAAC,QAAA,EAAU,WAAW,CAAA,GAAUC,iBAAS,KAAK,CAAA;AACpD,EAAA,MAAM,CAAC,YAAA,EAAc,eAAe,CAAA,GAAUA,iBAAS,KAAK,CAAA;AAE5D,EAAA,uBACE3G,IAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,YAAA,EAAc,MAAM,WAAA,CAAY,IAAI,CAAA;AAAA,MACpC,YAAA,EAAc,MAAM,WAAA,CAAY,KAAK,CAAA;AAAA,MAErC,QAAA,EAAA;AAAA,wBAAAA,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,4BAAA,EACb,QAAA,EAAA;AAAA,0BAAAA,IAAAA,CAAC,MAAA,EAAA,EAAO,SAAA,EAAU,QAAA,EAChB,QAAA,EAAA;AAAA,4BAAAH,IAAC,WAAA,EAAA,EAAY,GAAA,EAAK,UAAU,IAAA,EAAM,GAAA,EAAK,UAAU,SAAA,EAAW,CAAA;AAAA,4BAC5DA,GAAAA,CAAC,cAAA,EAAA,EAAgB,QAAA,EAAA,QAAA,EAAU,IAAA,GAAO,CAAC,CAAA,EAAE;AAAA,WAAA,EACvC,CAAA;AAAA,0BACAA,GAAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,yCAAA,EAEX,oBAAU,IAAA,EACb,CAAA;AAAA,0BAEAG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,+CAAA,EACb,QAAA,EAAA;AAAA,4BAAAH,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,MAAA,EACb,QAAA,EAAA,iBAAA,CAAkB,IAAI,IAAA,CAAK,OAAA,CAAQ,SAAS,CAAC,CAAA,EAChD,CAAA;AAAA,YACC,OAAA,CAAQ,QAAA,oBAAYA,GAAAA,CAAC,UAAK,QAAA,EAAA,UAAA,EAAQ;AAAA,WAAA,EACrC,CAAA;AAAA,UAEC,gBAAgB,QAAA,IAAY,YAAA,CAAA,oBAC3BG,IAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,uCAAA,EACZ,QAAA,EAAA;AAAA,YAAA,KAAA,KAAU,qBACTH,GAAAA;AAAA,cAACU,OAAAA;AAAA,cAAA;AAAA,gBACC,OAAA,EAAQ,OAAA;AAAA,gBACR,SAAA,EAAU,+BAAA;AAAA,gBACV,OAAA,EAAS,gBAAA;AAAA,gBACT,IAAA,EAAK,QAAA;AAAA,gBAEL,QAAA,kBAAAV,GAAAA,CAACwB,SAAAA,EAAA,EAAU,WAAU,QAAA,EAAS;AAAA;AAAA,aAChC;AAAA,4BAGFxB,GAAAA;AAAA,cAAC,mBAAA;AAAA,cAAA;AAAA,gBACC,kBAAkB,MAAM;AACtB,kBAAA,UAAA,CAAW,MAAM;AACf,oBAAA,aAAA,CAAc,EAAA,CAAG,KAAA,CAAM,EAAE,IAAA,EAAM,aAAa,CAAA;AAAA,qBAC3C,CAAC,CAAA;AAAA,iBACN;AAAA,gBACA,iBAAiB,MAAM;AACrB,kBAAA,IAAI,qBAAqB,CAAA,EAAG;AAC1B,oBAAA,EAAA,CAAG,QAAQ,SAAA,CAAU,EAAE,EAAA,EAAI,OAAA,CAAQ,cAAc,CAAA;AACjD,oBAAA,KAAK,gBAAA,CAAiB,QAAQ,YAAY,CAAA;AAAA;AAC5C,iBACF;AAAA,gBACA,OAAA;AAAA,gBACA,YAAA;AAAA,gBACA,eAAA;AAAA,gBACA;AAAA;AAAA;AACF,WAAA,EACF;AAAA,SAAA,EAEJ,CAAA;AAAA,QAEC,WAAW,mBAAA,oBACVG,IAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,6DAAA,EACZ,QAAA,EAAA;AAAA,UAAA,gBAAA,GAAmB,CAAA,oBAClBH,GAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,0DAAA,EAA2D,CAAA;AAAA,0BAE5EA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,mCAAA,EAAoC,CAAA;AAAA,UAClD,mCAAmBA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,QAAQ,QAAA,EAAA,eAAA,EAAgB;AAAA,SAAA,EAC7D,CAAA;AAAA,wBAGFG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,yBAAA,EACZ,QAAA,EAAA;AAAA,UAAA,CAAC,MAAA,oBACAH,GAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,sDAAA,EAAuD,CAAA;AAAA,0BAExEA,GAAAA,CAAC+G,KAAAA,EAAA,EAAM,QAAA,EAAU,CAAC,SAAA,EAAW,MAAA,EAAQ,aAAA,EACnC,QAAA,kBAAA5G,IAAAA,CAAC,eAAA,EAAA,EAAgB,SAAQ,SAAA,EACvB,QAAA,EAAA;AAAA,4BAAAH,GAAAA;AAAA,cAAC,MAAA;AAAA,cAAA;AAAA,gBACC,OAAA,EAAQ,SAAA;AAAA,gBACR,SAAA,EAAU,aAAA;AAAA,gBACV,OAAA,EAAS,MAAM,aAAA;AAAgB;AAAA,aACjC;AAAA,YAEC,SAAA,oBACCG,IAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,6BAAA,EACb,QAAA,EAAA;AAAA,8BAAAH,GAAAA;AAAA,gBAACU,OAAAA;AAAA,gBAAA;AAAA,kBACC,IAAA,EAAK,MAAA;AAAA,kBACL,OAAA,EAAQ,OAAA;AAAA,kBACR,SAAA,EAAU,aAAA;AAAA,kBACV,OAAA,EAAS,CAAC,CAAA,KAA2C;AACnD,oBAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,oBAAA,KAAK,QAAA,EAAS;AAAA,mBAChB;AAAA,kBAEA,QAAA,kBAAAV,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,8EAAA,EACb,QAAA,kBAAAA,GAAAA,CAACsD,KAAAA,EAAA,EAAM,SAAA,EAAU,qCAAA,EAAsC,CAAA,EACzD;AAAA;AAAA,eACF;AAAA,8BAEAtD,GAAAA;AAAA,gBAACU,OAAAA;AAAA,gBAAA;AAAA,kBACC,IAAA,EAAK,MAAA;AAAA,kBACL,OAAA,EAAQ,OAAA;AAAA,kBACR,OAAA,EAAS,CAAC,CAAA,KAA2C;AACnD,oBAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,oBAAA,KAAK,MAAA,EAAO;AAAA,mBACd;AAAA,kBAEA,QAAA,kBAAAV,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,yEAAA,EACb,QAAA,kBAAAA,GAAAA,CAACwB,SAAAA,EAAA,EAAU,SAAA,EAAU,qCAAA,EAAsC,CAAA,EAC7D;AAAA;AAAA;AACF,aAAA,EACF;AAAA,WAAA,EAEJ,CAAA,EACF;AAAA,SAAA,EACF;AAAA;AAAA;AAAA,GACF;AAEJ;AAUO,SAAS,oBAAoB,KAAA,EAAiC;AACnE,EAAA,MAAM;AAAA,IACJ,OAAA;AAAA,IACA,YAAA;AAAA,IACA,eAAA;AAAA,IACA,YAAA;AAAA,IACA,gBAAA;AAAA,IACA;AAAA,GACF,GAAI,KAAA;AAEJ,EAAA,MAAM,SAASK,YAAAA,EAAa;AAE5B,EAAA,MAAM,sBAAA,GAA+BiF,eAAgB,KAAK,CAAA;AAE1D,EAAA,MAAM,eAAA,GAAwBA,oBAAY,MAAM;AAC9C,IAAA,IAAI,CAAC,OAAA,CAAQ,EAAA;AACX,MAAA,OAAO,MAAM,wDAAwD,CAAA;AAGvE,IAAA,MAAM,kBAAA,GAAqB,OACxB,SAAA,CAAU,gBAAA,EAAkB,aAAa,CAAA,CACzC,GAAA,CAAI,CAAC,UAAA,KAAe;AACnB,MAAA,IAAI,UAAA,CAAW,EAAA,KAAO,OAAA,CAAQ,YAAA,EAAc;AAC1C,QAAA,OAAO,UAAA;AAAA;AAGT,MAAA,MAAM,YAAA,GAAe,WAAW,QAAA,CAAS,SAAA;AAAA,QACvC,CAAC,CAAA,KAAM,CAAA,CAAE,EAAA,KAAO,OAAA,CAAQ;AAAA,OAC1B;AACA,MAAA,IAAI,iBAAiB,EAAA,EAAI;AACvB,QAAA,OAAO,UAAA;AAAA;AAGT,MAAA,OAAO;AAAA,QACL,GAAG,UAAA;AAAA,QACH,QAAA,EAAU;AAAA,UACR,GAAG,UAAA,CAAW,QAAA,CAAS,KAAA,CAAM,GAAG,YAAY,CAAA;AAAA,UAC5C,GAAG,UAAA,CAAW,QAAA,CAAS,KAAA,CAAM,eAAe,CAAC;AAAA;AAC/C,OACF;AAAA,KACD,CAAA;AAGH,IAAA,MAAA,CAAO,SAAA,CAAU,gBAAA,EAAkB,aAAA,EAAe,kBAAkB,CAAA;AACpE,IAAA,eAAA,IAAkB;AAAA,GACpB,EAAG,CAAC,OAAA,CAAQ,YAAA,EAAc,QAAQ,EAAA,EAAI,MAAA,EAAQ,eAAe,CAAC,CAAA;AAE9D,EAAA,MAAM,aAAA,GAAsBA,oBAAY,MAAM;AAC5C,IAAA,sBAAA,CAAuB,OAAA,GAAU,IAAA;AAEjC,IAAA,IAAI,CAAC,OAAA,CAAQ,EAAA;AACX,MAAA,OAAO,MAAM,wDAAwD,CAAA;AAEvE,IAAA,YAAA,CAAa,QAAQ,EAAE,CAAA;AAAA,GACzB,EAAG,CAAC,OAAA,CAAQ,EAAA,EAAI,YAAY,CAAC,CAAA;AAE7B,EAAA,uBACE3G,IAAAA;AAAA,IAAC,YAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAM,YAAA;AAAA,MACN,YAAA,EAAc,eAAA;AAAA,MACd,KAAA,EAAO,KAAA;AAAA,MAEP,QAAA,EAAA;AAAA,wBAAAH,GAAAA,CAAC,mBAAA,EAAA,EAAoB,OAAA,EAAO,IAAA,EAAC,OAAA,EAAS,CAAC,CAAA,KAAM,CAAA,CAAE,eAAA,EAAgB,EAC7D,QAAA,kBAAAA,GAAAA,CAACU,OAAAA,EAAA,EAAO,OAAA,EAAQ,OAAA,EAAQ,SAAA,EAAW,EAAA,CAAG,+BAA+B,CAAA,EACnE,QAAA,kBAAAV,GAAAA,CAACgH,kBAAAA,EAAA,EAAmB,SAAA,EAAU,QAAA,EAAS,CAAA,EACzC,CAAA,EACF,CAAA;AAAA,wBACAhH,GAAAA;AAAA,UAAC,mBAAA;AAAA,UAAA;AAAA,YACC,SAAA,EAAU,MAAA;AAAA,YACV,gBAAA,EAAkB,CAAC,CAAA,KAAM;AACvB,cAAA,IAAI,uBAAuB,OAAA,EAAS;AAClC,gBAAA,gBAAA,IAAmB;AACnB,gBAAA,sBAAA,CAAuB,OAAA,GAAU,KAAA;AAAA;AAGnC,cAAA,OAAO,EAAE,cAAA,EAAe;AAAA,aAC1B;AAAA,YAEA,QAAA,kBAAAG,KAAC,iBAAA,EAAA,EACC,QAAA,EAAA;AAAA,8BAAAA,IAAAA,CAAC,gBAAA,EAAA,EAAiB,OAAA,EAAS,aAAA,EACzB,QAAA,EAAA;AAAA,gCAAAH,GAAAA,CAAC,UAAA,EAAA,EAAW,SAAA,EAAU,QAAA,EAAS,CAAA;AAAA,gBAAE;AAAA,eAAA,EAEnC,CAAA;AAAA,8BACAG,IAAAA,CAAC,gBAAA,EAAA,EAAiB,OAAA,EAAS,eAAA,EACzB,QAAA,EAAA;AAAA,gCAAAH,GAAAA,CAAC,SAAA,EAAA,EAAU,SAAA,EAAU,QAAA,EAAS,CAAA;AAAA,gBAAE;AAAA,eAAA,EAElC;AAAA,aAAA,EACF;AAAA;AAAA;AACF;AAAA;AAAA,GACF;AAEJ;AC9UO,IAAM,gBAAA,GAAmB,WAAA;AAEzB,IAAM,aAAA,GAA6D;AAAA,EACxE,CAAC0C,WAAAA,CAAY,GAAG,GAAG,MAAM,OAAA;AAAA,EACzB,CAACuE,gBAAAA,CAAiB,GAAG,GAAG,MAAM,YAAA;AAAA,EAC9B,CAACC,aAAAA,CAAc,GAAG,GAAG,MAAM,SAAA;AAAA,EAC3B,CAACvD,eAAAA,CAAgB,GAAG,GAAG,MAAM,YAAA;AAAA,EAC7B,CAACwD,YAAAA,CAAa,GAAG,GAAG,MAAM,QAAA;AAAA,EAC1B,CAACC,cAAAA,CAAe,GAAG,GAAG,MAAM,UAAA;AAAA,EAC5B,CAACzE,UAAAA,CAAW,GAAG,GAAG,MAAM,MAAA;AAAA,EACxB,CAACR,YAAAA,CAAa,EAAE,GAAG,MAAM,CAAA,SAAA,CAAA;AAAA,EACzB,CAACA,YAAAA,CAAa,EAAE,GAAG,MAAM,CAAA,SAAA,CAAA;AAAA,EACzB,CAACA,YAAAA,CAAa,EAAE,GAAG,MAAM,CAAA,SAAA,CAAA;AAAA,EACzB,CAACA,YAAAA,CAAa,EAAE,GAAG,MAAM,CAAA,SAAA,CAAA;AAAA,EACzB,CAACA,YAAAA,CAAa,EAAE,GAAG,MAAM,CAAA,SAAA,CAAA;AAAA,EACzB,CAACA,YAAAA,CAAa,EAAE,GAAG,MAAM,CAAA,SAAA,CAAA;AAAA,EACzB,CAAC,oBAAA,CAAqB,GAAG,GAAG,MAAM,iBAAA;AAAA,EAClC,CAACS,WAAAA,CAAY,GAAG,GAAG,MAAM,OAAA;AAAA,EACzB,CAACyE,gBAAAA,CAAiB,GAAG,GAAG,MAAM,OAAA;AAAA,EAC9B,CAACC,eAAAA,CAAgB,GAAG,GAAG,CAAC,IAAA,KAAS;AAC/B,IAAA,IAAI,IAAA,GAAOC,gBAAAA,CAAiB,GAAG,CAAA,KAAM9D,gBAAAA,CAAiB,IAAA;AACpD,MAAA,OAAO,WAAA;AACT,IAAA,IAAI,IAAA,GAAO8D,gBAAAA,CAAiB,GAAG,CAAA,KAAMhF,aAAAA,CAAc,OAAA;AACjD,MAAA,OAAO,cAAA;AACT,IAAA,IAAI,OAAOgF,gBAAAA,CAAiB,GAAG,CAAA,KAAMhF,aAAAA,CAAc,MAAM,OAAO,MAAA;AAEhE,IAAA,OAAO,WAAA;AAAA,GACT;AAAA,EACA,CAACa,WAAAA,CAAY,GAAG,GAAG,MAAM,OAAA;AAAA,EACzB,CAACoE,SAAAA,CAAU,GAAG,GAAG,MAAM,mBAAA;AAAA,EACvB,CAACC,YAAAA,CAAa,GAAG,GAAG,MAAM,QAAA;AAAA,EAC1B,CAAC5E,WAAAA,CAAY,GAAG,GAAG,MAAM;AAC3B,CAAA;AAEO,IAAM,sBAAsB,CAAC;AAAA,EAClC,GAAA;AAAA,EACA,MAAA;AAAA,EACA;AACF,CAAA,KAIM;AACJ,EAAA,MAAM,EAAE,GAAA,EAAK,MAAA,EAAO,GAAI7B,gBAAgBL,gBAAgB,CAAA;AAExD,EAAA,MAAM,QAAA,GAAWsC,eAAAA,CAAgB,gBAAA,EAAkB,MAAA,EAAQ,WAAW,MAAM,CAAA;AAE5E,EAAA,MAAM,MAAA,GAAS,CAACyE,WAAAA,KAAmC;AACjD,IAAA,GAAA,CAAI,UAAA,CAAW,mBAAmB,MAAM;AACtC,MAAA,gBAAA,CAAiB,QAAQA,WAAU,CAAA;AAAA,KACpC,CAAA;AAAA,GACH;AAEA,EAAA,MAAM,MAAA,GAAS,CAACA,WAAAA,KAAmC;AACjD,IAAA,GAAA,CAAI,UAAA,CAAW,mBAAmB,MAAM;AACtC,MAAA,gBAAA,CAAiB,QAAQA,WAAU,CAAA;AAAA,KACpC,CAAA;AAAA,GACH;AAEA,EAAA,MAAM,CAAC,QAAA,EAAU,WAAW,CAAA,GAAUC,iBAAS,KAAK,CAAA;AAEpD,EAAA,MAAM,oBAAA,GAAuB,CAAC,IAAA,KAAiB;AAC7C,IAAA,IAAI,IAAA,KAAS,gBAAA,EAAkB,OAAO,CAAC,aAAa,CAAA;AAEpD,IAAA,OAAO,IAAA,CAAK,KAAA,CAAM,gBAAgB,CAAA,CAAE,OAAO,OAAO,CAAA;AAAA,GACpD;AAEA,EAAA,MAAM,CAAC,SAAA,EAAW,YAAY,CAAA,GAAUA,iBAAwB,IAAI,CAAA;AAEpE,EAAA,uBACExH,IAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MAEC,SAAA,EAAU,UAAA;AAAA,MACV,YAAA,EAAc,MAAM,WAAA,CAAY,IAAI,CAAA;AAAA,MACpC,YAAA,EAAc,MAAM,WAAA,CAAY,KAAK,CAAA;AAAA,MAErC,QAAA,EAAA;AAAA,wBAAAA,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,mBAAA,EACb,QAAA,EAAA;AAAA,0BAAAA,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,4BAAA,EAEb,QAAA,EAAA;AAAA,4BAAAA,IAAAA,CAAC,MAAA,EAAA,EAAO,SAAA,EAAU,QAAA,EAChB,QAAA,EAAA;AAAA,8BAAAH,IAAC,WAAA,EAAA,EAAY,GAAA,EAAK,UAAU,IAAA,EAAM,GAAA,EAAK,UAAU,SAAA,EAAW,CAAA;AAAA,8BAC5DA,GAAAA,CAAC,cAAA,EAAA,EAAgB,QAAA,EAAA,QAAA,EAAU,IAAA,GAAO,CAAC,CAAA,EAAE;AAAA,aAAA,EACvC,CAAA;AAAA,4BACAA,GAAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,yCAAA,EACX,oBAAU,IAAA,EACb,CAAA;AAAA,4BACAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,+CAAA,EACb,0BAAAA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,MAAA,EACb,4BAAkB,IAAI,IAAA,CAAK,WAAW,SAAS,CAAC,GACnD,CAAA,EACF;AAAA,WAAA,EACF,CAAA;AAAA,0BAEAA,IAAC,KAAA,EAAA,EAAI,SAAA,EAAU,gCACb,QAAA,kBAAAG,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,qBAAA,EACZ,QAAA,EAAA;AAAA,YAAA,UAAA,CAAW,SAAS,QAAA,oBACnBH,IAAO2H,OAAA,CAAA,QAAA,EAAN,EACE,+BAAqB,UAAA,CAAW,IAAK,CAAA,CAAE,GAAA,CAAI,CAAC,IAAA,EAAM,KAAA,qBACjDxH,IAAAA,CAAC,KAAA,EAAA,EAAgB,WAAU,yBAAA,EACzB,QAAA,EAAA;AAAA,8BAAAH,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,+BAAA,EAAgC,QAAA,EAAA,SAAA,EAEhD,CAAA;AAAA,8BAEAA,GAAAA,CAAC,MAAA,EAAA,EAAiB,SAAA,EAAU,SAAA,EACzB,kBADQ,KAEX;AAAA,aAAA,EAAA,EAPQ,KAQV,CACD,CAAA,EACH,CAAA;AAAA,YAGD,UAAA,CAAW,IAAA,KAAS,QAAA,oBACnBA,GAAAA,CAAO2H,kBAAN,EACE,QAAA,EAAA,oBAAA,CAAqB,UAAA,CAAW,OAAQ,CAAA,CAAE,GAAA;AAAA,cACzC,CAAC,IAAA,EAAM,KAAA,qBACLxH,IAAAA,CAAC,KAAA,EAAA,EAAgB,WAAU,yBAAA,EACzB,QAAA,EAAA;AAAA,gCAAAH,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,+BAAA,EAAgC,QAAA,EAAA,MAAA,EAEhD,CAAA;AAAA,gCAEAA,GAAAA,CAAC,MAAA,EAAA,EAAiB,WAAU,SAAA,EACzB,QAAA,EAAA,IAAA,IAAQ,iBADA,KAEX;AAAA,eAAA,EAAA,EAPQ,KAQV;AAAA,aAEJ,EACF,CAAA;AAAA,YAGD,WAAW,IAAA,KAAS,SAAA,oBACnBG,IAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,qBAAA,EACZ,QAAA,EAAA;AAAA,cAAA,oBAAA,CAAqB,UAAA,CAAW,OAAQ,CAAA,CAAE,GAAA;AAAA,gBACzC,CAAC,IAAA,EAAM,KAAA,qBACLH,GAAAA,CAAO2H,OAAA,CAAA,QAAA,EAAN,EACC,QAAA,kBAAAxH,IAAAA;AAAA,kBAAC,KAAA;AAAA,kBAAA;AAAA,oBAEC,SAAA,EAAU,sCAAA;AAAA,oBAEV,QAAA,EAAA;AAAA,sCAAAH,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,SAAA,EAAU,QAAA,EAAA,OAAA,EAAK,CAAA;AAAA,sCAC/BA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,SAAA,EAAW,kBAAQ,aAAA,EAAc;AAAA;AAAA,mBAAA;AAAA,kBAJ5C;AAAA,qBAFY,KAQrB;AAAA,eAEJ;AAAA,cAEC,qBAAqB,UAAA,CAAW,IAAK,CAAA,CAAE,GAAA,CAAI,CAAC,IAAA,EAAM,KAAA,qBACjDA,GAAAA,CAAO2H,kBAAN,EACC,QAAA,kBAAAxH,IAAAA,CAAC,KAAA,EAAA,EAAgB,WAAU,wBAAA,EACzB,QAAA,EAAA;AAAA,gCAAAH,IAAC,MAAA,EAAA,EAAK,SAAA,EAAU,iCACb,QAAA,EAAA,KAAA,KAAU,CAAA,GAAI,aAAa,SAAA,EAC9B,CAAA;AAAA,gCACAA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,SAAA,EAAW,kBAAQ,aAAA,EAAc;AAAA,eAAA,EAAA,EAJzC,KAKV,CAAA,EAAA,EANmB,KAOrB,CACD;AAAA,aAAA,EACH,CAAA;AAAA,YAGD,WAAW,IAAA,KAAS,QAAA,oBACnBG,IAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,yBAAA,EACb,QAAA,EAAA;AAAA,8BAAAA,IAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,+BAAA,EACb,QAAA,EAAA;AAAA,gBAAA,MAAA,CAAO,IAAA,CAAK,WAAW,UAAU,CAAA,CAAE,IAAI,CAAC,GAAA,qBACvCA,IAAAA,CAAC,MAAA,EAAA,EAAe,QAAA,EAAA;AAAA,kBAAA,IAAA;AAAA,kBAAG;AAAA,iBAAA,EAAA,EAAR,GAAY,CACxB,CAAA;AAAA,gBAEA,MAAA,CAAO,KAAK,UAAA,CAAW,aAAa,EAAE,GAAA,CAAI,CAAC,GAAA,qBAC1CH,GAAAA,CAAC,MAAA,EAAA,EACE,cAAI,MAAA,CAAO,CAAC,EAAE,WAAA,EAAY,GAAI,IAAI,KAAA,CAAM,CAAC,CAAA,EAAA,EADjC,GAEX,CACD;AAAA,eAAA,EACH,CAAA;AAAA,8BACAA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,SAAA,EAAW,qBAAW,OAAA,EAAQ;AAAA,aAAA,EAChD;AAAA,WAAA,EAEJ,CAAA,EACF,CAAA;AAAA,UAEC,WAAW,QAAA,CAAS,GAAA,CAAI,CAAC,OAAA,EAAS,0BACjCA,GAAAA;AAAA,YAAC,OAAA;AAAA,YAAA;AAAA,cAEC,OAAA;AAAA,cACA,gBAAA,EAAkB,WAAW,QAAA,CAAS,MAAA;AAAA,cACtC,eAAA,EAAgB,gBAAA;AAAA,cAChB,SAAA;AAAA,cACA,KAAA;AAAA,cACA;AAAA,aAAA;AAAA,YANK,QAAQ,EAAA,IAAM;AAAA,WAQtB,CAAA;AAAA,UAEA,QAAA,oBACCG,IAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,mCAAA,EACb,QAAA,EAAA;AAAA,4BAAAH,GAAAA;AAAA,cAACU,OAAAA;AAAA,cAAA;AAAA,gBACC,OAAA,EAAQ,OAAA;AAAA,gBACR,SAAA,EAAU,+BAAA;AAAA,gBACV,OAAA,EAAS,MAAM,MAAA,CAAO,UAAU,CAAA;AAAA,gBAEhC,QAAA,kBAAAV,GAAAA,CAACwB,SAAAA,EAAA,EAAU,WAAU,QAAA,EAAS;AAAA;AAAA,aAChC;AAAA,4BAEAxB,GAAAA;AAAA,cAACU,OAAAA;AAAA,cAAA;AAAA,gBACC,OAAA,EAAQ,OAAA;AAAA,gBACR,SAAA,EAAU,+BAAA;AAAA,gBACV,OAAA,EAAS,MAAM,MAAA,CAAO,UAAU,CAAA;AAAA,gBAEhC,QAAA,kBAAAV,GAAAA,CAACsD,KAAAA,EAAA,EAAM,WAAU,QAAA,EAAS;AAAA;AAAA;AAC5B,WAAA,EACF,CAAA;AAAA,0BAGFtD,GAAAA,CAAC,iBAAA,EAAA,EAAkB,YAAA,EAAc,WAAW,YAAA,EAAc;AAAA,SAAA,EAC5D,CAAA;AAAA,QAEC,CAAC,MAAA,oBAAUA,GAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,sBAAA,EAAuB;AAAA;AAAA,KAAA;AAAA,IA7I7C,CAAA,EAAG,UAAA,CAAW,YAAY,CAAA,CAAA,EAAI,GAAG,CAAA;AAAA,GA8IxC;AAEJ,CAAA;AAEO,IAAM,oBAAA,GAAuB,CAClC,eAAA,EACA,SAAA,KACG;AACH,EAAA,MAAM,WAAA,GAAciD,eAAAA,CAAgB,gBAAA,EAAkB,aAAa,CAAA;AAEnE,EAAA,MAAM,EAAE,GAAA,EAAK,MAAA,EAAQ,WAAW,SAAA,EAAU,GACxCjC,gBAAgB,gBAAgB,CAAA;AAElC,EAAA,eAAA,CAAgB,OAAA,CAAQ,CAAC,CAAC,IAAI,CAAA,KAAM;AAClC,IAAA,MAAM,EAAA,GAAK,GAAA,CAAI,UAAA,CAAW,MAAA,CAAO,IAAI,CAAA;AACrC,IAAA,MAAM,GAAA,GAAM,UAAU,eAAe,CAAA;AAErC,IAAA,IAAI,CAAC,EAAA,EAAI;AAET,IAAA,MAAM,YAAA,GAAe,GAAA,CAAI,GAAA,CAAI,EAAE,CAAA;AAE/B,IAAA,IAAI4G,OAAAA,CAAQ,MAAA,CAAO,YAAY,CAAA,EAAG;AAChC,MAAA,MAAM,KAAA,GAAQ,GAAA,CAAI,UAAA,CAAW,IAAA,CAAK,EAAE,IAAI,EAAA,EAAI,YAAA,EAAc,MAAA,EAAQ,IAAA,EAAM,CAAA;AACxE,MAAA,MAAM,UAAA,GAAa,GAAA,CAAI,IAAA,CAAK,YAAY,CAAA;AACxC,MAAA,IAAI,WAAA,GAA6B,IAAA;AAEjC,MAAA,IAAI,cAAc,UAAA,CAAW,SAAA,CAAU,UAAA,CAAW,CAAC,CAAC,CAAA,EAAG;AACrD,QAAA,WAAA,GAAc,IAAI,UAAA,CAAW,MAAA,CAAO,UAAA,CAAW,CAAC,CAAC,CAAA,IAAK,IAAA;AAAA;AAGxD,MAAA,IAAI,CAAC,KAAA,IAAS,WAAA,KAAgB,EAAA,EAAI;AAChC,QAAA,OAAO,SAAA,CAAU,iBAAiB,IAAI,GAAA,CAAI,GAAG,CAAA,CAAE,GAAA,CAAI,EAAA,EAAI,SAAS,CAAC,CAAA;AAAA;AAGnE,MAAA;AAAA;AAEF,IAAA,SAAA,CAAU,eAAA,EAAiB,IAAI,GAAA,CAAI,GAAG,EAAE,GAAA,CAAI,EAAA,EAAI,SAAS,CAAC,CAAA;AAAA,GAC3D,CAAA;AAED,EAAA,MAAM,kBAAA,GAAiDD,gBAAQ,MAAM;AACnE,IAAA,MAAM,GAAA,GAAM,UAAU,eAAe,CAAA;AAErC,IAAA,IAAI,eAAA,CAAgB,MAAA,KAAW,CAAA,EAAG,OAAO,EAAC;AAE1C,IAAA,MAAM,gBAAgB,IAAI,GAAA;AAAA,MACxB,eAAA,CACG,OAAA,CAAQ,CAAC,CAAC,IAAI,CAAA,KAAM;AACnB,QAAA,IAAI,OAAA,CAAQ,MAAA,CAAO,IAAI,CAAA,EAAG;AACxB,UAAA,MAAM,QAAA,GAAW,GAAA,CAAI,UAAA,CAAW,QAAA,CAAS,IAAI,CAAA;AAC7C,UAAA,MAAM,gBAAgB,QAAA,CAAS,IAAA;AAAA,YAC7B,CAAC,IAAA,KAAS,IAAA,CAAK,IAAA,KAAS;AAAA,WAC1B;AAEA,UAAA,IAAI,CAAC,aAAA,EAAe,OAAO,GAAA,CAAI,UAAA,CAAW,OAAO,IAAI,CAAA;AAErD,UAAA,OAAO,QAAA,CACJ,MAAA,CAAO,CAAC,IAAA,KAAS,IAAA,CAAK,IAAA,KAAS,QAAQ,CAAA,CACvC,GAAA,CAAI,CAAC,CAAA,KAAM,CAAA,CAAE,EAAE,CAAA;AAAA;AAEpB,QAAA,IAAI,UAAA,CAAW,SAAA,CAAU,IAAI,CAAA,EAAG;AAC9B,UAAA,OAAO,GAAA,CAAI,UAAA,CAAW,MAAA,CAAO,IAAI,CAAA;AAAA;AACnC,OACD,CAAA,CACA,MAAA,CAAO,OAAO;AAAA,KACnB;AAEA,IAAA,MAAM,MAA4B,EAAC;AAEnC,IAAA,aAAA,CAAc,OAAA,CAAQ,CAAC,EAAA,KAAO;AAC5B,MAAA,IAAI,CAAC,EAAA,EAAI;AAET,MAAA,MAAM,IAAA,GAAO,GAAA,CAAI,GAAA,CAAI,EAAE,CAAA;AAEvB,MAAA,IAAI,CAAC,IAAA,IAAQ,CAACC,OAAAA,CAAQ,MAAA,CAAO,IAAI,CAAA,EAAG;AACpC,MAAA,IAAI,CAACA,OAAAA,CAAQ,MAAA,CAAO,IAAA,EAAM,SAAS,CAAA,EAAG;AAEtC,MAAA,MAAM,OAAA,GAAU;AAAA,QACd,GAAG,MAAA,CAAO,GAAA,CAAI,KAAA,CAAkC;AAAA,UAC9C,IAAI,EAAC;AAAA,UACL,IAAA,EAAM,KAAA;AAAA,UACN,OAAO,CAAC,CAAA,KACL,CAAA,CAAEjH,gBAAAA,CAAiB,GAAG,CAAA,IAAK,CAAA,CAAE,gBAAA,CAAiB,EAAE,CAAC,CAAA,IAClD,GAAA,CAAI,UAAA,CAAW,MAAA,CAAO,CAAa,CAAA,KAAM;AAAA,SAC5C;AAAA,OACH;AAEA,MAAA,OAAA,CAAQ,IAAA,CAAK,CAAC,GAAG,KAAK,CAAA,EAAG,GAAG,KAAK,CAAA,KAAM;AACrC,QAAA,OAAOiH,OAAAA,CAAQ,OAAA,CAAQ,KAAA,EAAO,KAAK,IAAI,EAAA,GAAK,CAAA;AAAA,OAC7C,CAAA;AAED,MAAA,IAAI,OAAA,GAAU,EAAA;AACd,MAAA,IAAI,IAAA,GAAO,EAAA;AACX,MAAA,IAAI,aAAkB,EAAC;AACvB,MAAA,IAAI,gBAAqB,EAAC;AAE1B,MAAA,OAAA,CAAQ,OAAA,CAAQ,CAAC,CAAC,IAAI,CAAA,KAAM;AAC1B,QAAA,IAAI,OAAA,CAAQ,MAAA,CAAO,IAAI,CAAA,EAAG;AACxB,UAAA,MAAM,QAAA,GAAW,GAAA,CAAI,UAAA,CAAW,QAAA,CAAS,IAAI,CAAA;AAE7C,UAAA,QAAA,CAAS,OAAA,CAAQ,CAAC,IAAA,KAAS;AACzB,YAAA,IAAI,IAAA,CAAK,OAAO,EAAA,EAAI;AAEpB,YAAA,QAAQ,KAAK,IAAA;AAAM,cACjB,KAAK,QAAA,EAAU;AACb,gBAAA,OAAA,IAAW,IAAA,CAAK,IAAA;AAEhB,gBAAA;AAAA;AACF,cACA,KAAK,QAAA,EAAU;AACb,gBAAA,IAAA,IAAQ,IAAA,CAAK,IAAA;AAEb,gBAAA;AAAA;AACF,cACA,KAAK,QAAA,EAAU;AACb,gBAAA,UAAA,GAAa;AAAA,kBACX,GAAG,UAAA;AAAA,kBACH,GAAG,IAAA,CAAK;AAAA,iBACV;AAEA,gBAAA,aAAA,GAAgB;AAAA,kBACd,GAAG,aAAA;AAAA,kBACH,GAAG,IAAA,CAAK;AAAA,iBACV;AAEA,gBAAA,OAAA,IAAW,IAAA,CAAK,IAAA;AAEhB,gBAAA;AAAA;AACF;AACF,WACD,CAAA;AAAA,SACH,MAAO;AACL,UAAA,MAAM,gBAAgB,GAAA,CAAI,UAAA,CAAW,kBAAkB,IAAI,CAAA,GACvD,KAAK,UAAA,GACL,MAAA;AAEJ,UAAA,IAAI,aAAA,EAAe,EAAA,KAAO,kBAAA,CAAmB,EAAE,CAAA,EAAG;AAClD,UAAA,IAAI,aAAA,CAAc,SAAS,QAAA,EAAU;AACnC,YAAA,OAAA,IAAW,aAAA,CAAc,cACrB,gBAAA,GACA,gBAAA,GAAmB,cAAc,IAAA,CAAK,IAAI,EAAE,IAAI,CAAA;AAAA,WACtD,MAAA,IAAW,aAAA,CAAc,IAAA,KAAS,QAAA,EAAU;AAC1C,YAAA,IAAA,IAAQ,aAAA,CAAc,cAClB,gBAAA,GACA,gBAAA,GAAmB,cAAc,IAAA,CAAK,IAAI,EAAE,IAAI,CAAA;AAAA;AACtD;AACF,OACD,CAAA;AAED,MAAA,IAAI,OAAA,CAAQ,WAAW,CAAA,EAAG;AAE1B,MAAA,MAAM,QAAA,GAAW,IAAI,UAAA,CAAW,cAAA,CAAe,QAAQ,CAAC,CAAA,CAAE,CAAC,CAAC,CAAA;AAE5D,MAAA,IAAI,CAAC,QAAA,EAAU;AAEf,MAAA,MAAM,QAAA,GACJ,WAAA,CAAY,IAAA,CAAK,CAAC,CAAA,KAAmB,EAAE,EAAA,KAAO,EAAE,CAAA,EAAG,QAAA,IAAY,EAAC;AAClE,MAAA,MAAM,SAAA,GAAY,IAAI,IAAA,CAAK,QAAA,CAAS,SAAS,CAAA;AAE7C,MAAA,MAAM,KAAA,GAAQ,iBAAiB,EAAE,CAAA;AAEjC,MAAA,IAAI,QAAA,CAAS,SAAS,QAAA,EAAU;AAC9B,QAAA,OAAO,IAAI,IAAA,CAAK;AAAA,UACd,QAAA;AAAA,UACA,SAAA;AAAA,UACA,KAAA;AAAA,UACA,aAAA;AAAA,UACA,OAAA;AAAA,UACA,UAAA;AAAA,UACA,YAAA,EAAc,mBAAmB,EAAE,CAAA;AAAA,UACnC,IAAA,EAAM,QAAA;AAAA,UACN,QAAQ,QAAA,CAAS;AAAA,SAClB,CAAA;AAAA;AAEH,MAAA,IAAI,OAAA,CAAQ,MAAA,GAAS,CAAA,IAAK,IAAA,CAAK,SAAS,CAAA,EAAG;AACzC,QAAA,OAAO,IAAI,IAAA,CAAK;AAAA,UACd,QAAA;AAAA,UACA,SAAA;AAAA,UACA,KAAA;AAAA,UACA,OAAA;AAAA,UACA,YAAA,EAAc,mBAAmB,EAAE,CAAA;AAAA,UACnC,IAAA;AAAA,UACA,IAAA,EAAM,SAAA;AAAA,UACN,QAAQ,QAAA,CAAS;AAAA,SAClB,CAAA;AAAA;AAEH,MAAA,IAAI,OAAA,CAAQ,SAAS,CAAA,EAAG;AACtB,QAAA,OAAO,IAAI,IAAA,CAAK;AAAA,UACd,QAAA;AAAA,UACA,SAAA;AAAA,UACA,KAAA;AAAA,UACA,OAAA;AAAA,UACA,YAAA,EAAc,mBAAmB,EAAE,CAAA;AAAA,UACnC,IAAA,EAAM,QAAA;AAAA,UACN,QAAQ,QAAA,CAAS;AAAA,SAClB,CAAA;AAAA;AAEH,MAAA,IAAI,IAAA,CAAK,SAAS,CAAA,EAAG;AACnB,QAAA,OAAO,IAAI,IAAA,CAAK;AAAA,UACd,QAAA;AAAA,UACA,SAAA;AAAA,UACA,KAAA;AAAA,UACA,YAAA,EAAc,mBAAmB,EAAE,CAAA;AAAA,UACnC,IAAA;AAAA,UACA,IAAA,EAAM,QAAA;AAAA,UACN,QAAQ,QAAA,CAAS;AAAA,SAClB,CAAA;AAAA;AACH,KACD,CAAA;AAED,IAAA,OAAO,GAAA;AAAA,GACT,EAAG;AAAA,IACD,GAAA,CAAI,UAAA;AAAA,IACJ,SAAA;AAAA,IACA,WAAA;AAAA,IACA,MAAA,CAAO,GAAA;AAAA,IACP,SAAA;AAAA,IACA;AAAA,GACD,CAAA;AAED,EAAA,OAAO,kBAAA;AACT,CAAA;AAEO,IAAM,oBAAA,GAAuB,CAClC,UAAA,KACqC;AACrC,EAAA,OAAO,cAAA,IAAkB,UAAA;AAC3B,CAAA;AAEO,SAAS,eAAA,CAAgB,EAAE,OAAA,EAAQ,EAAoC;AAC5E,EAAA,MAAM,iBAAiB,OAAA,CAAQ,UAAA;AAE/B,EAAA,IAAI,cAAA,EAAgB,aAAa,OAAO,IAAA;AAExC,EAAA,MAAM,QAAA,GAAW,gBAAgB,IAAA,KAAS,QAAA;AAE1C,EAAA,uBACE5H,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT,yFAAA;AAAA,QACA,QAAA,IAAY;AAAA,OACd;AAAA,MACA,eAAA,EAAiB;AAAA;AAAA,GACnB;AAEJ;ACtdO,IAAM,eAAA,GAAsD,CAAC,KAAA,KAAU;AAC5E,EAAA,MAAM,EAAE,MAAA,EAAQ,OAAA,EAAQ,GAAI,KAAA;AAE5B,EAAA,MAAM,WAAA,GAAc,MAAA,CAAO,MAAA,CAAO6G,cAAc,CAAA,CAAE,OAAA;AAClD,EAAA,MAAM,SAAA,GAAY,MAAA,CAAO,GAAA,CAAI,QAAA,CAAS,OAAO,CAAA;AAE7C,EAAA,IAAI,CAAC,SAAA,IAAa,SAAA,CAAU,MAAA,GAAS,CAAA,EAAG;AAExC,EAAA,MAAM,gBAAA,GAAmB,YAAY,IAAA,CAAK,EAAE,IAAI,SAAA,EAAW,OAAA,EAAS,MAAM,CAAA;AAE1E,EAAA,MAAM,YAAA,GAAe,CAAC,GAAG,WAAA,CAAY,MAAM,EAAE,EAAA,EAAI,SAAA,EAAW,CAAC,CAAA;AAE7D,EAAA,MAAM,eAAA,GAAkB;AAAA,IACtB,GAAG,MAAA,CAAO,MAAA,CAAOlG,gBAAgB,CAAA,CAAE,WAAW,KAAA,CAAM,EAAE,EAAA,EAAI,SAAA,EAAW;AAAA,GACvE;AAEA,EAAA,IACE,aAAa,MAAA,KAAW,CAAA,IACxB,gBAAgB,MAAA,KAAW,CAAA,IAC3B,CAAC,gBAAA,EACD;AACA,IAAA;AAAA;AAGF,EAAA,OAAO,CAACmE,2BACN9E,GAAAA;AAAA,IAAC,oBAAA;AAAA,IAAA;AAAA,MACC,SAAA;AAAA,MACA,YAAA;AAAA,MACA,gBAAA;AAAA,MACA,eAAA;AAAA,MACC,GAAG8E;AAAA;AAAA,GACN;AAEJ,CAAA;AAEA,IAAM,uBAAuB,CAAC;AAAA,EAC5B,SAAA;AAAA,EACA,QAAA;AAAA,EACA,YAAA;AAAA,EACA,gBAAA;AAAA,EACA;AACF,CAAA,KAKM;AACJ,EAAA,MAAM,SAASjD,YAAAA,EAAa;AAE5B,EAAA,MAAM,mBAAA,GAAsB,oBAAA,CAAqB,eAAA,EAAiB,SAAS,CAAA;AAC3E,EAAA,MAAM,mBAAA,GAAsB,qBAAA,CAAsB,YAAA,EAAc,SAAS,CAAA;AAEzE,EAAA,MAAM,mBAAmB,mBAAA,CAAoB,MAAA;AAC7C,EAAA,MAAM,mBAAmB,mBAAA,CAAoB,MAAA;AAC7C,EAAA,MAAM,aAAa,gBAAA,GAAmB,gBAAA;AAEtC,EAAA,MAAM,kBAAA,GAAqBoB,eAAAA,CAAgB,gBAAA,EAAkB,UAAU,CAAA;AACvE,EAAA,MAAM,gBAAA,GACJ,sBACA,mBAAA,CAAoB,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,iBAAiB,kBAAkB,CAAA;AAEvE,EAAA,MAAM,eAAA,GAAkBA,eAAAA,CAAgB,cAAA,EAAgB,iBAAiB,CAAA;AACzE,EAAA,MAAM,eAAA,GAAkBA,eAAAA,CAAgB,cAAA,EAAgB,UAAU,CAAA;AAClE,EAAA,MAAM,YAAA,GAAe,oBAAoB0D,kBAAAA,EAAmB;AAC5D,EAAA,MAAM,gBAAA,GACJ,mBACA,mBAAA,CAAoB,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,OAAO,eAAe,CAAA;AAE1D,EAAA,MAAM,UAAA,GAAa,CAAC,gBAAA,IAAoB,CAAC,gBAAA;AAEzC,EAAA,MAAM,gBAAA,GAAmB;AAAA,IACvB,GAAG,mBAAA;AAAA,IACH,GAAG;AAAA,GACL,CAAE,IAAA,CAAK,CAAC,CAAA,EAAG,CAAA,KAAM,CAAA,CAAE,SAAA,CAAU,OAAA,EAAQ,GAAI,CAAA,CAAE,SAAA,CAAU,OAAA,EAAS,CAAA;AAE9D,EAAA,MAAM,QAAA,GACJ,mBAAA,CAAoB,IAAA,CAAK,CAAC,MAAM,CAAA,CAAE,EAAA,KAAO,eAAe,CAAA,IACxD,oBAAoB,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,iBAAiB,kBAAkB,CAAA;AAEvE,EAAA,MAAM,CAAC,KAAA,EAAO,OAAO,CAAA,GAAUkB,iBAAS,QAAQ,CAAA;AAEhD,EAAA,MAAM,oBACJ,CAAC,CAAC,mBAAmBD,OAAAA,CAAQ,MAAA,CAAO,WAAW,eAAe,CAAA;AAEhE,EAAA,MAAM,OACJ,KAAA,IACA,QAAA,IACC,YAAA,IAAgB,CAAC,CAAC,gBAAA,IAAoB,iBAAA;AAEzC,EAAA,MAAM,aAAA,GAAsBC,gBAAQ,MAAM;AACxC,IAAA,IAAI,UAAA;AAEJ,IAAA,IAAI,gBAAA,EAAkB;AACpB,MAAA,UAAA,GAAa,eAAA,CAAgB,IAAA;AAAA,QAC3B,CAAC,CAAC,IAAI,CAAA,KACJC,OAAAA,CAAQ,OAAO,IAAI,CAAA,IACnB,MAAA,CAAO,MAAA,CAAOnH,gBAAgB,CAAA,CAAE,UAAA,CAAW,MAAA,CAAO,IAAI,MACpD,gBAAA,CAAiB;AAAA,OACvB;AAAA;AAGF,IAAA,IAAI,eAAA,EAAiB;AACnB,MAAA,IAAI,eAAA,KAAoBgG,oBAAmB,EAAG;AAC5C,QAAA,UAAA,GAAa,gBAAA;AAAA,OACf,MAAO;AACL,QAAA,UAAA,GAAa,YAAA,CAAa,IAAA;AAAA,UACxB,CAAC,CAAC,IAAI,CAAA,KACJ,MAAA,CAAO,MAAA,CAAOE,cAAc,CAAA,CAAE,OAAA,CAAQ,MAAA,CAAO,IAAI,CAAA,KACjD;AAAA,SACJ;AAAA;AACF;AAGF,IAAA,IAAI,CAAC,YAAY,OAAO,IAAA;AAExB,IAAA,OAAO,MAAA,CAAO,GAAA,CAAI,SAAA,CAAU,UAAA,CAAW,CAAC,CAAC,CAAA;AAAA,GAE3C,EAAG;AAAA,IACD,IAAA;AAAA,IACA,gBAAA;AAAA,IACA,eAAA;AAAA,IACA,MAAA,CAAO,GAAA;AAAA,IACP,eAAA;AAAA,IACA,gBAAA;AAAA,IACA;AAAA,GACD,CAAA;AAED,EAAA,IAAI,gBAAA,GAAmB,mBAAA,CAAoB,MAAA,KAAW,CAAA,IAAK,CAAC,gBAAA;AAC1D,IAAA,uBAAO7G,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,UAAU,QAAA,EAAS,CAAA;AAE3C,EAAA,uBACEA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,+BACb,QAAA,kBAAAG,IAAAA;AAAA,IAACkB,QAAAA;AAAA,IAAA;AAAA,MACC,IAAA;AAAA,MACA,YAAA,EAAc,CAAC,MAAA,KAAW;AACxB,QAAA,IAAI,CAAC,MAAA,IAAU,YAAA,IAAgB,gBAAA,EAAkB;AAC/C,UAAA,MAAA,CAAO,EAAA,CAAG,UAAA,CAAWsF,kBAAAA,EAAmB,EAAG;AAAA,YACzC,IAAI,EAAC;AAAA,YACL,IAAA,EAAM,QAAA;AAAA,YACN,KAAA,EAAO,CAAC,CAAA,KAAM,CAAA,CAAEA,oBAAoB;AAAA,WACrC,CAAA;AAAA;AAEH,QAAA,OAAA,CAAQ,MAAM,CAAA;AAAA,OAChB;AAAA,MAEA,QAAA,EAAA;AAAA,wBAAA3G,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,QAAA,EAAU,QAAA,EAAS,CAAA;AAAA,QACjC,iCACCA,GAAAA;AAAA,UAAC,aAAA;AAAA,UAAA;AAAA,YACC,OAAA,EAAO,IAAA;AAAA,YACP,SAAA,EAAU,QAAA;AAAA,YACV,UAAA,EAAY,EAAE,OAAA,EAAS,aAAA;AAAc;AAAA,SACvC;AAAA,wBAGFA,GAAAA;AAAA,UAAC,cAAA;AAAA,UAAA;AAAA,YACC,SAAA,EAAU,wKAAA;AAAA,YACV,gBAAA,EAAkB,CAAC,CAAA,KAAM,CAAA,CAAE,cAAA,EAAe;AAAA,YAC1C,eAAA,EAAiB,CAAC,CAAA,KAAM,CAAA,CAAE,cAAA,EAAe;AAAA,YACzC,KAAA,EAAM,QAAA;AAAA,YACN,IAAA,EAAK,QAAA;AAAA,YAEJ,QAAA,EAAA,YAAA,mBACCA,GAAAA,CAAC,iBAAA,EAAA,EAAkB,WAAU,KAAA,EAAM,YAAA,EAAY,IAAA,EAAC,CAAA,mBAEhDA,GAAAA,CAAO6H,OAAA,CAAA,QAAA,EAAN,EACE,uBACC,gBAAA,CAAiB,GAAA;AAAA,cAAI,CAAC,IAAA,EAAM,KAAA,KAC1B,oBAAA,CAAqB,IAAI,oBACvB7H,GAAAA;AAAA,gBAAC,mBAAA;AAAA,gBAAA;AAAA,kBAEC,GAAA,EAAK,KAAA;AAAA,kBACL,MAAA,EAAQ,KAAA,KAAU,gBAAA,CAAiB,MAAA,GAAS,CAAA;AAAA,kBAC5C,UAAA,EAAY;AAAA,iBAAA;AAAA,gBAHP,IAAA,CAAK;AAAA,kCAMZA,GAAAA;AAAA,gBAAC,YAAA;AAAA,gBAAA;AAAA,kBAEC,UAAA,EAAY,IAAA;AAAA,kBACZ,MAAA,EAAQ,KAAA,KAAU,gBAAA,CAAiB,MAAA,GAAS;AAAA,iBAAA;AAAA,gBAFvC,IAAA,CAAK;AAAA;AAGZ,aAEJ,mBAEAG,IAAAA,CAAO0H,OAAA,CAAA,QAAA,EAAN,EACE,QAAA,EAAA;AAAA,cAAA,gBAAA,oBACC7H,GAAAA;AAAA,gBAAC,mBAAA;AAAA,gBAAA;AAAA,kBAEC,GAAA,EAAK,CAAA;AAAA,kBACL,MAAA,EAAQ,IAAA;AAAA,kBACR,UAAA,EAAY;AAAA,iBAAA;AAAA,gBAHP,gBAAA,CAAiB;AAAA,eAIxB;AAAA,cAGD,oCACCA,GAAAA,CAAC,gBAAa,UAAA,EAAY,gBAAA,EAAkB,QAAQ,IAAA,EAAM;AAAA,aAAA,EAE9D,CAAA,EAEJ;AAAA;AAAA,SAEJ;AAAA,QAEC,UAAA,GAAa,CAAA,oBACZA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,oCAAA,EACb,QAAA,kBAAAA,GAAAA,CAAC,cAAA,EAAA,EAAe,OAAA,EAAO,IAAA,EACrB,QAAA,kBAAAG,IAAAA;AAAA,UAACO,OAAAA;AAAA,UAAA;AAAA,YACC,OAAA,EAAQ,OAAA;AAAA,YACR,SAAA,EAAU,0HAAA;AAAA,YACV,aAAA,EAAa,IAAA;AAAA,YACb,eAAA,EAAiB,KAAA;AAAA,YAEhB,QAAA,EAAA;AAAA,cAAA,gBAAA,GAAmB,CAAA,IAAK,qBAAqB,CAAA,oBAC5CV,IAACoE,cAAAA,EAAA,EAAe,WAAU,iBAAA,EAAkB,CAAA;AAAA,cAG7C,gBAAA,KAAqB,KAAK,gBAAA,GAAmB,CAAA,oBAC5CpE,GAAAA,CAAC+H,qBAAAA,EAAA,EAAsB,SAAA,EAAU,iBAAA,EAAkB,CAAA;AAAA,cAGpD,gBAAA,GAAmB,KAAK,gBAAA,GAAmB,CAAA,oBAC1C/H,GAAAA,CAAC,kBAAA,EAAA,EAAmB,WAAU,iBAAA,EAAkB,CAAA;AAAA,8BAGlDA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,yBAAyB,QAAA,EAAA,UAAA,EAAW;AAAA;AAAA;AAAA,WAExD,CAAA,EACF;AAAA;AAAA;AAAA,GAEJ,EACF,CAAA;AAEJ,CAAA;AAEO,IAAM,eAAe,CAAC;AAAA,EAC3B,UAAA;AAAA,EACA;AACF,CAAA,KAGM;AACJ,EAAA,MAAM,CAAC,SAAA,EAAW,YAAY,CAAA,GAAU6H,iBAAwB,IAAI,CAAA;AAEpE,EAAA,uBACE1H,IAAAA,CAAO0H,OAAA,CAAA,QAAA,EAAN,EACC,QAAA,EAAA;AAAA,oBAAA1H,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,KAAA,EACZ,QAAA,EAAA;AAAA,MAAA,UAAA,CAAW,QAAA,CAAS,GAAA,CAAI,CAAC,OAAA,EAAS,0BACjCH,GAAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UAEC,OAAA;AAAA,UACA,gBAAA,EAAkB,WAAW,QAAA,CAAS,MAAA;AAAA,UACtC,iBAAiB,UAAA,EAAY,eAAA;AAAA,UAC7B,SAAA;AAAA,UACA,KAAA;AAAA,UACA,YAAA;AAAA,UACA,mBAAA,EAAmB;AAAA,SAAA;AAAA,QAPd,QAAQ,EAAA,IAAM;AAAA,OAStB,CAAA;AAAA,sBACDA,GAAAA,CAAC,iBAAA,EAAA,EAAkB,YAAA,EAAc,WAAW,EAAA,EAAI;AAAA,KAAA,EAClD,CAAA;AAAA,IAEC,CAAC,MAAA,oBAAUA,GAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,sBAAA,EAAuB;AAAA,GAAA,EAAA,EAjB/B,WAAW,EAkBhC,CAAA;AAEJ,CAAA;AAEO,IAAM,qBAAA,GAAwB,CACnC,YAAA,EACA,SAAA,KACG;AACH,EAAA,MAAM,EAAE,GAAA,EAAK,SAAA,EAAW,SAAA,EAAU,GAAIgB,gBAAgB,cAAc,CAAA;AAEpE,EAAA,MAAM,WAAA,GAAciC,eAAAA,CAAgB,gBAAA,EAAkB,aAAa,CAAA;AAEnE,EAAA,YAAA,CAAa,OAAA,CAAQ,CAAC,CAAC,IAAI,CAAA,KAAM;AAC/B,IAAA,MAAM,EAAA,GAAK,GAAA,CAAI,OAAA,CAAQ,MAAA,CAAO,IAAI,CAAA;AAClC,IAAA,MAAM,GAAA,GAAM,UAAU,eAAe,CAAA;AAErC,IAAA,IAAI,CAAC,EAAA,EAAI;AAET,IAAA,MAAM,YAAA,GAAe,GAAA,CAAI,GAAA,CAAI,EAAE,CAAA;AAE/B,IAAA,IAAI2E,OAAAA,CAAQ,MAAA,CAAO,YAAY,CAAA,EAAG;AAChC,MAAA,MAAM,KAAA,GAAQ,IAAI,OAAA,CAAQ,IAAA,CAAK,EAAE,EAAA,EAAI,EAAA,EAAI,cAAc,CAAA;AAEvD,MAAA,IAAI,CAAC,KAAA,EAAO;AACV,QAAA,SAAA,CAAU,eAAA,EAAiB,IAAI,GAAA,CAAI,GAAG,EAAE,GAAA,CAAI,EAAA,EAAI,SAAS,CAAC,CAAA;AAC1D,QAAA;AAAA;AAGF,MAAA;AAAA;AAEF,IAAA,SAAA,CAAU,eAAA,EAAiB,IAAI,GAAA,CAAI,GAAG,EAAE,GAAA,CAAI,EAAA,EAAI,SAAS,CAAC,CAAA;AAAA,GAC3D,CAAA;AAED,EAAA,MAAM,cAAc,IAAI,GAAA;AAAA,IACtB,YAAA,CAAa,GAAA,CAAI,CAAC,CAAC,IAAI,CAAA,KAAM,GAAA,CAAI,OAAA,CAAQ,MAAA,CAAO,IAAI,CAAC,CAAA,CAAE,OAAO,OAAO;AAAA,GACvE;AAEA,EAAA,MAAM,mBAAA,GAAsB,WAAA,CACzB,GAAA,CAAI,CAAC,CAAA,MAAoB;AAAA,IACxB,GAAG,CAAA;AAAA,IACH,SAAA,EAAW,IAAI,IAAA,CAAK,CAAA,CAAE,SAAS;AAAA,GACjC,CAAE,CAAA,CACD,MAAA,CAAO,CAAC,IAAA,KAAsB;AAC7B,IAAA,MAAM,eAAA,GAAkB,UAAU,eAAe,CAAA;AACjD,IAAA,MAAM,cAAA,GAAiB,eAAA,CAAgB,GAAA,CAAI,IAAA,CAAK,EAAE,CAAA;AAElD,IAAA,IAAI,CAAC,gBAAgB,OAAO,KAAA;AAC5B,IAAA,IAAI,CAACA,OAAAA,CAAQ,MAAA,CAAO,cAAA,EAAgB,SAAS,GAAG,OAAO,KAAA;AAEvD,IAAA,OACE,GAAA,CAAI,OAAA,CAAQ,GAAA,CAAI,EAAE,IAAI,IAAA,CAAK,EAAA,EAAI,CAAA,IAC/B,YAAY,GAAA,CAAI,IAAA,CAAK,EAAE,CAAA,IACvB,CAAC,IAAA,CAAK,UAAA;AAAA,GAET,CAAA;AAEH,EAAA,OAAO,mBAAA;AACT,CAAA;;;ACnWA,IAAM,eAAA,GAAiC;AAAA,EACrC;AAAA,IACE,EAAA,EAAI,aAAA;AAAA,IACJ,QAAA,EAAU;AAAA,MACR;AAAA,QACE,EAAA,EAAI,UAAA;AAAA,QACJ,WAAA,EAAa;AAAA,UACX;AAAA,YACE,QAAA,EAAU;AAAA,cACR;AAAA,gBACE,IAAA,EAAM;AAAA;AACR,aACF;AAAA,YACA,IAAA,EAAM;AAAA;AACR,SACF;AAAA,QACA,WAAW,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,GAAO,CAAA;AAAA,QACxC,YAAA,EAAc,aAAA;AAAA,QACd,QAAA,EAAU,KAAA;AAAA,QACV,MAAA,EAAQ;AAAA;AACV,KACF;AAAA,IACA,SAAA,sBAAe,IAAA,EAAK;AAAA,IACpB,eAAA,EAAiB,0BAAA;AAAA,IACjB,UAAA,EAAY,KAAA;AAAA,IACZ,MAAA,EAAQ;AAAA,GACV;AAAA,EACA;AAAA,IACE,EAAA,EAAI,aAAA;AAAA,IACJ,QAAA,EAAU;AAAA,MACR;AAAA,QACE,EAAA,EAAI,UAAA;AAAA,QACJ,WAAA,EAAa;AAAA,UACX;AAAA,YACE,QAAA,EAAU;AAAA,cACR;AAAA,gBACE,IAAA,EAAM;AAAA;AACR,aACF;AAAA,YACA,IAAA,EAAM;AAAA;AACR,SACF;AAAA,QACA,WAAW,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,GAAO,CAAA;AAAA,QACxC,YAAA,EAAc,aAAA;AAAA,QACd,QAAA,EAAU,KAAA;AAAA,QACV,MAAA,EAAQ;AAAA,OACV;AAAA,MACA;AAAA,QACE,EAAA,EAAI,UAAA;AAAA,QACJ,WAAA,EAAa;AAAA,UACX;AAAA,YACE,QAAA,EAAU;AAAA,cACR;AAAA,gBACE,IAAA,EAAM;AAAA;AACR,aACF;AAAA,YACA,IAAA,EAAM;AAAA;AACR,SACF;AAAA,QACA,WAAW,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,GAAO,CAAA;AAAA,QACxC,YAAA,EAAc,aAAA;AAAA,QACd,QAAA,EAAU,KAAA;AAAA,QACV,MAAA,EAAQ;AAAA,OACV;AAAA,MACA;AAAA,QACE,EAAA,EAAI,UAAA;AAAA,QACJ,WAAA,EAAa;AAAA,UACX;AAAA,YACE,QAAA,EAAU;AAAA,cACR;AAAA,gBACE,IAAA,EAAM;AAAA;AACR,aACF;AAAA,YACA,IAAA,EAAM;AAAA;AACR,SACF;AAAA,QACA,WAAW,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,GAAO,CAAA;AAAA,QACxC,YAAA,EAAc,aAAA;AAAA,QACd,QAAA,EAAU,KAAA;AAAA,QACV,MAAA,EAAQ;AAAA;AACV,KACF;AAAA,IACA,SAAA,sBAAe,IAAA,EAAK;AAAA,IACpB,eAAA,EAAiB,aAAA;AAAA,IACjB,UAAA,EAAY,KAAA;AAAA,IACZ,MAAA,EAAQ;AAAA,GACV;AAAA,EACA;AAAA,IACE,EAAA,EAAI,aAAA;AAAA,IACJ,QAAA,EAAU;AAAA,MACR;AAAA,QACE,EAAA,EAAI,UAAA;AAAA,QACJ,WAAA,EAAa;AAAA,UACX;AAAA,YACE,QAAA,EAAU;AAAA,cACR;AAAA,gBACE,IAAA,EAAM;AAAA;AACR,aACF;AAAA,YACA,IAAA,EAAM;AAAA;AACR,SACF;AAAA,QACA,WAAW,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,GAAO,CAAA;AAAA,QACxC,YAAA,EAAc,aAAA;AAAA,QACd,QAAA,EAAU,KAAA;AAAA,QACV,MAAA,EAAQ;AAAA,OACV;AAAA,MACA;AAAA,QACE,EAAA,EAAI,UAAA;AAAA,QACJ,WAAA,EAAa;AAAA,UACX;AAAA,YACE,QAAA,EAAU;AAAA,cACR;AAAA,gBACE,IAAA,EAAM;AAAA;AACR,aACF;AAAA,YACA,IAAA,EAAM;AAAA;AACR,SACF;AAAA,QACA,WAAW,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,GAAO,CAAA;AAAA,QACxC,YAAA,EAAc,aAAA;AAAA,QACd,QAAA,EAAU,KAAA;AAAA,QACV,MAAA,EAAQ;AAAA;AACV,KACF;AAAA,IACA,SAAA,sBAAe,IAAA,EAAK;AAAA,IACpB,eAAA,EAAiB,UAAA;AAAA,IACjB,UAAA,EAAY,KAAA;AAAA,IACZ,MAAA,EAAQ;AAAA,GACV;AAAA,EACA;AAAA,IACE,EAAA,EAAI,aAAA;AAAA,IACJ,QAAA,EAAU;AAAA,MACR;AAAA,QACE,EAAA,EAAI,UAAA;AAAA,QACJ,WAAA,EAAa;AAAA,UACX;AAAA,YACE,QAAA,EAAU;AAAA,cACR;AAAA,gBACE,IAAA,EAAM;AAAA;AACR,aACF;AAAA,YACA,IAAA,EAAM;AAAA;AACR,SACF;AAAA,QACA,WAAW,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,GAAO,CAAA;AAAA,QACxC,YAAA,EAAc,aAAA;AAAA,QACd,QAAA,EAAU,KAAA;AAAA,QACV,MAAA,EAAQ;AAAA;AACV,KACF;AAAA,IACA,SAAA,sBAAe,IAAA,EAAK;AAAA,IACpB,eAAA,EAAiB,gCAAA;AAAA,IACjB,UAAA,EAAY,KAAA;AAAA,IACZ,MAAA,EAAQ;AAAA,GACV;AAAA,EACA;AAAA,IACE,EAAA,EAAI,aAAA;AAAA,IACJ,QAAA,EAAU;AAAA,MACR;AAAA,QACE,EAAA,EAAI,UAAA;AAAA,QACJ,WAAA,EAAa;AAAA,UACX;AAAA,YACE,QAAA,EAAU;AAAA,cACR;AAAA,gBACE,IAAA,EAAM;AAAA;AACR,aACF;AAAA,YACA,IAAA,EAAM;AAAA;AACR,SACF;AAAA,QACA,WAAW,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,GAAO,CAAA;AAAA,QACxC,YAAA,EAAc,aAAA;AAAA,QACd,QAAA,EAAU,KAAA;AAAA,QACV,MAAA,EAAQ;AAAA,OACV;AAAA,MACA;AAAA,QACE,EAAA,EAAI,UAAA;AAAA,QACJ,WAAA,EAAa;AAAA,UACX;AAAA,YACE,QAAA,EAAU;AAAA,cACR;AAAA,gBACE,IAAA,EAAM;AAAA;AACR,aACF;AAAA,YACA,IAAA,EAAM;AAAA;AACR,SACF;AAAA,QACA,WAAW,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,GAAO,CAAA;AAAA,QACxC,YAAA,EAAc,aAAA;AAAA,QACd,QAAA,EAAU,KAAA;AAAA,QACV,MAAA,EAAQ;AAAA;AACV,KACF;AAAA,IACA,SAAA,sBAAe,IAAA,EAAK;AAAA,IACpB,eAAA,EAAiB,aAAA;AAAA,IACjB,UAAA,EAAY,KAAA;AAAA,IACZ,MAAA,EAAQ;AAAA;AAEZ,CAAA;AAEA,IAAM,SAAA,GAAY,CAAC,IAAA,KACjB,CAAA,4CAAA,EAA+C,IAAI,CAAA,CAAA;AAErD,IAAM,SAAA,GAGF;AAAA,EACF,KAAA,EAAO;AAAA,IACL,EAAA,EAAI,OAAA;AAAA,IACJ,SAAA,EAAW,UAAU,QAAQ,CAAA;AAAA,IAC7B,IAAA,EAAM;AAAA,GACR;AAAA,EACA,GAAA,EAAK;AAAA,IACH,EAAA,EAAI,KAAA;AAAA,IACJ,SAAA,EAAW,UAAU,MAAM,CAAA;AAAA,IAC3B,IAAA,EAAM;AAAA,GACR;AAAA,EACA,OAAA,EAAS;AAAA,IACP,EAAA,EAAI,SAAA;AAAA,IACJ,SAAA,EAAW,UAAU,UAAU,CAAA;AAAA,IAC/B,IAAA,EAAM;AAAA;AAEV,CAAA;AAGO,IAAM,mBAAmBjD,iBAAAA,CAAkB;AAAA,EAChD,GAAA,EAAK,YAAA;AAAA,EACL,OAAA,EAAS;AAAA,IACP,aAAA,EAAe,OAAA;AAAA,IACf,WAAA,EAAa,eAAA;AAAA,IACb,KAAA,EAAO;AAAA;AAEX,CAAC,EACE,SAAA,CAAU;AAAA,EACT,MAAA,EAAQ,EAAE,UAAA,EAAY,eAAA;AACxB,CAAC,CAAA,CACA,eAAA,CAAgB,CAAC,EAAE,WAAU,MAAO;AAAA,EACnC,aAAa,MAAM,SAAA,CAAU,OAAO,CAAA,CAAE,SAAA,CAAU,eAAe,CAAC,CAAA;AAAA,EAChE,MAAM,CAAC,EAAA,KAAe,SAAA,CAAU,OAAO,EAAE,EAAE;AAC7C,CAAA,CAAE,CAAA;ACtOG,IAAM,gBAAA,GAAmBqD,cAAAA;AAAA,EAC9B,oBAAA;AAAA,EACA,CAAC,EAAE,MAAA,EAAO,MAAO;AAAA,IACf,QAAA,EAAU;AAAA;AAAA,MAER,SAAS,CAAC,EAAE,KAAK,KAAA,EAAO,SAAA,EAAW,MAAK,KAAM;AAC5C,QAAA,IAAI,OAAO,KAAA,CAAM,MAAA;AACjB,QAAA,IAAI,KAAA,GAAQ,KAAA;AAEZ,QAAA,MAAM,wBAAwB,MAAM;AAClC,UAAA,SAAA,CAAU,YAAY,IAAI,CAAA;AAC1B,UAAA,KAAA,GAAQ,IAAA;AAAA,SACV;AAEA,QAAA,IAAI,CAACC,aAAAA,CAAc,IAAI,CAAA,EAAG,qBAAA,EAAsB;AAEhD,QAAA,OACE,IAAA,CAAK,aAAA,IACL,CAAC,cAAA,CAAe,IAAA,CAAK,aAAa,CAAA,IAClC,CAAC,aAAA,CAAc,IAAA,CAAK,aAAa,CAAA,EACjC;AACA,UAAA,IAAI,KAAK,SAAA,CAAU,QAAA,CAAS,CAAA,MAAA,EAAS,IAAI,EAAE,CAAA,EAAG;AAC5C,YAAA,MAAM,kBAAkB,GAAA,CAAI,UAAA,CAAY,KAAK,EAAE,MAAA,EAAQ,MAAM,CAAA;AAE7D,YAAA,IAAI,CAAC,eAAA,EAAiB;AACpB,cAAA,qBAAA,EAAsB;AAEtB,cAAA;AAAA;AAGF,YAAA,MAAM,KAAK,GAAA,CAAI,UAAA,CAAY,MAAA,CAAO,eAAA,CAAgB,CAAC,CAAC,CAAA;AAEpD,YAAA,SAAA,CAAU,UAAA,EAAY,MAAM,IAAI,CAAA;AAChC,YAAA,KAAA,GAAQ,IAAA;AAER,YAAA;AAAA;AAGF,UAAA,IAAA,GAAO,IAAA,CAAK,aAAA;AAAA;AAGd,QAAA,IAAI,CAAC,OAAO,qBAAA,EAAsB;AAAA;AACpC,KACF;AAAA,IACA,OAAA,EAAS;AAAA,MACP,QAAA,EAAU,IAAA;AAAA,MACV,aAAA,EAAe,MAAA,CAAO,SAAA,CAAU,gBAAA,EAAkB,eAAe,CAAA;AAAA,MACjE,OAAA,EAAS,IAAA;AAAA,MACT,aAAA,sBAAmB,GAAA;AAAI,KACzB;AAAA,IACA,MAAA,EAAQ;AAAA,MACN,cAAA,EAAgB,CAAC,EAAE,GAAA,EAAK,SAAQ,KAAM;AACpC,QAAA,IAAI,CAAC,GAAA,CAAI,UAAA,CAAY,iBAAA,CAAkB,OAAO,CAAA,EAAG;AAC/C,UAAA,OAAO,IAAA;AAAA;AAGT,QAAA,uBAAOjI,GAAAA,CAAC,eAAA,EAAA,EAAgB,OAAA,EAAkB,CAAA;AAAA;AAC5C;AACF,GACF;AACF,CAAA;ACxEO,IAAM,uBAA4D,CAAC;AAAA,EACxE,GAAA;AAAA,EACA;AACF,CAAA,KAAM;AACJ,EAAA,IAAI,CAAC,GAAA,CAAI,UAAA,CAAW,iBAAA,CAAkB,OAAO,CAAA,EAAG;AAEhD,EAAA,MAAM,iBAAiB,OAAA,CAAQ,UAAA;AAE/B,EAAA,IAAI,CAAC,gBAAgB,WAAA,EAAa;AAElC,EAAA,OAAO,SAAS,SAAA,CAAU,EAAE,QAAA,EAAS,EAAG;AACtC,IAAA,uBACEG,IAAAA,CAAO+H,OAAA,CAAA,QAAA,EAAN,EACE,QAAA,EAAA;AAAA,MAAA,QAAA;AAAA,sBACDlI,GAAAA,CAAC,mBAAA,EAAA,EAAoB,cAAA,EAAgC;AAAA,KAAA,EACvD,CAAA;AAAA,GAEJ;AACF,CAAA;AAEA,SAAS,mBAAA,CAAoB;AAAA,EAC3B;AACF,CAAA,EAEG;AACD,EAAA,MAAM,EAAE,MAAK,GAAI,cAAA;AACjB,EAAA,MAAM,WAAW,IAAA,KAAS,QAAA;AAC1B,EAAA,MAAM,WAAW,IAAA,KAAS,QAAA;AAE1B,EAAA,MAAM,kBAAA,GAAqBiD,eAAAA,CAAgB,gBAAA,EAAkB,UAAU,CAAA;AACvE,EAAA,MAAM,iBAAA,GAAoBA,eAAAA,CAAgB,gBAAA,EAAkB,SAAS,CAAA;AAErE,EAAA,MAAM,QAAA,GAAW,uBAAuB,cAAA,CAAe,EAAA;AACvD,EAAA,MAAM,OAAA,GAAU,sBAAsB,cAAA,CAAe,EAAA;AAErD,EAAA,MAAM,OAAA,GAAgBiF,eAAwB,IAAI,CAAA;AAElD,EAAA,uBACElI,GAAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,GAAA,EAAK,OAAA;AAAA,MACL,SAAA,EAAW,EAAA;AAAA,QACT,gIAAA;AAAA,QACA,QAAA,KACG,YAAY,OAAA,CAAA,IACb,qCAAA;AAAA,QACF,QAAA,IACE,6DAAA;AAAA,QACF,QAAA,KACG,YAAY,OAAA,CAAA,IACb;AAAA,OACJ;AAAA,MACA,KAAA,EAAO;AAAA,QACL,MAAA,EAAQ,GAAA;AAAA,QACR,MAAA,EAAQ;AAAA,OACV;AAAA,MACA,eAAA,EAAiB,KAAA;AAAA,MAEjB,QAAA,kBAAAA,GAAAA,CAACmI,kBAAAA,EAAA,EAAmB,WAAU,eAAA,EAAgB;AAAA;AAAA,GAChD;AAEJ;AClEO,IAAM,eAAe,MAAM;AAChC,EAAA,MAAM,IAAA,GAAOlF,eAAAA,CAAgB2B,YAAAA,EAAc,MAAM,CAAA;AACjD,EAAA,MAAM,IAAA,GAAO3B,eAAAA,CAAgB2B,YAAAA,EAAc,MAAM,CAAA;AAEjD,EAAA,MAAM,EAAE,QAAO,GAAI,IAAA;AAEnB,EAAA,MAAM,EAAE,GAAA,EAAI,GAAI5D,eAAAA,CAAgB4D,YAAY,CAAA;AAE5C,EAAA,MAAM,SAAA,GAAY,MAAA,KAAW,WAAA,IAAe,MAAA,KAAW,WAAA;AAEvD,EAAA,MAAM,OAAA,GAAU,aAAa,IAAA,KAAS,QAAA;AAEtC,EAAA,IAAI,CAAC,SAAS,OAAO,IAAA;AAErB,EAAA,uBACEzE,IAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,EAAA;AAAA,QACT;AAAA,OACF;AAAA,MAEA,QAAA,EAAA;AAAA,wBAAAH,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,yFAAA,EAA0F,CAAA;AAAA,wBAC1GA,GAAAA,CAAC,MAAA,EAAA,EAAM,QAAA,EAAA,MAAA,KAAW,WAAA,GAAc,gBAAgB,YAAA,EAAa,CAAA;AAAA,wBAC7DG,IAAAA;AAAA,UAACO,OAAAA;AAAA,UAAA;AAAA,YACC,IAAA,EAAK,IAAA;AAAA,YACL,OAAA,EAAQ,OAAA;AAAA,YACR,SAAA,EAAU,iCAAA;AAAA,YACV,OAAA,EAAS,MAAM,GAAA,CAAI,MAAA,CAAO,IAAA,EAAK;AAAA,YAE/B,QAAA,EAAA;AAAA,8BAAAV,GAAAA,CAAC,KAAA,EAAA,EAAM,SAAA,EAAU,SAAA,EAAU,CAAA;AAAA,cAAE,MAAA;AAAA,8BAE7BA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,qFAAoF,QAAA,EAAA,KAAA,EAEnG;AAAA;AAAA;AAAA;AACF;AAAA;AAAA,GACF;AAEJ,CAAA;AC9BA,SAAS,OAAA,CAAQ;AAAA,EACf,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAkD;AAChD,EAAA,uBACEA,GAAAA;AAAA,IAACoI,SAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,SAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,2FAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AA0BA,SAAS,YAAA,CAAa;AAAA,EACpB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAwD;AACtD,EAAA,uBACEjI,IAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,uBAAA;AAAA,MACV,SAAA,EAAU,2CAAA;AAAA,MAEV,QAAA,EAAA;AAAA,wBAAAH,GAAAA,CAACqI,UAAAA,EAAA,EAAW,SAAA,EAAU,4BAAA,EAA6B,CAAA;AAAA,wBACnDrI,GAAAA;AAAA,UAACoI,SAAA,CAAiB,KAAA;AAAA,UAAjB;AAAA,YACC,WAAA,EAAU,eAAA;AAAA,YACV,SAAA,EAAW,EAAA;AAAA,cACT,0JAAA;AAAA,cACA;AAAA,aACF;AAAA,YACC,GAAG;AAAA;AAAA;AACN;AAAA;AAAA,GACF;AAEJ;AAEA,SAAS,WAAA,CAAY;AAAA,EACnB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAuD;AACrD,EAAA,uBACEpI,GAAAA;AAAA,IAACoI,SAAA,CAAiB,IAAA;AAAA,IAAjB;AAAA,MACC,WAAA,EAAU,cAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,6DAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,YAAA,CAAa;AAAA,EACpB,GAAG;AACL,CAAA,EAAwD;AACtD,EAAA,uBACEpI,GAAAA;AAAA,IAACoI,SAAA,CAAiB,KAAA;AAAA,IAAjB;AAAA,MACC,WAAA,EAAU,eAAA;AAAA,MACV,SAAA,EAAU,0BAAA;AAAA,MACT,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,YAAA,CAAa;AAAA,EACpB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAwD;AACtD,EAAA,uBACEpI,GAAAA;AAAA,IAACoI,SAAA,CAAiB,KAAA;AAAA,IAAjB;AAAA,MACC,WAAA,EAAU,eAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,wNAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAeA,SAAS,WAAA,CAAY;AAAA,EACnB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAuD;AACrD,EAAA,uBACEpI,GAAAA;AAAA,IAACoI,SAAA,CAAiB,IAAA;AAAA,IAAjB;AAAA,MACC,WAAA,EAAU,cAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,qYAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AC/FO,IAAM,MAAA,GAAkB;AAAA,EAC7B,EAAE,KAAA,EAAO,yBAAA,EAA2B,KAAA,EAAO,yBAAA,EAA0B;AAAA,EACrE,EAAE,KAAA,EAAO,0BAAA,EAA4B,KAAA,EAAO,0BAAA,EAA2B;AAAA,EACvE,EAAE,KAAA,EAAO,wBAAA,EAA0B,KAAA,EAAO,wBAAA,EAAyB;AAAA,EACnE,EAAE,KAAA,EAAO,4BAAA,EAA8B,KAAA,EAAO,4BAAA,EAA6B;AAAA,EAC3E,EAAE,KAAA,EAAO,2BAAA,EAA6B,KAAA,EAAO,2BAAA;AAC/C,CAAA;AAEA,IAAM,eAAA,GAAwBE,OAAA,CAAA,aAAA;AAAA,EAC5B;AACF,CAAA;AAEO,SAAS,gBAAA,CAAiB,EAAE,QAAA,EAAS,EAAkC;AAC5E,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAUA,OAAA,CAAA,QAAA,CAAS;AAAA,IACrC,SAAA,EAAW,EAAA;AAAA,IACX,WAAA,EAAa;AAAA,GACd,CAAA;AACD,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,IAAUA,OAAA,CAAA,QAAA,CAAgB,MAAA,CAAO,CAAC,CAAC,CAAA;AAEzD,EAAA,MAAM,MAAA,GAAS,CAAC,OAAA,EAAiB,GAAA,KAAgB;AAC/C,IAAA,OAAA,CAAQ,CAAC,UAAU,EAAE,GAAG,MAAM,CAAC,OAAO,GAAG,GAAA,EAAI,CAAE,CAAA;AAAA,GACjD;AAEA,EAAA,uBACEtI,GAAAA,CAAC,eAAA,CAAgB,QAAA,EAAhB,EAAyB,KAAA,EAAO,EAAE,IAAA,EAAM,KAAA,EAAO,MAAA,EAAQ,QAAA,EAAS,EAC9D,QAAA,EACH,CAAA;AAEJ;AAEO,SAAS,WAAA,GAAc;AAC5B,EAAA,MAAM,OAAA,GAAgBsI,mBAAW,eAAe,CAAA;AAEhD,EAAA,OACE,OAAA,IAAW;AAAA,IACT,IAAA,EAAM;AAAA,MACJ,SAAA,EAAW,EAAA;AAAA,MACX,WAAA,EAAa;AAAA,KACf;AAAA,IACA,KAAA,EAAO,OAAO,CAAC,CAAA;AAAA,IACf,QAAQ,MAAM;AAAA,KAAC;AAAA,IACf,UAAU,MAAM;AAAA;AAAC,GACnB;AAEJ;;;ACxFO,IAAM,UAAU,MAAM;AAC3B,EAAA,MAAM,EAAE,IAAA,EAAM,KAAA,EAAM,GAAI,WAAA,EAAY;AAGpC,EAAA,MAAM,kBAAA,GAA2BC,eAA+B,IAAI,CAAA;AACpE,EAAA,MAAM,mBAAmB,MAAM;AAC7B,IAAA,IAAI,mBAAmB,OAAA,EAAS;AAC9B,MAAA,kBAAA,CAAmB,QAAQ,KAAA,EAAM;AACjC,MAAA,kBAAA,CAAmB,OAAA,GAAU,IAAA;AAAA;AAC/B,GACF;AAEA,EAAA,MAAM,OAAOC,SAAA,CAAY;AAAA,IACvB,EAAA,EAAI,QAAA;AAAA,IACJ,GAAA,EAAK,iBAAA;AAAA,IACL,IAAA,EAAM;AAAA;AAAA,MAEJ,QAAQ,IAAA,CAAK,SAAA;AAAA,MACb,OAAO,KAAA,CAAM;AAAA,KACf;AAAA;AAAA,IAEA,KAAA,EAAO,OAAO,KAAA,EAAO,IAAA,KAAS;AAC5B,MAAA,MAAM,GAAA,GAAM,MAAM,KAAA,CAAM,KAAA,EAAO,IAAI,CAAA;AAEnC,MAAA,IAAI,CAAC,IAAI,EAAA,EAAI;AACX,QAAA,IAAI,MAAA,GAAoC,IAAA;AAExC,QAAA,IAAI;AACF,UAAA,MAAM,UAAU,IAAA,CAAK,KAAA,CAAM,IAAA,EAAM,IAAc,EAAE,QAAA,CAAS,EAAA;AAAA,YACxD,CAAA;AAAA,WACF,CAAE,OAAA;AAEF,UAAA,IAAI,OAAA,CAAQ,QAAA,CAAS,4BAA4B,CAAA,EAAG;AAClD,YAAA,MAAA,GAAS,UAAA;AAAA,WACX,MAAA,IAAW,OAAA,CAAQ,QAAA,CAAS,uBAAuB,CAAA,EAAG;AACpD,YAAA,MAAA,GAAS,KAAA;AAAA;AACX,SACF,CAAA,MAAQ;AACN,UAAA,MAAA,GAAS,IAAA;AAAA;AAGX,QAAA,kBAAA,CAAmB,OAAA,GAAU,IAAI,eAAA,EAAgB;AACjD,QAAA,MAAM,IAAI,OAAA,CAAQ,CAAC,YAAY,UAAA,CAAW,OAAA,EAAS,GAAG,CAAC,CAAA;AAEvD,QAAA,MAAM,SAAS,cAAA,CAAe;AAAA,UAC5B,MAAA;AAAA,UACA,MAAA,EAAQ,mBAAmB,OAAA,CAAQ;AAAA,SACpC,CAAA;AAED,QAAA,OAAO,IAAI,SAAS,MAAA,EAAQ;AAAA,UAC1B,OAAA,EAAS;AAAA,YACP,UAAA,EAAY,YAAA;AAAA,YACZ,cAAA,EAAgB;AAAA;AAClB,SACD,CAAA;AAAA;AAGH,MAAA,OAAO,GAAA;AAAA;AACT,GACD,CAAA;AAED,EAAA,OAAO,EAAE,GAAG,IAAA,EAAM,gBAAA,EAAiB;AACrC,CAAA;AAGA,IAAM,iBAAiB,CAAC;AAAA,EACtB,UAAA,GAAa,EAAA;AAAA,EACb,MAAA,GAAS,IAAA;AAAA,EACT,MAAA;AAAA,EACA,cAAA,GAAiB;AACnB,CAAA,GAKI,EAAC,KAAM;AACT,EAAA,MAAM,UAAU,MAAM;AACpB,IAAA,IAAI,WAAW,UAAA,EAAY;AACzB,MAAA,OAAO,cAAA;AAAA;AAGT,IAAA,IAAI,WAAW,KAAA,EAAO;AACpB,MAAA,OAAO,SAAA;AAAA;AAGT,IAAA,OAAO;AAAA,MACL,MAAM,IAAA,CAAK,EAAE,MAAA,EAAQ,UAAA,IAAc,OAAO;AAAA,QACxC,KAAA,EAAOC,MAAM,MAAA,CAAO,GAAA,CAAI,EAAE,GAAA,EAAK,GAAA,EAAK,GAAA,EAAK,EAAA,EAAI,CAAA;AAAA,QAC7C,KAAA,EAAOA,KAAAA,CAAM,KAAA,CAAM,KAAA,CAAM,EAAE,KAAK,CAAA,EAAG,GAAA,EAAK,CAAA,EAAG,CAAA,GAAI;AAAA,OACjD,CAAE,CAAA;AAAA,MAEF,MAAM,IAAA,CAAK,EAAE,QAAQ,UAAA,GAAa,CAAA,IAAK,OAAO;AAAA,QAC5C,KAAA,EAAOA,MAAM,MAAA,CAAO,GAAA,CAAI,EAAE,GAAA,EAAK,GAAA,EAAK,GAAA,EAAK,EAAA,EAAI,CAAA;AAAA,QAC7C,KAAA,EAAOA,KAAAA,CAAM,KAAA,CAAM,KAAA,CAAM,EAAE,KAAK,CAAA,EAAG,GAAA,EAAK,CAAA,EAAG,CAAA,GAAI;AAAA,OACjD,CAAE,CAAA;AAAA,MAEF,MAAM,IAAA,CAAK,EAAE,QAAQ,UAAA,GAAa,CAAA,IAAK,OAAO;AAAA,QAC5C,KAAA,EAAOA,MAAM,MAAA,CAAO,GAAA,CAAI,EAAE,GAAA,EAAK,GAAA,EAAK,GAAA,EAAK,EAAA,EAAI,CAAA;AAAA,QAC7C,KAAA,EAAOA,KAAAA,CAAM,KAAA,CAAM,KAAA,CAAM,EAAE,KAAK,CAAA,EAAG,GAAA,EAAK,CAAA,EAAG,CAAA,GAAI;AAAA,OACjD,CAAE;AAAA,KACJ;AAAA,GACF,GAAG;AAEH,EAAA,MAAM,OAAA,GAAU,IAAI,WAAA,EAAY;AAEhC,EAAA,OAAO,IAAI,cAAA,CAAe;AAAA,IACxB,MAAM,MAAM,UAAA,EAAY;AACtB,MAAA,IAAI,QAAQ,OAAA,EAAS;AACnB,QAAA,UAAA,CAAW,KAAA,CAAM,IAAI,KAAA,CAAM,sBAAsB,CAAC,CAAA;AAClD,QAAA;AAAA;AAGF,MAAA,MAAM,eAAe,MAAM;AACzB,QAAA,UAAA,CAAW,KAAA,CAAM,IAAI,KAAA,CAAM,gBAAgB,CAAC,CAAA;AAAA,OAC9C;AAEA,MAAA,MAAA,EAAQ,gBAAA,CAAiB,SAAS,YAAY,CAAA;AAE9C,MAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,MAAA,CAAO,QAAQ,CAAA,EAAA,EAAK;AACtC,QAAA,MAAM,KAAA,GAAQ,OAAO,CAAC,CAAA;AAGtB,QAAA,KAAA,MAAW,SAAS,KAAA,EAAO;AACzB,UAAA,MAAM,IAAI,QAAQ,CAAC,OAAA,KAAY,WAAW,OAAA,EAAS,KAAA,CAAM,KAAK,CAAC,CAAA;AAE/D,UAAA,IAAI,mBAAmB,MAAA,EAAQ;AAC7B,YAAA,UAAA,CAAW,OAAA,CAAQ,OAAA,CAAQ,MAAA,CAAO,KAAA,CAAM,KAAK,CAAC,CAAA;AAAA,WAChD,MAAO;AACL,YAAA,UAAA,CAAW,OAAA;AAAA,cACT,QAAQ,MAAA,CAAO,CAAA,EAAA,EAAK,KAAK,SAAA,CAAU,KAAA,CAAM,KAAK,CAAC;AAAA,CAAI;AAAA,aACrD;AAAA;AACF;AAIF,QAAA,IAAI,CAAA,GAAI,MAAA,CAAO,MAAA,GAAS,CAAA,EAAG;AACzB,UAAA,IAAI,mBAAmB,MAAA,EAAQ;AAC7B,YAAA,UAAA,CAAW,OAAA,CAAQ,OAAA,CAAQ,MAAA,CAAO,MAAM,CAAC,CAAA;AAAA,WAC3C,MAAO;AACL,YAAA,UAAA,CAAW,QAAQ,OAAA,CAAQ,MAAA,CAAO,KAAK,IAAA,CAAK,SAAA,CAAU,MAAM,CAAC;AAAA,CAAI,CAAC,CAAA;AAAA;AACpE;AACF;AAGF,MAAA,IAAI,mBAAmB,MAAA,EAAQ;AAC7B,QAAA,UAAA,CAAW,OAAA;AAAA,UACT,yEAAyE,MAAA,CAAO,MAAA;AAAA,YAC9E,CAAC,GAAA,EAAK,KAAA,KAAU,GAAA,GAAM,KAAA,CAAM,MAAA;AAAA,YAC5B;AAAA,WACD,CAAA;AAAA;AAAA,SACH;AAAA;AAGF,MAAA,UAAA,CAAW,KAAA,EAAM;AAAA;AACnB,GACD,CAAA;AACH,CAAA;AAEA,IAAM,KAAA,GAAQA,MAAM,MAAA,CAAO,GAAA,CAAI,EAAE,GAAA,EAAK,EAAA,EAAI,GAAA,EAAK,CAAA,EAAG,CAAA;AAElD,IAAM,cAAA,GAAiB;AAAA,EACrB;AAAA,IACE,EAAE,KAAA,EAAO,KAAA,EAAO,YAAA,EAAa;AAAA,IAC7B,EAAE,KAAA,EAAO,KAAA,EAAO,UAAA,EAAW;AAAA,IAC3B,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,UAAA,EAAW;AAAA,IAC3B,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,gBAAA,EAAiB;AAAA,IACjC,EAAE,KAAA,EAAO,KAAA,EAAO,eAAA,EAAgB;AAAA,IAChC;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA,EAAE,KAAA,EAAO,KAAA,EAAO,GAAA,EAAI;AAAA,IACpB,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB,EAAE,KAAA,EAAO,KAAA,EAAO,QAAA,EAAS;AAAA,IACzB,EAAE,KAAA,EAAO,KAAA,EAAO,SAAA,EAAU;AAAA,IAC1B,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,WAAA,EAAY;AAAA,IAC5B,EAAE,KAAA,EAAO,KAAA,EAAO,WAAA,EAAY;AAAA,IAC5B,EAAE,KAAA,EAAO,KAAA,EAAO,SAAA,EAAU;AAAA,IAC1B,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA,EAAE,KAAA,EAAO,KAAA,EAAO,GAAA,EAAI;AAAA,IACpB,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB,EAAE,KAAA,EAAO,KAAA,EAAO,WAAA,EAAY;AAAA,IAC5B,EAAE,KAAA,EAAO,KAAA,EAAO,UAAA,EAAW;AAAA,IAC3B,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB,EAAE,KAAA,EAAO,KAAA,EAAO,WAAA,EAAY;AAAA,IAC5B,EAAE,KAAA,EAAO,KAAA,EAAO,UAAA,EAAW;AAAA,IAC3B,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,QAAA,EAAS;AAAA,IACzB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,WAAA,EAAY;AAAA,IAC5B,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,SAAA,EAAU;AAAA,IAC1B,EAAE,KAAA,EAAO,KAAA,EAAO,QAAA,EAAS;AAAA,IACzB,EAAE,KAAA,EAAO,KAAA,EAAO,cAAA,EAAe;AAAA,IAC/B,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAOA,KAAAA,CAAM,MAAA,CAAO,GAAA,CAAI,EAAE,GAAA,EAAK,GAAA,EAAK,GAAA,EAAK,EAAA,EAAI,CAAA,EAAG,OAAO,cAAA,EAAe;AAAA,IACxE,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA,EAAE,KAAA,EAAOA,KAAAA,CAAM,MAAA,CAAO,GAAA,CAAI,EAAE,GAAA,EAAK,GAAA,EAAK,GAAA,EAAK,EAAA,EAAI,CAAA,EAAG,OAAO,MAAA,EAAO;AAAA,IAChE,EAAE,KAAA,EAAOA,KAAAA,CAAM,MAAA,CAAO,GAAA,CAAI,EAAE,GAAA,EAAK,GAAA,EAAK,GAAA,EAAK,EAAA,EAAI,CAAA,EAAG,OAAO,WAAA,EAAY;AAAA,IACrE,EAAE,KAAA,EAAO,KAAA,EAAO,YAAA,EAAa;AAAA,IAC7B,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IAEA,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,SAAA,EAAU;AAAA,IAC1B,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,YAAA,EAAa;AAAA,IAC7B,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,aAAA,EAAc;AAAA,IAC9B,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,aAAA,EAAc;AAAA,IAC9B,EAAE,KAAA,EAAO,KAAA,EAAO,WAAA,EAAY;AAAA,IAC5B,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IAEvB,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,UAAA,EAAW;AAAA,IAC3B,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB,EAAE,KAAA,EAAO,KAAA,EAAO,UAAA,EAAW;AAAA,IAC3B,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,UAAA,EAAW;AAAA,IAC3B,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,gBAAA,EAAiB;AAAA,IACjC,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,YAAA,EAAa;AAAA,IAC7B,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,YAAA,EAAa;AAAA,IAC7B,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB,EAAE,KAAA,EAAO,KAAA,EAAO,UAAA,EAAW;AAAA,IAC3B,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB,EAAE,KAAA,EAAO,KAAA,EAAO,UAAA,EAAW;AAAA,IAC3B,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,QAAA,EAAS;AAAA,IACzB;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EACE;AAAA,KACJ;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,aAAA,EAAc;AAAA,IAC9B,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,OAAA,EAAQ;AAAA,IACxB,EAAE,KAAA,EAAO,KAAA,EAAO,SAAA,EAAU;AAAA,IAC1B,EAAE,KAAA,EAAO,KAAA,EAAO,gBAAA,EAAiB;AAAA,IACjC,EAAE,KAAA,EAAO,KAAA,EAAO,YAAA,EAAa;AAAA,IAC7B,EAAE,KAAA,EAAO,KAAA,EAAO,SAAA,EAAU;AAAA,IAC1B,EAAE,KAAA,EAAO,KAAA,EAAO,aAAA,EAAc;AAAA,IAC9B,EAAE,KAAA,EAAO,KAAA,EAAO,UAAA,EAAW;AAAA,IAC3B,EAAE,KAAA,EAAO,KAAA,EAAO,SAAA,EAAU;AAAA,IAC1B,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,SAAA,EAAU;AAAA,IAC1B,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,SAAA,EAAU;AAAA,IAC1B,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB,EAAE,KAAA,EAAO,KAAA,EAAO,UAAA,EAAW;AAAA,IAC3B,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA,EAAK;AAAA,IACrB,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,MAAA,EAAO;AAAA,IACvB,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAM;AAAA,IACtB,EAAE,KAAA,EAAO,KAAA,EAAO,UAAA,EAAW;AAAA,IAC3B,EAAE,KAAA,EAAO,KAAA,EAAO,IAAA;AAAK;AAEzB,CAAA;AAEA,IAAM,SAAA,GAAY;AAAA,EAChB;AAAA,IACE;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EACE;AAAA,KACJ;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAiCA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EACE;AAAA,KACJ;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KAAA;AAAA,MACA,KAAA,EAAO;AAAA,KACT;AAAA,IACA;AAAA,MACE,KA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","file":"index.mjs","sourcesContent":["\n'use client';\n\nimport React, { createContext, useContext, useState } from 'react';\n\ninterface AISidebarContextType {\n  isOpen: boolean;\n  closeSidebar: () => void;\n  openSidebar: () => void;\n  toggleSidebar: () => void;\n}\n\nconst AISidebarContext = createContext<AISidebarContextType | undefined>(undefined);\n\nexport function AISidebarProvider({ children }: { children: React.ReactNode }) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const openSidebar = () => setIsOpen(true);\n  const closeSidebar = () => setIsOpen(false);\n  const toggleSidebar = () => setIsOpen(!isOpen);\n\n  return (\n    <AISidebarContext.Provider\n      value={{\n        closeSidebar,\n        isOpen,\n        openSidebar,\n        toggleSidebar,\n      }}\n    >\n      {children}\n    </AISidebarContext.Provider>\n  );\n}\n\nexport function useAISidebar() {\n  const context = useContext(AISidebarContext);\n  if (context === undefined) {\n    throw new Error('useAISidebar must be used within an AISidebarProvider');\n  }\n  return context;\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { CopilotPlugin } from '@udecode/plate-ai/react';\nimport { useElement, usePluginOption } from '@udecode/plate/react';\n\nexport const GhostText = () => {\n  const element = useElement();\n\n  const isSuggested = usePluginOption(\n    CopilotPlugin,\n    'isSuggested',\n    element.id as string\n  );\n\n  if (!isSuggested) return null;\n\n  return <GhostTextContent />;\n};\n\nexport function GhostTextContent() {\n  const suggestionText = usePluginOption(CopilotPlugin, 'suggestionText');\n\n  return (\n    <span\n      className=\"pointer-events-none text-muted-foreground/70 max-sm:hidden\"\n      contentEditable={false}\n    >\n      {suggestionText && suggestionText}\n    </span>\n  );\n}\n","'use client';\n\nimport {\n  MarkdownPlugin,\n  remarkMdx,\n  remarkMention,\n} from '@udecode/plate-markdown';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport remarkGfm from 'remark-gfm';\nimport remarkMath from 'remark-math';\n\nexport const markdownPlugin = MarkdownPlugin.configure({\n  options: {\n    disallowedNodes: [SuggestionPlugin.key],\n    remarkPlugins: [remarkMath, remarkGfm, remarkMdx, remarkMention],\n  },\n});\n","'use client';\n\nimport type { TElement } from '@udecode/plate';\n\nimport { faker } from '@faker-js/faker';\nimport { CopilotPlugin } from '@udecode/plate-ai/react';\nimport { serializeMd, stripMarkdown } from '@udecode/plate-markdown';\n\nimport { GhostText } from '@/components/ui/ghost-text';\n\nimport { markdownPlugin } from './markdown-plugin';\n\nexport const copilotPlugins = [\n  markdownPlugin,\n  CopilotPlugin.configure(({ api }) => ({\n    options: {\n      completeOptions: {\n        api: '/api/ai/copilot',\n        body: {\n          system: `You are an advanced AI writing assistant, similar to VSCode Copilot but for general text. Your task is to predict and generate the next part of the text based on the given context.\n  \n  Rules:\n  - Continue the text naturally up to the next punctuation mark (., ,, ;, :, ?, or !).\n  - Maintain style and tone. Don't repeat given text.\n  - For unclear context, provide the most likely continuation.\n  - Handle code snippets, lists, or structured text if needed.\n  - Don't include \"\"\" in your response.\n  - CRITICAL: Always end with a punctuation mark.\n  - CRITICAL: Avoid starting a new block. Do not use block formatting like >, #, 1., 2., -, etc. The suggestion should continue in the same block as the context.\n  - If no context is provided or you can't generate a continuation, return \"0\" without explanation.`,\n        },\n        onError: () => {\n          // Mock the API response. Remove it when you implement the route /api/ai/copilot\n          api.copilot.setBlockSuggestion({\n            text: stripMarkdown(faker.lorem.sentence()),\n          });\n        },\n        onFinish: (_, completion) => {\n          if (completion === '0') return;\n\n          api.copilot.setBlockSuggestion({\n            text: stripMarkdown(completion),\n          });\n        },\n      },\n      debounceDelay: 500,\n      renderGhostText: GhostText,\n      getPrompt: ({ editor }) => {\n        const contextEntry = editor.api.block({ highest: true });\n\n        if (!contextEntry) return '';\n\n        const prompt = serializeMd(editor, {\n          value: [contextEntry[0] as TElement],\n        });\n\n        return `Continue the text up to the next punctuation mark:\n  \"\"\"\n  ${prompt}\n  \"\"\"`;\n      },\n    },\n  })),\n] as const;\n","import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n","\"use client\"\n\nimport * as React from \"react\"\n\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      data-inset={inset}\n      data-slot=\"dropdown-menu-item\"\n      data-variant={variant}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  checked,\n  children,\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      data-slot=\"dropdown-menu-checkbox-item\"\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      data-slot=\"dropdown-menu-radio-item\"\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      data-inset={inset}\n      data-slot=\"dropdown-menu-label\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      data-slot=\"dropdown-menu-separator\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      data-slot=\"dropdown-menu-shortcut\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  children,\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className\n      )}\n      data-inset={inset}\n      data-slot=\"dropdown-menu-sub-trigger\"\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      data-slot=\"dropdown-menu-sub-content\"\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator-root\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  )\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  )\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  )\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","'use client';\n\nimport * as React from 'react';\n\nimport * as ToolbarPrimitive from '@radix-ui/react-toolbar';\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip';\nimport { type VariantProps, cva } from 'class-variance-authority';\nimport { ChevronDown } from 'lucide-react';\n\nimport {\n  DropdownMenuLabel,\n  DropdownMenuRadioGroup,\n  DropdownMenuSeparator,\n} from '@/components/ui/dropdown-menu';\nimport { Separator } from '@/components/ui/separator';\nimport { Tooltip, TooltipTrigger } from '@/components/ui/tooltip';\nimport { cn } from '@/lib/utils';\n\nexport function Toolbar({\n  className,\n  ...props\n}: React.ComponentProps<typeof ToolbarPrimitive.Root>) {\n  return (\n    <ToolbarPrimitive.Root\n      className={cn('relative flex items-center select-none', className)}\n      {...props}\n    />\n  );\n}\n\nexport function ToolbarToggleGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof ToolbarPrimitive.ToolbarToggleGroup>) {\n  return (\n    <ToolbarPrimitive.ToolbarToggleGroup\n      className={cn('flex items-center', className)}\n      {...props}\n    />\n  );\n}\n\nexport function ToolbarLink({\n  className,\n  ...props\n}: React.ComponentProps<typeof ToolbarPrimitive.Link>) {\n  return (\n    <ToolbarPrimitive.Link\n      className={cn('font-medium underline underline-offset-4', className)}\n      {...props}\n    />\n  );\n}\n\nexport function ToolbarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof ToolbarPrimitive.Separator>) {\n  return (\n    <ToolbarPrimitive.Separator\n      className={cn('mx-2 my-1 w-px shrink-0 bg-border', className)}\n      {...props}\n    />\n  );\n}\n\n// From toggleVariants\nconst toolbarButtonVariants = cva(\n  \"inline-flex cursor-pointer items-center justify-center gap-2 rounded-md text-sm font-medium whitespace-nowrap transition-[color,box-shadow] outline-none hover:bg-muted hover:text-muted-foreground focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-checked:bg-accent aria-checked:text-accent-foreground aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n  {\n    defaultVariants: {\n      size: 'default',\n      variant: 'default',\n    },\n    variants: {\n      size: {\n        default: 'h-9 min-w-9 px-2',\n        lg: 'h-10 min-w-10 px-2.5',\n        sm: 'h-8 min-w-8 px-1.5',\n      },\n      variant: {\n        default: 'bg-transparent',\n        outline:\n          'border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground',\n      },\n    },\n  }\n);\n\nconst dropdownArrowVariants = cva(\n  cn(\n    'inline-flex items-center justify-center rounded-r-md text-sm font-medium text-foreground transition-colors disabled:pointer-events-none disabled:opacity-50'\n  ),\n  {\n    defaultVariants: {\n      size: 'sm',\n      variant: 'default',\n    },\n    variants: {\n      size: {\n        default: 'h-9 w-6',\n        lg: 'h-10 w-8',\n        sm: 'h-8 w-4',\n      },\n      variant: {\n        default:\n          'bg-transparent hover:bg-muted hover:text-muted-foreground aria-checked:bg-accent aria-checked:text-accent-foreground',\n        outline:\n          'border border-l-0 border-input bg-transparent hover:bg-accent hover:text-accent-foreground',\n      },\n    },\n  }\n);\n\ntype ToolbarButtonProps = {\n  isDropdown?: boolean;\n  pressed?: boolean;\n} & Omit<\n  React.ComponentPropsWithoutRef<typeof ToolbarToggleItem>,\n  'asChild' | 'value'\n> &\n  VariantProps<typeof toolbarButtonVariants>;\n\nexport const ToolbarButton = withTooltip(function ToolbarButton({\n  children,\n  className,\n  isDropdown,\n  pressed,\n  size = 'sm',\n  variant,\n  ...props\n}: ToolbarButtonProps) {\n  return typeof pressed === 'boolean' ? (\n    <ToolbarToggleGroup disabled={props.disabled} value=\"single\" type=\"single\">\n      <ToolbarToggleItem\n        className={cn(\n          toolbarButtonVariants({\n            size,\n            variant,\n          }),\n          isDropdown && 'justify-between gap-1 pr-1',\n          className\n        )}\n        value={pressed ? 'single' : ''}\n        {...props}\n      >\n        {isDropdown ? (\n          <>\n            <div className=\"flex flex-1 items-center gap-2 whitespace-nowrap\">\n              {children}\n            </div>\n            <div>\n              <ChevronDown\n                className=\"size-3.5 text-muted-foreground\"\n                data-icon\n              />\n            </div>\n          </>\n        ) : (\n          children\n        )}\n      </ToolbarToggleItem>\n    </ToolbarToggleGroup>\n  ) : (\n    <ToolbarPrimitive.Button\n      className={cn(\n        toolbarButtonVariants({\n          size,\n          variant,\n        }),\n        isDropdown && 'pr-1',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToolbarPrimitive.Button>\n  );\n});\n\nexport function ToolbarSplitButton({\n  className,\n  ...props\n}: React.ComponentPropsWithoutRef<typeof ToolbarButton>) {\n  return (\n    <ToolbarButton\n      className={cn('group flex gap-0 px-0 hover:bg-transparent', className)}\n      {...props}\n    />\n  );\n}\n\ntype ToolbarSplitButtonPrimaryProps = Omit<\n  React.ComponentPropsWithoutRef<typeof ToolbarToggleItem>,\n  'value'\n> &\n  VariantProps<typeof toolbarButtonVariants>;\n\nexport function ToolbarSplitButtonPrimary({\n  children,\n  className,\n  size = 'sm',\n  variant,\n  ...props\n}: ToolbarSplitButtonPrimaryProps) {\n  return (\n    <span\n      className={cn(\n        toolbarButtonVariants({\n          size,\n          variant,\n        }),\n        'rounded-r-none',\n        'group-data-[pressed=true]:bg-accent group-data-[pressed=true]:text-accent-foreground',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </span>\n  );\n}\n\nexport function ToolbarSplitButtonSecondary({\n  className,\n  size,\n  variant,\n  ...props\n}: React.ComponentPropsWithoutRef<'span'> &\n  VariantProps<typeof dropdownArrowVariants>) {\n  return (\n    <span\n      className={cn(\n        dropdownArrowVariants({\n          size,\n          variant,\n        }),\n        'group-data-[pressed=true]:bg-accent group-data-[pressed=true]:text-accent-foreground',\n        className\n      )}\n      onClick={(e) => e.stopPropagation()}\n      role=\"button\"\n      {...props}\n    >\n      <ChevronDown className=\"size-3.5 text-muted-foreground\" data-icon />\n    </span>\n  );\n}\n\nexport function ToolbarToggleItem({\n  className,\n  size = 'sm',\n  variant,\n  ...props\n}: React.ComponentProps<typeof ToolbarPrimitive.ToggleItem> &\n  VariantProps<typeof toolbarButtonVariants>) {\n  return (\n    <ToolbarPrimitive.ToggleItem\n      className={cn(toolbarButtonVariants({ size, variant }), className)}\n      {...props}\n    />\n  );\n}\n\nexport function ToolbarGroup({\n  children,\n  className,\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      className={cn(\n        'group/toolbar-group',\n        'relative hidden has-[button]:flex',\n        className\n      )}\n    >\n      <div className=\"flex items-center\">{children}</div>\n\n      <div className=\"mx-1.5 py-0.5 group-last/toolbar-group:hidden!\">\n        <Separator orientation=\"vertical\" />\n      </div>\n    </div>\n  );\n}\n\ntype TooltipProps<T extends React.ElementType> = {\n  tooltip?: React.ReactNode;\n  tooltipContentProps?: Omit<\n    React.ComponentPropsWithoutRef<typeof TooltipContent>,\n    'children'\n  >;\n  tooltipProps?: Omit<\n    React.ComponentPropsWithoutRef<typeof Tooltip>,\n    'children'\n  >;\n  tooltipTriggerProps?: React.ComponentPropsWithoutRef<typeof TooltipTrigger>;\n} & React.ComponentProps<T>;\n\nfunction withTooltip<T extends React.ElementType>(Component: T) {\n  return function ExtendComponent({\n    tooltip,\n    tooltipContentProps,\n    tooltipProps,\n    tooltipTriggerProps,\n    ...props\n  }: TooltipProps<T>) {\n    const [mounted, setMounted] = React.useState(false);\n\n    React.useEffect(() => {\n      setMounted(true);\n    }, []);\n\n    const component = <Component {...(props as React.ComponentProps<T>)} />;\n\n    if (tooltip && mounted) {\n      return (\n        <Tooltip {...tooltipProps}>\n          <TooltipTrigger asChild {...tooltipTriggerProps}>\n            {component}\n          </TooltipTrigger>\n\n          <TooltipContent {...tooltipContentProps}>{tooltip}</TooltipContent>\n        </Tooltip>\n      );\n    }\n\n    return component;\n  };\n}\n\nfunction TooltipContent({\n  children,\n  className,\n  // CHANGE\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        className={cn(\n          'z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md bg-primary px-3 py-1.5 text-xs text-balance text-primary-foreground',\n          className\n        )}\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        {...props}\n      >\n        {children}\n        {/* CHANGE */}\n        {/* <TooltipPrimitive.Arrow className=\"z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px] bg-primary fill-primary\" /> */}\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  );\n}\n\nexport function ToolbarMenuGroup({\n  children,\n  className,\n  label,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuRadioGroup> & { label?: string }) {\n  return (\n    <>\n      <DropdownMenuSeparator\n        className={cn(\n          'hidden',\n          'mb-0 shrink-0 peer-has-[[role=menuitem]]/menu-group:block peer-has-[[role=menuitemradio]]/menu-group:block peer-has-[[role=option]]/menu-group:block'\n        )}\n      />\n\n      <DropdownMenuRadioGroup\n        {...props}\n        className={cn(\n          'hidden',\n          'peer/menu-group group/menu-group my-1.5 has-[[role=menuitem]]:block has-[[role=menuitemradio]]:block has-[[role=option]]:block',\n          className\n        )}\n      >\n        {label && (\n          <DropdownMenuLabel className=\"text-xs font-semibold text-muted-foreground select-none\">\n            {label}\n          </DropdownMenuLabel>\n        )}\n        {children}\n      </DropdownMenuRadioGroup>\n    </>\n  );\n}\n","'use client';\n\nimport { cn } from '@/lib/utils';\n\nimport { Toolbar } from './toolbar';\n\nexport function FixedToolbar(props: React.ComponentProps<typeof Toolbar>) {\n  return (\n    <Toolbar\n      {...props}\n      className={cn(\n        'scrollbar-hide w-full justify-between overflow-x-auto border-b border-b-border bg-background/95 px-1 py-0 backdrop-blur-sm supports-backdrop-blur:bg-background/60 relative z-40',\n        props.className\n      )}\n    />\n  );\n}\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n","\n'use client';\n\nimport * as React from 'react';\n\nimport { AIChatPlugin } from '@udecode/plate-ai/react';\nimport { useEditorPlugin } from '@udecode/plate/react';\nimport { Wand2 } from 'lucide-react';\n\nimport { cn } from '@/lib/utils';\n\nimport { Button } from './button';\n\nexport function AIToolbarButton(\n  props: React.ComponentProps<typeof Button>\n) {\n  const { api } = useEditorPlugin(AIChatPlugin);\n\n  return (\n    <Button\n      {...props}\n      size=\"sm\"\n      variant=\"ghost\"\n      className={cn(\n        'bg-accent text-accent-foreground relative flex cursor-default items-center rounded-md px-2 py-1 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*=\"size-\"])]:size-4 mt-1',\n        props.className\n      )}\n      onClick={() => {\n        api.aiChat.show();\n      }}\n      onMouseDown={(e) => {\n        e.preventDefault();\n      }}\n    >\n      <Wand2 className=\"h-4 w-4\" />\n    </Button>\n  );\n}\n","'use client';\n\nimport type { PlateEditor } from '@udecode/plate/react';\n\nimport {\n  type NodeEntry,\n  type Path,\n  type TElement,\n  PathApi,\n} from '@udecode/plate';\nimport { insertCallout } from '@udecode/plate-callout';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport { insertCodeBlock } from '@udecode/plate-code-block';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { insertDate } from '@udecode/plate-date';\nimport { DatePlugin } from '@udecode/plate-date/react';\nimport { insertToc } from '@udecode/plate-heading';\nimport { TocPlugin } from '@udecode/plate-heading/react';\nimport { INDENT_LIST_KEYS, ListStyleType } from '@udecode/plate-indent-list';\nimport { IndentListPlugin } from '@udecode/plate-indent-list/react';\nimport { insertColumnGroup, toggleColumnGroup } from '@udecode/plate-layout';\nimport { ColumnItemPlugin, ColumnPlugin } from '@udecode/plate-layout/react';\nimport { LinkPlugin, triggerFloatingLink } from '@udecode/plate-link/react';\nimport { insertEquation, insertInlineEquation } from '@udecode/plate-math';\nimport {\n  EquationPlugin,\n  InlineEquationPlugin,\n} from '@udecode/plate-math/react';\nimport {\n  insertAudioPlaceholder,\n  insertFilePlaceholder,\n  insertMedia,\n  insertVideoPlaceholder,\n} from '@udecode/plate-media';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  MediaEmbedPlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport {\n  TableCellPlugin,\n  TablePlugin,\n  TableRowPlugin,\n} from '@udecode/plate-table/react';\n\nexport const STRUCTURAL_TYPES: string[] = [\n  ColumnPlugin.key,\n  ColumnItemPlugin.key,\n  TablePlugin.key,\n  TableRowPlugin.key,\n  TableCellPlugin.key,\n];\n\nconst ACTION_THREE_COLUMNS = 'action_three_columns';\n\nconst insertList = (editor: PlateEditor, type: string) => {\n  editor.tf.insertNodes(\n    editor.api.create.block({\n      indent: 1,\n      listStyleType: type,\n    }),\n    { select: true }\n  );\n};\n\nconst insertBlockMap: Record<\n  string,\n  (editor: PlateEditor, type: string) => void\n> = {\n  [INDENT_LIST_KEYS.todo]: insertList,\n  [ListStyleType.Decimal]: insertList,\n  [ListStyleType.Disc]: insertList,\n  [ACTION_THREE_COLUMNS]: (editor) =>\n    insertColumnGroup(editor, { columns: 3, select: true }),\n  [AudioPlugin.key]: (editor) =>\n    insertAudioPlaceholder(editor, { select: true }),\n  [CalloutPlugin.key]: (editor) => insertCallout(editor, { select: true }),\n  [CodeBlockPlugin.key]: (editor) => insertCodeBlock(editor, { select: true }),\n  [EquationPlugin.key]: (editor) => insertEquation(editor, { select: true }),\n  [FilePlugin.key]: (editor) => insertFilePlaceholder(editor, { select: true }),\n  [ImagePlugin.key]: (editor) =>\n    insertMedia(editor, {\n      select: true,\n      type: ImagePlugin.key,\n    }),\n  [MediaEmbedPlugin.key]: (editor) =>\n    insertMedia(editor, {\n      select: true,\n      type: MediaEmbedPlugin.key,\n    }),\n  [TablePlugin.key]: (editor) =>\n    editor.getTransforms(TablePlugin).insert.table({}, { select: true }),\n  [TocPlugin.key]: (editor) => insertToc(editor, { select: true }),\n  [VideoPlugin.key]: (editor) =>\n    insertVideoPlaceholder(editor, { select: true }),\n};\n\nconst insertInlineMap: Record<\n  string,\n  (editor: PlateEditor, type: string) => void\n> = {\n  [DatePlugin.key]: (editor) => insertDate(editor, { select: true }),\n  [InlineEquationPlugin.key]: (editor) =>\n    insertInlineEquation(editor, '', { select: true }),\n  [LinkPlugin.key]: (editor) => triggerFloatingLink(editor, { focused: true }),\n};\n\nexport const insertBlock = (editor: PlateEditor, type: string) => {\n  editor.tf.withoutNormalizing(() => {\n    const block = editor.api.block();\n\n    if (!block) return;\n    if (type in insertBlockMap) {\n      insertBlockMap[type](editor, type);\n    } else {\n      editor.tf.insertNodes(editor.api.create.block({ type }), {\n        at: PathApi.next(block[1]),\n        select: true,\n      });\n    }\n    if (getBlockType(block[0]) !== type) {\n      editor.getApi(SuggestionPlugin).suggestion.withoutSuggestions(() => {\n        editor.tf.removeNodes({ previousEmptyBlock: true });\n      });\n    }\n  });\n};\n\nexport const insertInlineElement = (editor: PlateEditor, type: string) => {\n  if (insertInlineMap[type]) {\n    insertInlineMap[type](editor, type);\n  }\n};\n\nconst setList = (\n  editor: PlateEditor,\n  type: string,\n  entry: NodeEntry<TElement>\n) => {\n  editor.tf.setNodes(\n    editor.api.create.block({\n      indent: 1,\n      listStyleType: type,\n    }),\n    {\n      at: entry[1],\n    }\n  );\n};\n\nconst setBlockMap: Record<\n  string,\n  (editor: PlateEditor, type: string, entry: NodeEntry<TElement>) => void\n> = {\n  [INDENT_LIST_KEYS.todo]: setList,\n  [ListStyleType.Decimal]: setList,\n  [ListStyleType.Disc]: setList,\n  [ACTION_THREE_COLUMNS]: (editor) => toggleColumnGroup(editor, { columns: 3 }),\n};\n\nexport const setBlockType = (\n  editor: PlateEditor,\n  type: string,\n  { at }: { at?: Path } = {}\n) => {\n  editor.tf.withoutNormalizing(() => {\n    const setEntry = (entry: NodeEntry<TElement>) => {\n      const [node, path] = entry;\n\n      if (node[IndentListPlugin.key]) {\n        editor.tf.unsetNodes([IndentListPlugin.key, 'indent'], { at: path });\n      }\n      if (type in setBlockMap) {\n        return setBlockMap[type](editor, type, entry);\n      }\n      if (node.type !== type) {\n        editor.tf.setNodes({ type }, { at: path });\n      }\n    };\n\n    if (at) {\n      const entry = editor.api.node<TElement>(at);\n\n      if (entry) {\n        setEntry(entry);\n\n        return;\n      }\n    }\n\n    const entries = editor.api.blocks({ mode: 'lowest' });\n\n    entries.forEach((entry) => setEntry(entry));\n  });\n};\n\nexport const getBlockType = (block: TElement) => {\n  if (block[IndentListPlugin.key]) {\n    if (block[IndentListPlugin.key] === ListStyleType.Decimal) {\n      return ListStyleType.Decimal;\n    } else if (block[IndentListPlugin.key] === INDENT_LIST_KEYS.todo) {\n      return INDENT_LIST_KEYS.todo;\n    } else {\n      return ListStyleType.Disc;\n    }\n  }\n\n  return block.type;\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\n\nimport { type Alignment, setAlign } from '@udecode/plate-alignment';\nimport { useEditorRef, useSelectionFragmentProp } from '@udecode/plate/react';\nimport {\n  AlignCenterIcon,\n  AlignJustifyIcon,\n  AlignLeftIcon,\n  AlignRightIcon,\n} from 'lucide-react';\n\nimport { STRUCTURAL_TYPES } from '@/components/editor/transforms';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\n\nimport { ToolbarButton } from './toolbar';\n\nconst items = [\n  {\n    icon: AlignLeftIcon,\n    value: 'left',\n  },\n  {\n    icon: AlignCenterIcon,\n    value: 'center',\n  },\n  {\n    icon: AlignRightIcon,\n    value: 'right',\n  },\n  {\n    icon: AlignJustifyIcon,\n    value: 'justify',\n  },\n];\n\nexport function AlignDropdownMenu(props: DropdownMenuProps) {\n  const editor = useEditorRef();\n  const value = useSelectionFragmentProp({\n    defaultValue: 'start',\n    structuralTypes: STRUCTURAL_TYPES,\n    getProp: (node) => node.align,\n  });\n\n  const [open, setOpen] = React.useState(false);\n  const IconValue =\n    items.find((item) => item.value === value)?.icon ?? AlignLeftIcon;\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Align\" isDropdown>\n          <IconValue />\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent className=\"min-w-0\" align=\"start\">\n        <DropdownMenuRadioGroup\n          value={value}\n          onValueChange={(value) => {\n            setAlign(editor, { value: value as Alignment });\n            editor.tf.focus();\n          }}\n        >\n          {items.map(({ icon: Icon, value: itemValue }) => (\n            <DropdownMenuRadioItem\n              key={itemValue}\n              className=\"pl-2 *:first:[span]:hidden\"\n              value={itemValue}\n            >\n              <Icon />\n            </DropdownMenuRadioItem>\n          ))}\n        </DropdownMenuRadioGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","export const DEFAULT_COLORS = [\n  {\n    isBrightColor: false,\n    name: 'black',\n    value: '#000000',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark grey 4',\n    value: '#434343',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark grey 3',\n    value: '#666666',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark grey 2',\n    value: '#999999',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark grey 1',\n    value: '#B7B7B7',\n  },\n  {\n    isBrightColor: false,\n    name: 'grey',\n    value: '#CCCCCC',\n  },\n  {\n    isBrightColor: false,\n    name: 'light grey 1',\n    value: '#D9D9D9',\n  },\n  {\n    isBrightColor: true,\n    name: 'light grey 2',\n    value: '#EFEFEF',\n  },\n  {\n    isBrightColor: true,\n    name: 'light grey 3',\n    value: '#F3F3F3',\n  },\n  {\n    isBrightColor: true,\n    name: 'white',\n    value: '#FFFFFF',\n  },\n  {\n    isBrightColor: false,\n    name: 'red berry',\n    value: '#980100',\n  },\n  {\n    isBrightColor: false,\n    name: 'red',\n    value: '#FE0000',\n  },\n  {\n    isBrightColor: false,\n    name: 'orange',\n    value: '#FE9900',\n  },\n  {\n    isBrightColor: true,\n    name: 'yellow',\n    value: '#FEFF00',\n  },\n  {\n    isBrightColor: false,\n    name: 'green',\n    value: '#00FF00',\n  },\n  {\n    isBrightColor: false,\n    name: 'cyan',\n    value: '#00FFFF',\n  },\n  {\n    isBrightColor: false,\n    name: 'cornflower blue',\n    value: '#4B85E8',\n  },\n  {\n    isBrightColor: false,\n    name: 'blue',\n    value: '#1300FF',\n  },\n  {\n    isBrightColor: false,\n    name: 'purple',\n    value: '#9900FF',\n  },\n  {\n    isBrightColor: false,\n    name: 'magenta',\n    value: '#FF00FF',\n  },\n\n  {\n    isBrightColor: false,\n    name: 'light red berry 3',\n    value: '#E6B8AF',\n  },\n  {\n    isBrightColor: false,\n    name: 'light red 3',\n    value: '#F4CCCC',\n  },\n  {\n    isBrightColor: true,\n    name: 'light orange 3',\n    value: '#FCE4CD',\n  },\n  {\n    isBrightColor: true,\n    name: 'light yellow 3',\n    value: '#FFF2CC',\n  },\n  {\n    isBrightColor: true,\n    name: 'light green 3',\n    value: '#D9EAD3',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cyan 3',\n    value: '#D0DFE3',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cornflower blue 3',\n    value: '#C9DAF8',\n  },\n  {\n    isBrightColor: true,\n    name: 'light blue 3',\n    value: '#CFE1F3',\n  },\n  {\n    isBrightColor: true,\n    name: 'light purple 3',\n    value: '#D9D2E9',\n  },\n  {\n    isBrightColor: true,\n    name: 'light magenta 3',\n    value: '#EAD1DB',\n  },\n\n  {\n    isBrightColor: false,\n    name: 'light red berry 2',\n    value: '#DC7E6B',\n  },\n  {\n    isBrightColor: false,\n    name: 'light red 2',\n    value: '#EA9999',\n  },\n  {\n    isBrightColor: false,\n    name: 'light orange 2',\n    value: '#F9CB9C',\n  },\n  {\n    isBrightColor: true,\n    name: 'light yellow 2',\n    value: '#FFE598',\n  },\n  {\n    isBrightColor: false,\n    name: 'light green 2',\n    value: '#B7D6A8',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cyan 2',\n    value: '#A1C4C9',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cornflower blue 2',\n    value: '#A4C2F4',\n  },\n  {\n    isBrightColor: false,\n    name: 'light blue 2',\n    value: '#9FC5E8',\n  },\n  {\n    isBrightColor: false,\n    name: 'light purple 2',\n    value: '#B5A7D5',\n  },\n  {\n    isBrightColor: false,\n    name: 'light magenta 2',\n    value: '#D5A6BD',\n  },\n\n  {\n    isBrightColor: false,\n    name: 'light red berry 1',\n    value: '#CC4125',\n  },\n  {\n    isBrightColor: false,\n    name: 'light red 1',\n    value: '#E06666',\n  },\n  {\n    isBrightColor: false,\n    name: 'light orange 1',\n    value: '#F6B26B',\n  },\n  {\n    isBrightColor: false,\n    name: 'light yellow 1',\n    value: '#FFD966',\n  },\n  {\n    isBrightColor: false,\n    name: 'light green 1',\n    value: '#93C47D',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cyan 1',\n    value: '#76A5AE',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cornflower blue 1',\n    value: '#6C9EEB',\n  },\n  {\n    isBrightColor: false,\n    name: 'light blue 1',\n    value: '#6FA8DC',\n  },\n  {\n    isBrightColor: false,\n    name: 'light purple 1',\n    value: '#8D7CC3',\n  },\n  {\n    isBrightColor: false,\n    name: 'light magenta 1',\n    value: '#C27BA0',\n  },\n\n  {\n    isBrightColor: false,\n    name: 'dark red berry 1',\n    value: '#A61B00',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark red 1',\n    value: '#CC0000',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark orange 1',\n    value: '#E59138',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark yellow 1',\n    value: '#F1C231',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark green 1',\n    value: '#6AA74F',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark cyan 1',\n    value: '#45818E',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark cornflower blue 1',\n    value: '#3B78D8',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark blue 1',\n    value: '#3E84C6',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark purple 1',\n    value: '#664EA6',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark magenta 1',\n    value: '#A64D78',\n  },\n\n  {\n    isBrightColor: false,\n    name: 'dark red berry 2',\n    value: '#84200D',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark red 2',\n    value: '#990001',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark orange 2',\n    value: '#B45F05',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark yellow 2',\n    value: '#BF9002',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark green 2',\n    value: '#38761D',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark cyan 2',\n    value: '#124F5C',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark cornflower blue 2',\n    value: '#1155CB',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark blue 2',\n    value: '#0C5394',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark purple 2',\n    value: '#351C75',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark magenta 2',\n    value: '#741B47',\n  },\n\n  {\n    isBrightColor: false,\n    name: 'dark red berry 3',\n    value: '#5B0F00',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark red 3',\n    value: '#660000',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark orange 3',\n    value: '#783F04',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark yellow 3',\n    value: '#7E6000',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark green 3',\n    value: '#274E12',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark cyan 3',\n    value: '#0D343D',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark cornflower blue 3',\n    value: '#1B4487',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark blue 3',\n    value: '#083763',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark purple 3',\n    value: '#1F124D',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark magenta 3',\n    value: '#4C1130',\n  },\n];\n\nexport const DEFAULT_CUSTOM_COLORS = [\n  {\n    isBrightColor: false,\n    name: 'dark orange 3',\n    value: '#783F04',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark grey 3',\n    value: '#666666',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark grey 2',\n    value: '#999999',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cornflower blue 1',\n    value: '#6C9EEB',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark magenta 3',\n    value: '#4C1130',\n  },\n];\n","'use client';\n\nimport * as React from 'react';\n\nimport type { DropdownMenuItemProps } from '@radix-ui/react-dropdown-menu';\n\nimport { buttonVariants } from '@/components/ui/button';\nimport { DropdownMenuItem } from '@/components/ui/dropdown-menu';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip';\nimport { cn } from '@/lib/utils';\n\nexport type TColor = {\n  isBrightColor: boolean;\n  name: string;\n  value: string;\n};\n\ntype ColorDropdownMenuItemProps = {\n  isBrightColor: boolean;\n  isSelected: boolean;\n  value: string;\n  updateColor: (color: string) => void;\n  name?: string;\n} & DropdownMenuItemProps;\n\nexport function ColorDropdownMenuItem({\n  className,\n  isBrightColor,\n  isSelected,\n  name,\n  updateColor,\n  value,\n  ...props\n}: ColorDropdownMenuItemProps) {\n  const content = (\n    <DropdownMenuItem\n      className={cn(\n        buttonVariants({\n          size: 'icon',\n          variant: 'outline',\n        }),\n        'my-1 flex size-6 items-center justify-center rounded-full border border-solid border-muted p-0 transition-all hover:scale-125',\n        !isBrightColor && 'border-transparent',\n        isSelected && 'border-2 border-primary',\n        className\n      )}\n      style={{ backgroundColor: value }}\n      onSelect={(e) => {\n        e.preventDefault();\n        updateColor(value);\n      }}\n      {...props}\n    />\n  );\n\n  return name ? (\n    <Tooltip>\n      <TooltipTrigger>{content}</TooltipTrigger>\n      <TooltipContent className=\"mb-1 capitalize\">{name}</TooltipContent>\n    </Tooltip>\n  ) : (\n    content\n  );\n}\n\ntype ColorDropdownMenuItemsProps = {\n  colors: TColor[];\n  updateColor: (color: string) => void;\n  color?: string;\n} & React.ComponentProps<'div'>;\n\nexport function ColorDropdownMenuItems({\n  className,\n  color,\n  colors,\n  updateColor,\n  ...props\n}: ColorDropdownMenuItemsProps) {\n  return (\n    <div\n      className={cn(\n        'grid grid-cols-[repeat(10,1fr)] place-items-center gap-x-1',\n        className\n      )}\n      {...props}\n    >\n      <TooltipProvider>\n        {colors.map(({ isBrightColor, name, value }) => (\n          <ColorDropdownMenuItem\n            name={name}\n            key={name ?? value}\n            value={value}\n            isBrightColor={isBrightColor}\n            isSelected={color === value}\n            updateColor={updateColor}\n          />\n        ))}\n        {props.children}\n      </TooltipProvider>\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { useColorInput } from '@udecode/plate-font/react';\nimport { useComposedRef } from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\n\nexport function ColorInput({\n  children,\n  className,\n  value = '#000000',\n  ...props\n}: React.ComponentProps<'input'>) {\n  const { childProps, inputRef } = useColorInput();\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      {React.Children.map(children, (child) => {\n        if (!child) return child;\n\n        return React.cloneElement(child as React.ReactElement, childProps);\n      })}\n      <input\n        {...props}\n        ref={useComposedRef(props.ref, inputRef)}\n        className={cn('size-0 overflow-hidden border-0 p-0', className)}\n        value={value}\n        type=\"color\"\n      />\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  useColorsCustom,\n  useColorsCustomState,\n} from '@udecode/plate-font/react';\nimport { PlusIcon } from 'lucide-react';\n\nimport { buttonVariants } from '@/components/ui/button';\n// import { ColorInput } from './color-input';\nimport { DropdownMenuItem } from '@/components/ui/dropdown-menu';\nimport { cn } from '@/lib/utils';\n\nimport {\n  type TColor,\n  ColorDropdownMenuItems,\n} from './color-dropdown-menu-items';\nimport { ColorInput } from './color-input';\n\ntype ColorCustomProps = {\n  colors: TColor[];\n  customColors: TColor[];\n  updateColor: (color: string) => void;\n  updateCustomColor: (color: string) => void;\n  color?: string;\n} & React.ComponentPropsWithoutRef<'div'>;\n\nexport function ColorCustom({\n  className,\n  color,\n  colors,\n  customColors,\n  updateColor,\n  updateCustomColor,\n  ...props\n}: ColorCustomProps) {\n  const state = useColorsCustomState({\n    color,\n    colors,\n    customColors,\n    updateCustomColor,\n  });\n  const { inputProps, menuItemProps } = useColorsCustom(state);\n\n  return (\n    <div className={cn('relative flex flex-col gap-4', className)} {...props}>\n      <ColorDropdownMenuItems\n        color={color}\n        colors={state.computedColors}\n        updateColor={updateColor}\n      >\n        <ColorInput {...inputProps}>\n          <DropdownMenuItem\n            className={cn(\n              buttonVariants({\n                size: 'icon',\n                variant: 'outline',\n              }),\n              'absolute top-1 right-2 bottom-2 flex size-8 items-center justify-center rounded-full'\n            )}\n            {...menuItemProps}\n          >\n            <span className=\"sr-only\">Custom</span>\n            <PlusIcon />\n          </DropdownMenuItem>\n        </ColorInput>\n      </ColorDropdownMenuItems>\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { EraserIcon } from 'lucide-react';\n\nimport { DropdownMenuItem } from '@/components/ui/dropdown-menu';\nimport { cn } from '@/lib/utils';\nimport { ToolbarMenuGroup } from '@/components/ui/toolbar';\n\nimport {\n  type TColor,\n  ColorDropdownMenuItems,\n} from './color-dropdown-menu-items';\nimport { ColorCustom } from './colors-custom';\n\ntype ColorPickerContentProps = React.ComponentProps<'div'> & {\n  colors: TColor[];\n  customColors: TColor[];\n  clearColor: () => void;\n  updateColor: (color: string) => void;\n  updateCustomColor: (color: string) => void;\n  color?: string;\n};\n\nexport function ColorPickerContent({\n  className,\n  clearColor,\n  color,\n  colors,\n  customColors,\n  updateColor,\n  updateCustomColor,\n  ...props\n}: ColorPickerContentProps) {\n  return (\n    <div className={cn('flex flex-col', className)} {...props}>\n      <ToolbarMenuGroup label=\"Custom Colors\">\n        <ColorCustom\n          color={color}\n          className=\"px-2\"\n          colors={colors}\n          customColors={customColors}\n          updateColor={updateColor}\n          updateCustomColor={updateCustomColor}\n        />\n      </ToolbarMenuGroup>\n      <ToolbarMenuGroup label=\"Default Colors\">\n        <ColorDropdownMenuItems\n          color={color}\n          className=\"px-2\"\n          colors={colors}\n          updateColor={updateColor}\n        />\n      </ToolbarMenuGroup>\n      {color && (\n        <ToolbarMenuGroup>\n          <DropdownMenuItem className=\"p-2\" onClick={clearColor}>\n            <EraserIcon />\n            <span>Clear</span>\n          </DropdownMenuItem>\n        </ToolbarMenuGroup>\n      )}\n    </div>\n  );\n}\n\nexport const ColorPicker = React.memo(\n  ColorPickerContent,\n  (prev, next) =>\n    prev.color === next.color &&\n    prev.colors === next.colors &&\n    prev.customColors === next.customColors\n);\n","'use client';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\n\nimport {\n  useColorDropdownMenu,\n  useColorDropdownMenuState,\n} from '@udecode/plate-font/react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\n\nimport { DEFAULT_COLORS, DEFAULT_CUSTOM_COLORS } from './color-constants';\nimport { ColorPicker } from './color-picker';\nimport { ToolbarButton } from './toolbar';\n\ntype ColorDropdownMenuProps = {\n  nodeType: string;\n  tooltip?: string;\n} & DropdownMenuProps;\n\nexport function ColorDropdownMenu({\n  children,\n  nodeType,\n  tooltip,\n}: ColorDropdownMenuProps) {\n  const state = useColorDropdownMenuState({\n    closeOnSelect: true,\n    colors: DEFAULT_COLORS,\n    customColors: DEFAULT_CUSTOM_COLORS,\n    nodeType,\n  });\n\n  const { buttonProps, menuProps } = useColorDropdownMenu(state);\n\n  return (\n    <DropdownMenu modal={false} {...menuProps}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton tooltip={tooltip} {...buttonProps}>\n          {children}\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent align=\"start\">\n        <ColorPicker\n          color={state.selectedColor || state.color}\n          clearColor={state.clearColor}\n          colors={state.colors}\n          customColors={state.customColors}\n          updateColor={state.updateColorAndClose}\n          updateCustomColor={state.updateColor}\n        />\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport type { ExtendConfig, Path } from '@udecode/plate';\n\nimport { isSlateString } from '@udecode/plate';\nimport {\n  type BaseCommentsConfig,\n  BaseCommentsPlugin,\n} from '@udecode/plate-comments';\nimport { toTPlatePlugin, useHotkeys } from '@udecode/plate/react';\n\nexport type CommentsConfig = ExtendConfig<\n  BaseCommentsConfig,\n  {\n    activeId: string | null;\n    commentingBlock: Path | null;\n    hotkey: string[];\n    hoverId: string | null;\n    uniquePathMap: Map<string, Path>;\n  }\n>;\n\nexport const commentsPlugin = toTPlatePlugin<CommentsConfig>(\n  BaseCommentsPlugin,\n  {\n    handlers: {\n      onClick: ({ api, event, setOption, type }) => {\n        let leaf = event.target as HTMLElement;\n        let isSet = false;\n\n        const unsetActiveSuggestion = () => {\n          setOption('activeId', null);\n          isSet = true;\n        };\n\n        if (!isSlateString(leaf)) unsetActiveSuggestion();\n\n        while (leaf.parentElement) {\n          if (leaf.classList.contains(`slate-${type}`)) {\n            const commentsEntry = api.comment!.node();\n\n            if (!commentsEntry) {\n              unsetActiveSuggestion();\n\n              break;\n            }\n\n            const id = api.comment!.nodeId(commentsEntry[0]);\n\n            setOption('activeId', id ?? null);\n            isSet = true;\n\n            break;\n          }\n\n          leaf = leaf.parentElement;\n        }\n\n        if (!isSet) unsetActiveSuggestion();\n      },\n    },\n    options: {\n      activeId: null,\n      commentingBlock: null,\n      hotkey: ['meta+shift+m', 'ctrl+shift+m'],\n      hoverId: null,\n      uniquePathMap: new Map(),\n    },\n    useHooks: ({ editor, getOptions }) => {\n      const { hotkey } = getOptions();\n      useHotkeys(\n        hotkey!,\n        (e) => {\n          if (!editor.selection) return;\n\n          e.preventDefault();\n\n          if (!editor.api.isExpanded()) return;\n        },\n        {\n          enableOnContentEditable: true,\n        }\n      );\n    },\n  }\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport { getDraftCommentKey } from '@udecode/plate-comments';\nimport { useEditorPlugin } from '@udecode/plate/react';\nimport { MessageSquareTextIcon } from 'lucide-react';\n\nimport { commentsPlugin } from '@/components/editor/plugins/comments-plugin';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function CommentToolbarButton() {\n  const { editor, setOption, tf } = useEditorPlugin(commentsPlugin);\n\n  const onCommentToolbarButton = React.useCallback(() => {\n    if (!editor.selection) return;\n\n    tf.comment.setDraft();\n    editor.tf.collapse();\n    setOption('activeId', getDraftCommentKey());\n    setOption('commentingBlock', editor.selection.focus.path.slice(0, 1));\n  }, [editor.selection, editor.tf, setOption, tf.comment]);\n\n  return (\n    <ToolbarButton\n      onClick={onCommentToolbarButton}\n      data-plate-prevent-overlay\n      tooltip=\"Comment\"\n    >\n      <MessageSquareTextIcon />\n    </ToolbarButton>\n  );\n}\n","import type React from 'react';\n\nimport type { EmojiCategoryList } from '@udecode/plate-emoji';\n\nimport {\n  AppleIcon,\n  ClockIcon,\n  CompassIcon,\n  FlagIcon,\n  LeafIcon,\n  LightbulbIcon,\n  MusicIcon,\n  SearchIcon,\n  SmileIcon,\n  StarIcon,\n  XIcon,\n} from 'lucide-react';\n\nexport const emojiCategoryIcons: Record<\n  EmojiCategoryList,\n  {\n    outline: React.ReactElement;\n    solid: React.ReactElement; // Needed to add another solid variant - outline will be used for now\n  }\n> = {\n  activity: {\n    outline: (\n      <svg\n        className=\"size-full\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"2\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <circle cx=\"12\" cy=\"12\" r=\"10\" />\n        <path d=\"M2.1 13.4A10.1 10.1 0 0 0 13.4 2.1\" />\n        <path d=\"m5 4.9 14 14.2\" />\n        <path d=\"M21.9 10.6a10.1 10.1 0 0 0-11.3 11.3\" />\n      </svg>\n    ),\n    solid: (\n      <svg\n        className=\"size-full\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"2\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <circle cx=\"12\" cy=\"12\" r=\"10\" />\n        <path d=\"M2.1 13.4A10.1 10.1 0 0 0 13.4 2.1\" />\n        <path d=\"m5 4.9 14 14.2\" />\n        <path d=\"M21.9 10.6a10.1 10.1 0 0 0-11.3 11.3\" />\n      </svg>\n    ),\n  },\n\n  custom: {\n    outline: <StarIcon className=\"size-full\" />,\n    solid: <StarIcon className=\"size-full\" />,\n  },\n\n  flags: {\n    outline: <FlagIcon className=\"size-full\" />,\n    solid: <FlagIcon className=\"size-full\" />,\n  },\n\n  foods: {\n    outline: <AppleIcon className=\"size-full\" />,\n    solid: <AppleIcon className=\"size-full\" />,\n  },\n\n  frequent: {\n    outline: <ClockIcon className=\"size-full\" />,\n    solid: <ClockIcon className=\"size-full\" />,\n  },\n\n  nature: {\n    outline: <LeafIcon className=\"size-full\" />,\n    solid: <LeafIcon className=\"size-full\" />,\n  },\n\n  objects: {\n    outline: <LightbulbIcon className=\"size-full\" />,\n    solid: <LightbulbIcon className=\"size-full\" />,\n  },\n\n  people: {\n    outline: <SmileIcon className=\"size-full\" />,\n    solid: <SmileIcon className=\"size-full\" />,\n  },\n\n  places: {\n    outline: <CompassIcon className=\"size-full\" />,\n    solid: <CompassIcon className=\"size-full\" />,\n  },\n\n  symbols: {\n    outline: <MusicIcon className=\"size-full\" />,\n    solid: <MusicIcon className=\"size-full\" />,\n  },\n};\n\nexport const emojiSearchIcons = {\n  delete: <XIcon className=\"size-4 text-current\" />,\n  loupe: <SearchIcon className=\"size-4 text-current\" />,\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport type { UseEmojiPickerType } from '@udecode/plate-emoji/react';\n\nimport { type Emoji, type GridRow, EmojiSettings } from '@udecode/plate-emoji';\n\nimport { cn } from '@/lib/utils';\n\nexport type EmojiButtonProps = {\n  emoji: Emoji;\n  index: number;\n  onMouseOver: (emoji?: Emoji) => void;\n  onSelect: (emoji: Emoji) => void;\n};\n\nexport type EmojiPickerContentProps = Pick<\n  UseEmojiPickerType,\n  | 'emojiLibrary'\n  | 'i18n'\n  | 'isSearching'\n  | 'onMouseOver'\n  | 'onSelectEmoji'\n  | 'refs'\n  | 'searchResult'\n  | 'settings'\n  | 'visibleCategories'\n>;\n\nexport type RowOfButtonsProps = {\n  row: GridRow;\n} & Pick<UseEmojiPickerType, 'emojiLibrary' | 'onMouseOver' | 'onSelectEmoji'>;\n\nconst Button = React.memo(\n  ({ emoji, index, onMouseOver, onSelect }: EmojiButtonProps) => {\n    return (\n      <button\n        className=\"group relative flex size-9 cursor-pointer items-center justify-center border-none bg-transparent text-2xl leading-none\"\n        onClick={() => onSelect(emoji)}\n        onMouseEnter={() => onMouseOver(emoji)}\n        onMouseLeave={() => onMouseOver()}\n        aria-label={emoji.skins[0].native}\n        data-index={index}\n        tabIndex={-1}\n        type=\"button\"\n      >\n        <div\n          className=\"absolute inset-0 rounded-full opacity-0 group-hover:opacity-100\"\n          aria-hidden=\"true\"\n        />\n        <span\n          className=\"relative\"\n          style={{\n            fontFamily:\n              '\"Apple Color Emoji\", \"Segoe UI Emoji\", NotoColorEmoji, \"Noto Color Emoji\", \"Segoe UI Symbol\", \"Android Emoji\", EmojiSymbols',\n          }}\n          data-emoji-set=\"native\"\n        >\n          {emoji.skins[0].native}\n        </span>\n      </button>\n    );\n  }\n);\nButton.displayName = 'Button';\n\nconst RowOfButtons = React.memo(\n  ({ emojiLibrary, row, onMouseOver, onSelectEmoji }: RowOfButtonsProps) => (\n    <div key={row.id} className=\"flex\" data-index={row.id}>\n      {row.elements.map((emojiId, index) => (\n        <Button\n          key={emojiId}\n          onMouseOver={onMouseOver}\n          onSelect={onSelectEmoji}\n          emoji={emojiLibrary.getEmoji(emojiId)}\n          index={index}\n        />\n      ))}\n    </div>\n  )\n);\nRowOfButtons.displayName = 'RowOfButtons';\n\nexport function EmojiPickerContent({\n  emojiLibrary,\n  i18n,\n  isSearching = false,\n  refs,\n  searchResult,\n  settings = EmojiSettings,\n  visibleCategories,\n  onMouseOver,\n  onSelectEmoji,\n}: EmojiPickerContentProps) {\n  const getRowWidth = settings.perLine.value * settings.buttonSize.value;\n\n  const isCategoryVisible = React.useCallback(\n    (categoryId: any) => {\n      return visibleCategories.has(categoryId)\n        ? visibleCategories.get(categoryId)\n        : false;\n    },\n    [visibleCategories]\n  );\n\n  const EmojiList = React.useCallback(() => {\n    return emojiLibrary\n      .getGrid()\n      .sections()\n      .map(({ id: categoryId }) => {\n        const section = emojiLibrary.getGrid().section(categoryId);\n        const { buttonSize } = settings;\n\n        return (\n          <div\n            key={categoryId}\n            ref={section.root}\n            style={{ width: getRowWidth }}\n            data-id={categoryId}\n          >\n            <div className=\"sticky -top-px z-1 bg-popover/90 p-1 py-2 text-sm font-semibold backdrop-blur-xs\">\n              {i18n.categories[categoryId]}\n            </div>\n            <div\n              className=\"relative flex flex-wrap\"\n              style={{ height: section.getRows().length * buttonSize.value }}\n            >\n              {isCategoryVisible(categoryId) &&\n                section\n                  .getRows()\n                  .map((row: GridRow) => (\n                    <RowOfButtons\n                      key={row.id}\n                      onMouseOver={onMouseOver}\n                      onSelectEmoji={onSelectEmoji}\n                      emojiLibrary={emojiLibrary}\n                      row={row}\n                    />\n                  ))}\n            </div>\n          </div>\n        );\n      });\n  }, [\n    emojiLibrary,\n    getRowWidth,\n    i18n.categories,\n    isCategoryVisible,\n    onSelectEmoji,\n    onMouseOver,\n    settings,\n  ]);\n\n  const SearchList = React.useCallback(() => {\n    return (\n      <div style={{ width: getRowWidth }} data-id=\"search\">\n        <div className=\"sticky -top-px z-1 bg-popover/90 p-1 py-2 text-sm font-semibold text-card-foreground backdrop-blur-xs\">\n          {i18n.searchResult}\n        </div>\n        <div className=\"relative flex flex-wrap\">\n          {searchResult.map((emoji: Emoji, index: number) => (\n            <Button\n              key={emoji.id}\n              onMouseOver={onMouseOver}\n              onSelect={onSelectEmoji}\n              emoji={emojiLibrary.getEmoji(emoji.id)}\n              index={index}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }, [\n    emojiLibrary,\n    getRowWidth,\n    i18n.searchResult,\n    searchResult,\n    onSelectEmoji,\n    onMouseOver,\n  ]);\n\n  return (\n    <div\n      ref={refs.current.contentRoot}\n      className={cn(\n        'h-full min-h-[50%] overflow-x-hidden overflow-y-auto px-2',\n        '[&::-webkit-scrollbar]:w-4',\n        '[&::-webkit-scrollbar-button]:hidden [&::-webkit-scrollbar-button]:size-0',\n        '[&::-webkit-scrollbar-thumb]:min-h-11 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-muted [&::-webkit-scrollbar-thumb]:hover:bg-muted-foreground/25',\n        '[&::-webkit-scrollbar-thumb]:border-4 [&::-webkit-scrollbar-thumb]:border-solid [&::-webkit-scrollbar-thumb]:border-popover [&::-webkit-scrollbar-thumb]:bg-clip-padding'\n      )}\n      data-id=\"scroll\"\n    >\n      <div ref={refs.current.content} className=\"h-full\">\n        {isSearching ? SearchList() : EmojiList()}\n      </div>\n    </div>\n  );\n}\n","import type { EmojiCategoryList } from '@udecode/plate-emoji';\nimport type { UseEmojiPickerType } from '@udecode/plate-emoji/react';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip';\nimport { cn } from '@/lib/utils';\n\nexport type EmojiPickerNavigationProps = {\n  onClick: (id: EmojiCategoryList) => void;\n} & Pick<\n  UseEmojiPickerType,\n  'emojiLibrary' | 'focusedCategory' | 'i18n' | 'icons'\n>;\n\n// KEEP: This is for the animated idicator bar under the icon - Opt in if needed\n// const getBarProperty = (\n//   emojiLibrary: IEmojiFloatingLibrary,\n//   focusedCategory?: EmojiCategoryList\n// ) => {\n//   let width = 0;\n//   let position = 0;\n\n//   if (focusedCategory) {\n//     width = 100 / emojiLibrary.getGrid().size;\n//     position = focusedCategory\n//       ? emojiLibrary.indexOf(focusedCategory) * 100\n//       : 0;\n//   }\n\n//   return { position, width };\n// };\n\nexport function EmojiPickerNavigation({\n  emojiLibrary,\n  focusedCategory,\n  i18n,\n  icons,\n  onClick,\n}: EmojiPickerNavigationProps) {\n  // KEEP: This is for the animated idicator bar under the icon - Opt in if needed\n  // const { position, width } = useMemo(\n  //   () => getBarProperty(emojiLibrary, focusedCategory),\n  //   [emojiLibrary, focusedCategory]\n  // );\n\n  return (\n    <TooltipProvider delayDuration={500}>\n      <nav\n        id=\"emoji-nav\"\n        className=\"mb-2.5 border-0 border-b border-solid border-b-border p-1.5\"\n      >\n        <div className=\"relative flex items-center justify-evenly\">\n          {emojiLibrary\n            .getGrid()\n            .sections()\n            .map(({ id }) => (\n              <Tooltip key={id}>\n                <TooltipTrigger asChild>\n                  <Button\n                    size=\"sm\"\n                    variant=\"ghost\"\n                    className={cn(\n                      'h-fit rounded-full fill-current p-1.5 text-muted-foreground hover:bg-muted hover:text-muted-foreground',\n                      id === focusedCategory &&\n                        'pointer-events-none bg-accent fill-current text-accent-foreground'\n                    )}\n                    onClick={() => {\n                      onClick(id);\n                    }}\n                    aria-label={i18n.categories[id]}\n                    type=\"button\"\n                  >\n                    <span className=\"inline-flex size-5 items-center justify-center\">\n                      {icons.categories[id].outline}\n                    </span>\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent side=\"bottom\">\n                  {i18n.categories[id]}\n                </TooltipContent>\n              </Tooltip>\n            ))}\n\n          {/* This is the animated indicator - Opt In if needed */}\n          {/* <div\n            className={cn(\n              'absolute -bottom-1.5 left-0 h-0.5 w-full rounded-t-lg bg-accent opacity-100 transition-transform duration-200'\n            )}\n            style={{\n              transform: `translateX(${position}%)`,\n              visibility: `${focusedCategory ? 'visible' : 'hidden'}`,\n              width: `${width}%`,\n            }}\n          /> */}\n        </div>\n      </nav>\n    </TooltipProvider>\n  );\n}\n","'use client';\n\nimport type { UseEmojiPickerType } from '@udecode/plate-emoji/react';\n\nexport type EmojiPickerPreviewProps = Pick<\n  UseEmojiPickerType,\n  'emoji' | 'hasFound' | 'i18n' | 'isSearching'\n>;\n\nexport type EmojiPreviewProps = Pick<UseEmojiPickerType, 'emoji'>;\n\nexport type NoEmojiPreviewProps = Pick<UseEmojiPickerType, 'i18n'>;\n\nexport type PickAnEmojiPreviewProps = NoEmojiPreviewProps;\n\nfunction EmojiPreview({ emoji }: EmojiPreviewProps) {\n  return (\n    <div className=\"flex h-14 max-h-14 min-h-14 items-center border-t border-muted p-2\">\n      <div className=\"flex items-center justify-center text-2xl\">\n        {emoji?.skins[0].native}\n      </div>\n      <div className=\"overflow-hidden pl-2\">\n        <div className=\"truncate text-sm font-semibold\">{emoji?.name}</div>\n        <div className=\"truncate text-sm\">{`:${emoji?.id}:`}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction NoEmoji({ i18n }: NoEmojiPreviewProps) {\n  return (\n    <div className=\"flex h-14 max-h-14 min-h-14 items-center border-t border-muted p-2\">\n      <div className=\"flex items-center justify-center text-2xl\"></div>\n      <div className=\"overflow-hidden pl-2\">\n        <div className=\"truncate text-sm font-bold\">\n          {i18n.searchNoResultsTitle}\n        </div>\n        <div className=\"truncate text-sm\">{i18n.searchNoResultsSubtitle}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction PickAnEmoji({ i18n }: PickAnEmojiPreviewProps) {\n  return (\n    <div className=\"flex h-14 max-h-14 min-h-14 items-center border-t border-muted p-2\">\n      <div className=\"flex items-center justify-center text-2xl\"></div>\n      <div className=\"overflow-hidden pl-2\">\n        <div className=\"truncate text-sm font-semibold\">{i18n.pick}</div>\n      </div>\n    </div>\n  );\n}\n\nexport function EmojiPickerPreview({\n  emoji,\n  hasFound = true,\n  i18n,\n  isSearching = false,\n  ...props\n}: EmojiPickerPreviewProps) {\n  const showPickEmoji = !emoji && (!isSearching || hasFound);\n  const showNoEmoji = isSearching && !hasFound;\n  const showPreview = emoji && !showNoEmoji && !showNoEmoji;\n\n  return (\n    <>\n      {showPreview && <EmojiPreview emoji={emoji} {...props} />}\n      {showPickEmoji && <PickAnEmoji i18n={i18n} {...props} />}\n      {showNoEmoji && <NoEmoji i18n={i18n} {...props} />}\n    </>\n  );\n}\n","'use client';\n\nimport type { UseEmojiPickerType } from '@udecode/plate-emoji/react';\n\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\nimport { emojiSearchIcons } from './emoji-icons';\n\nexport type EmojiPickerSearchAndClearProps = Pick<\n  UseEmojiPickerType,\n  'clearSearch' | 'i18n' | 'searchValue'\n>;\n\nexport function EmojiPickerSearchAndClear({\n  clearSearch,\n  i18n,\n  searchValue,\n}: EmojiPickerSearchAndClearProps) {\n  return (\n    <div className=\"flex items-center text-foreground\">\n      <div\n        className={cn(\n          'absolute top-1/2 left-2.5 z-10 flex size-5 -translate-y-1/2 items-center justify-center text-foreground'\n        )}\n      >\n        {emojiSearchIcons.loupe}\n      </div>\n      {searchValue && (\n        <Button\n          size=\"icon\"\n          variant=\"ghost\"\n          className={cn(\n            'absolute top-1/2 right-0.5 flex size-8 -translate-y-1/2 cursor-pointer items-center justify-center rounded-full border-none bg-transparent text-popover-foreground hover:bg-transparent'\n          )}\n          onClick={clearSearch}\n          title={i18n.clear}\n          aria-label=\"Clear\"\n          type=\"button\"\n        >\n          {emojiSearchIcons.delete}\n        </Button>\n      )}\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { UseEmojiPickerType } from '@udecode/plate-emoji/react';\n\nexport type EmojiPickerSearchBarProps = {\n  children: React.ReactNode;\n} & Pick<UseEmojiPickerType, 'i18n' | 'searchValue' | 'setSearch'>;\n\nexport function EmojiPickerSearchBar({\n  children,\n  i18n,\n  searchValue,\n  setSearch,\n}: EmojiPickerSearchBarProps) {\n  return (\n    <div className=\"flex items-center px-2\">\n      <div className=\"relative flex grow items-center\">\n        <input\n          className=\"block w-full appearance-none rounded-full border-0 bg-muted px-10 py-2 text-sm outline-none placeholder:text-muted-foreground focus-visible:outline-none\"\n          value={searchValue}\n          onChange={(event) => setSearch(event.target.value)}\n          placeholder={i18n.search}\n          aria-label=\"Search\"\n          autoComplete=\"off\"\n          type=\"text\"\n          autoFocus\n        />\n        {children}\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { UseEmojiPickerType } from '@udecode/plate-emoji/react';\n\nimport { EmojiSettings } from '@udecode/plate-emoji';\n\nimport { cn } from '@/lib/utils';\n\nimport { EmojiPickerContent } from './emoji-picker-content';\nimport { EmojiPickerNavigation } from './emoji-picker-navigation';\nimport { EmojiPickerPreview } from './emoji-picker-preview';\nimport { EmojiPickerSearchAndClear } from './emoji-picker-search-and-clear';\nimport { EmojiPickerSearchBar } from './emoji-picker-search-bar';\n\nexport function EmojiPicker({\n  clearSearch,\n  emoji,\n  emojiLibrary,\n  focusedCategory,\n  hasFound,\n  i18n,\n  icons,\n  isSearching,\n  refs,\n  searchResult,\n  searchValue,\n  setSearch,\n  settings = EmojiSettings,\n  visibleCategories,\n  handleCategoryClick,\n  onMouseOver,\n  onSelectEmoji,\n}: UseEmojiPickerType) {\n  return (\n    <div\n      className={cn(\n        'flex flex-col rounded-xl bg-popover text-popover-foreground',\n        'h-[23rem] w-80 border shadow-md'\n      )}\n    >\n      <EmojiPickerNavigation\n        onClick={handleCategoryClick}\n        emojiLibrary={emojiLibrary}\n        focusedCategory={focusedCategory}\n        i18n={i18n}\n        icons={icons}\n      />\n      <EmojiPickerSearchBar\n        i18n={i18n}\n        searchValue={searchValue}\n        setSearch={setSearch}\n      >\n        <EmojiPickerSearchAndClear\n          clearSearch={clearSearch}\n          i18n={i18n}\n          searchValue={searchValue}\n        />\n      </EmojiPickerSearchBar>\n      <EmojiPickerContent\n        onMouseOver={onMouseOver}\n        onSelectEmoji={onSelectEmoji}\n        emojiLibrary={emojiLibrary}\n        i18n={i18n}\n        isSearching={isSearching}\n        refs={refs}\n        searchResult={searchResult}\n        settings={settings}\n        visibleCategories={visibleCategories}\n      />\n      <EmojiPickerPreview\n        emoji={emoji}\n        hasFound={hasFound}\n        i18n={i18n}\n        isSearching={isSearching}\n      />\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport * as Popover from '@radix-ui/react-popover';\n\ntype EmojiToolbarDropdownProps = {\n  children: React.ReactNode;\n  control: React.ReactNode;\n  isOpen: boolean;\n  setIsOpen: (open: boolean) => void;\n};\n\nexport function EmojiToolbarDropdown({\n  children,\n  control,\n  isOpen,\n  setIsOpen,\n}: EmojiToolbarDropdownProps) {\n  return (\n    <Popover.Root open={isOpen} onOpenChange={setIsOpen}>\n      <Popover.Trigger asChild>{control}</Popover.Trigger>\n\n      <Popover.Portal>\n        <Popover.Content className=\"z-100\">{children}</Popover.Content>\n      </Popover.Portal>\n    </Popover.Root>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  type EmojiDropdownMenuOptions,\n  useEmojiDropdownMenuState,\n} from '@udecode/plate-emoji/react';\nimport { Smile } from 'lucide-react';\n\nimport { emojiCategoryIcons, emojiSearchIcons } from './emoji-icons';\nimport { EmojiPicker } from './emoji-picker';\nimport { EmojiToolbarDropdown } from './emoji-toolbar-dropdown';\nimport { ToolbarButton } from './toolbar';\ntype EmojiDropdownMenuProps = {\n  options?: EmojiDropdownMenuOptions;\n} & React.ComponentPropsWithoutRef<typeof ToolbarButton>;\n\nexport function EmojiDropdownMenu({\n  options,\n  ...props\n}: EmojiDropdownMenuProps) {\n  const { emojiPickerState, isOpen, setIsOpen } =\n    useEmojiDropdownMenuState(options);\n\n  return (\n    <EmojiToolbarDropdown\n      control={\n        <ToolbarButton pressed={isOpen} tooltip=\"Emoji\" isDropdown {...props}>\n          <Smile />\n        </ToolbarButton>\n      }\n      isOpen={isOpen}\n      setIsOpen={setIsOpen}\n    >\n      <EmojiPicker\n        {...emojiPickerState}\n        icons={{\n          categories: emojiCategoryIcons,\n          search: emojiSearchIcons,\n        }}\n        isOpen={isOpen}\n        setIsOpen={setIsOpen}\n        settings={options?.settings}\n      />\n    </EmojiToolbarDropdown>\n  );\n}\n","import * as React from 'react';\n\nimport { type SlateElementProps, SlateElement } from '@udecode/plate';\n\nexport function BlockquoteElementStatic(props: SlateElementProps) {\n  return (\n    <SlateElement\n      as=\"blockquote\"\n      className=\"my-1 border-l-2 pl-6 italic\"\n      {...props}\n    />\n  );\n}\n","import * as React from 'react';\n\nimport type { TCodeBlockElement } from '@udecode/plate-code-block';\n\nimport { type SlateElementProps, SlateElement } from '@udecode/plate';\n\nexport function CodeBlockElementStatic(\n  props: SlateElementProps<TCodeBlockElement>\n) {\n  return (\n    <SlateElement\n      className=\"py-1 **:[.hljs-addition]:bg-[#f0fff4] **:[.hljs-addition]:text-[#22863a] **:[.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable]:text-[#005cc5] **:[.hljs-built_in,.hljs-symbol]:text-[#e36209] **:[.hljs-bullet]:text-[#735c0f] **:[.hljs-comment,.hljs-code,.hljs-formula]:text-[#6a737d] **:[.hljs-deletion]:bg-[#ffeef0] **:[.hljs-deletion]:text-[#b31d28] **:[.hljs-emphasis]:italic **:[.hljs-keyword,.hljs-doctag,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_]:text-[#d73a49] **:[.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo]:text-[#22863a] **:[.hljs-regexp,.hljs-string,.hljs-meta_.hljs-string]:text-[#032f62] **:[.hljs-section]:font-bold **:[.hljs-section]:text-[#005cc5] **:[.hljs-strong]:font-bold **:[.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_]:text-[#6f42c1]\"\n      {...props}\n    >\n      <div className=\"relative rounded-md bg-muted/50\">\n        <pre className=\"overflow-x-auto p-8 pr-4 font-mono text-sm leading-[normal] [tab-size:2] print:break-inside-avoid\">\n          <code>{props.children}</code>\n        </pre>\n      </div>\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateLeafProps } from '@udecode/plate';\n\nimport { SlateLeaf } from '@udecode/plate';\n\nexport function CodeLeafStatic(props: SlateLeafProps) {\n  return (\n    <SlateLeaf\n      {...props}\n      as=\"code\"\n      className=\"rounded-md bg-muted px-[0.3em] py-[0.2em] font-mono text-sm whitespace-pre-wrap\"\n    >\n      {props.children}\n    </SlateLeaf>\n  );\n}\n","import * as React from 'react';\n\nimport { type SlateElementProps, SlateElement } from '@udecode/plate';\n\nexport function CodeLineElementStatic(props: SlateElementProps) {\n  return <SlateElement {...props} />;\n}\n","import * as React from 'react';\n\nimport { type SlateLeafProps, SlateLeaf } from '@udecode/plate';\n\nexport function CodeSyntaxLeafStatic(props: SlateLeafProps) {\n  const tokenClassName = props.leaf.className as string;\n\n  return <SlateLeaf className={tokenClassName} {...props} />;\n}\n","import * as React from 'react';\n\nimport type { TColumnElement } from '@udecode/plate-layout';\n\nimport { type SlateElementProps, SlateElement } from '@udecode/plate';\n\nexport function ColumnElementStatic(props: SlateElementProps<TColumnElement>) {\n  const { width } = props.element;\n\n  return (\n    <div className=\"group/column relative\" style={{ width: width ?? '100%' }}>\n      <SlateElement\n        className=\"h-full px-2 pt-2 group-first/column:pl-0 group-last/column:pr-0\"\n        {...props}\n      >\n        <div className=\"relative h-full border border-transparent p-1.5\">\n          {props.children}\n        </div>\n      </SlateElement>\n    </div>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\n\nimport { SlateElement } from '@udecode/plate';\n\nexport function ColumnGroupElementStatic(props: SlateElementProps) {\n  return (\n    <SlateElement className=\"mb-2\" {...props}>\n      <div className=\"flex size-full rounded\">{props.children}</div>\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateLeafProps } from '@udecode/plate';\nimport type { TCommentText } from '@udecode/plate-comments';\n\nimport { SlateLeaf } from '@udecode/plate';\n\nexport function CommentLeafStatic(props: SlateLeafProps<TCommentText>) {\n  return (\n    <SlateLeaf\n      {...props}\n      className=\"border-b-2 border-b-highlight/35 bg-highlight/15\"\n    >\n      {props.children}\n    </SlateLeaf>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TDateElement } from '@udecode/plate-date';\n\nimport { SlateElement } from '@udecode/plate';\n\nexport function DateElementStatic(props: SlateElementProps<TDateElement>) {\n  const { element } = props;\n\n  return (\n    <SlateElement className=\"inline-block\" {...props}>\n      <span className=\"w-fit rounded-sm bg-muted px-1 text-muted-foreground\">\n        {element.date ? (\n          (() => {\n            const today = new Date();\n            const elementDate = new Date(element.date);\n            const isToday =\n              elementDate.getDate() === today.getDate() &&\n              elementDate.getMonth() === today.getMonth() &&\n              elementDate.getFullYear() === today.getFullYear();\n\n            const isYesterday =\n              new Date(today.setDate(today.getDate() - 1)).toDateString() ===\n              elementDate.toDateString();\n            const isTomorrow =\n              new Date(today.setDate(today.getDate() + 2)).toDateString() ===\n              elementDate.toDateString();\n\n            if (isToday) return 'Today';\n            if (isYesterday) return 'Yesterday';\n            if (isTomorrow) return 'Tomorrow';\n\n            return elementDate.toLocaleDateString(undefined, {\n              day: 'numeric',\n              month: 'long',\n              year: 'numeric',\n            });\n          })()\n        ) : (\n          <span>Pick a date</span>\n        )}\n      </span>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\n\nimport { SlateElement } from '@udecode/plate';\nimport { type VariantProps, cva } from 'class-variance-authority';\n\nconst headingVariants = cva('relative mb-1', {\n  variants: {\n    variant: {\n      h1: 'mt-[1.6em] pb-1 font-heading text-4xl font-bold',\n      h2: 'mt-[1.4em] pb-px font-heading text-2xl font-semibold tracking-tight',\n      h3: 'mt-[1em] pb-px font-heading text-xl font-semibold tracking-tight',\n      h4: 'mt-[0.75em] font-heading text-lg font-semibold tracking-tight',\n      h5: 'mt-[0.75em] text-lg font-semibold tracking-tight',\n      h6: 'mt-[0.75em] text-base font-semibold tracking-tight',\n    },\n  },\n});\n\nexport function HeadingElementStatic({\n  variant = 'h1',\n  ...props\n}: SlateElementProps & VariantProps<typeof headingVariants>) {\n  return (\n    <SlateElement\n      as={variant!}\n      className={headingVariants({ variant })}\n      {...props}\n    >\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateLeafProps } from '@udecode/plate';\n\nimport { SlateLeaf } from '@udecode/plate';\n\nexport function HighlightLeafStatic(props: SlateLeafProps) {\n  return (\n    <SlateLeaf {...props} as=\"mark\" className=\"bg-highlight/30 text-inherit\">\n      {props.children}\n    </SlateLeaf>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\n\nimport { SlateElement } from '@udecode/plate';\n\nimport { cn } from '@/lib/utils';\n\nexport function HrElementStatic(props: SlateElementProps) {\n  return (\n    <SlateElement {...props}>\n      <div className=\"cursor-text py-6\" contentEditable={false}>\n        <hr\n          className={cn(\n            'h-0.5 rounded-sm border-none bg-muted bg-clip-content'\n          )}\n        />\n      </div>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TCaptionElement } from '@udecode/plate-caption';\nimport type { TImageElement } from '@udecode/plate-media';\n\nimport { NodeApi, SlateElement } from '@udecode/plate';\n\nimport { cn } from '@/lib/utils';\n\nexport function ImageElementStatic(\n  props: SlateElementProps<TImageElement & TCaptionElement & { width: number }>\n) {\n  const { align = 'center', caption, url, width } = props.element;\n\n  return (\n    <SlateElement {...props} className=\"py-2.5\">\n      <figure className=\"group relative m-0 inline-block\" style={{ width }}>\n        <div\n          className=\"relative max-w-full min-w-[92px]\"\n          style={{ textAlign: align }}\n        >\n          <img\n            className={cn(\n              'w-full max-w-full cursor-default object-cover px-0',\n              'rounded-sm'\n            )}\n            alt={(props.attributes as any).alt}\n            src={url}\n          />\n          {caption && (\n            <figcaption className=\"mx-auto mt-2 h-[24px] max-w-full\">\n              {NodeApi.string(caption[0])}\n            </figcaption>\n          )}\n        </div>\n      </figure>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateRenderElementProps } from '@udecode/plate';\nimport type { TIndentElement } from '@udecode/plate-indent';\n\nexport const FireMarker = (\n  props: Omit<SlateRenderElementProps, 'children'>\n) => {\n  const { element } = props;\n\n  return (\n    <div contentEditable={false}>\n      <span\n        className=\"select-none\"\n        style={{ left: -26, position: 'absolute', top: -1 }}\n        data-plate-prevent-deserialization\n        contentEditable={false}\n      >\n        {(element as TIndentElement).indent % 2 === 0 ? '' : ''}\n      </span>\n    </div>\n  );\n};\n\nexport const FireLiComponent = (props: SlateRenderElementProps) => {\n  const { children } = props;\n\n  return <li className=\"list-none\">{children}</li>;\n};\n","import * as React from 'react';\n\nimport type { SlateRenderElementProps } from '@udecode/plate';\n\nimport { CheckIcon } from 'lucide-react';\n\nimport { cn } from '@/lib/utils';\n\nexport function TodoMarkerStatic(\n  props: Omit<SlateRenderElementProps, 'children'>\n) {\n  return (\n    <div contentEditable={false}>\n      <CheckboxStatic\n        className=\"pointer-events-none absolute top-1 -left-6\"\n        checked={props.element.checked as boolean}\n      />\n    </div>\n  );\n}\n\nexport function TodoLiStatic(props: SlateRenderElementProps) {\n  return (\n    <li\n      className={cn(\n        'list-none',\n        (props.element.checked as boolean) &&\n          'text-muted-foreground line-through'\n      )}\n    >\n      {props.children}\n    </li>\n  );\n}\n\ntype CheckboxStaticProps = {\n  checked: boolean;\n  className?: string;\n  style?: React.CSSProperties;\n};\n\nfunction CheckboxStatic(props: CheckboxStaticProps) {\n  return (\n    <button\n      className={cn(\n        'peer size-4 shrink-0 rounded-sm border border-primary bg-background ring-offset-background focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground',\n        props.className\n      )}\n      style={props.style}\n      data-state={props.checked ? 'checked' : 'unchecked'}\n      type=\"button\"\n    >\n      <div className={cn('flex items-center justify-center text-current')}>\n        {props.checked && <CheckIcon className=\"size-4\" />}\n      </div>\n    </button>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateLeafProps } from '@udecode/plate';\n\nimport { SlateLeaf } from '@udecode/plate';\n\nexport function KbdLeafStatic(props: SlateLeafProps) {\n  return (\n    <SlateLeaf\n      {...props}\n      as=\"kbd\"\n      className=\"rounded border border-border bg-muted px-1.5 py-0.5 font-mono text-sm shadow-[rgba(255,_255,_255,_0.1)_0px_0.5px_0px_0px_inset,_rgb(248,_249,_250)_0px_1px_5px_0px_inset,_rgb(193,_200,_205)_0px_0px_0px_0.5px,_rgb(193,_200,_205)_0px_2px_1px_-1px,_rgb(193,_200,_205)_0px_1px_0px_0px] dark:shadow-[rgba(255,_255,_255,_0.1)_0px_0.5px_0px_0px_inset,_rgb(26,_29,_30)_0px_1px_5px_0px_inset,_rgb(76,_81,_85)_0px_0px_0px_0.5px,_rgb(76,_81,_85)_0px_2px_1px_-1px,_rgb(76,_81,_85)_0px_1px_0px_0px]\"\n    >\n      {props.children}\n    </SlateLeaf>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TLinkElement } from '@udecode/plate-link';\n\nimport { SlateElement } from '@udecode/plate';\n\nexport function LinkElementStatic(props: SlateElementProps<TLinkElement>) {\n  return (\n    <SlateElement\n      {...props}\n      as=\"a\"\n      className=\"font-medium text-primary underline decoration-primary underline-offset-4\"\n    >\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TAudioElement } from '@udecode/plate-media';\n\nimport { SlateElement } from '@udecode/plate';\n\nexport function MediaAudioElementStatic(\n  props: SlateElementProps<TAudioElement>\n) {\n  return (\n    <SlateElement {...props} className=\"mb-1\">\n      <figure className=\"group relative cursor-default\">\n        <div className=\"h-16\">\n          <audio className=\"size-full\" src={props.element.url} controls />\n        </div>\n      </figure>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TFileElement } from '@udecode/plate-media';\n\nimport { SlateElement } from '@udecode/plate';\nimport { FileUp } from 'lucide-react';\n\nexport function MediaFileElementStatic(props: SlateElementProps<TFileElement>) {\n  const { name, url } = props.element;\n\n  return (\n    <SlateElement className=\"my-px rounded-sm\" {...props}>\n      <a\n        className=\"group relative m-0 flex cursor-pointer items-center rounded px-0.5 py-[3px] hover:bg-muted\"\n        contentEditable={false}\n        download={name}\n        href={url}\n        rel=\"noopener noreferrer\"\n        role=\"button\"\n        target=\"_blank\"\n      >\n        <div className=\"flex items-center gap-1 p-1\">\n          <FileUp className=\"size-5\" />\n          <div>{name}</div>\n        </div>\n      </a>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TCaptionElement } from '@udecode/plate-caption';\nimport type { TVideoElement } from '@udecode/plate-media';\n\nimport { NodeApi, SlateElement } from '@udecode/plate';\n\nexport function MediaVideoElementStatic(\n  props: SlateElementProps<TVideoElement & TCaptionElement & { width: number }>\n) {\n  const { align = 'center', caption, url, width } = props.element;\n\n  return (\n    <SlateElement className=\"py-2.5\" {...props}>\n      <div style={{ textAlign: align }}>\n        <figure\n          className=\"group relative m-0 inline-block cursor-default\"\n          style={{ width }}\n        >\n          <video\n            className=\"w-full max-w-full rounded-sm object-cover px-0\"\n            src={url}\n            controls\n          />\n          {caption && <figcaption>{NodeApi.string(caption[0])}</figcaption>}\n        </figure>\n      </div>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TMentionElement } from '@udecode/plate-mention';\n\nimport { IS_APPLE, SlateElement } from '@udecode/plate';\n\nimport { cn } from '@/lib/utils';\n\nexport function MentionElementStatic(\n  props: SlateElementProps<TMentionElement> & {\n    prefix?: string;\n  }\n) {\n  const { prefix } = props;\n  const element = props.element;\n\n  return (\n    <SlateElement\n      className={cn(\n        'inline-block rounded-md bg-muted px-1.5 py-0.5 align-baseline text-sm font-medium',\n        element.children[0].bold === true && 'font-bold',\n        element.children[0].italic === true && 'italic',\n        element.children[0].underline === true && 'underline'\n      )}\n      data-slate-value={element.value}\n      {...props}\n    >\n      {IS_APPLE ? (\n        // Mac OS IME https://github.com/ianstormtaylor/slate/issues/3490\n        <React.Fragment>\n          {props.children}\n          {prefix}\n          {element.value}\n        </React.Fragment>\n      ) : (\n        // Others like Android https://github.com/ianstormtaylor/slate/pull/5360\n        <React.Fragment>\n          {prefix}\n          {element.value}\n          {props.children}\n        </React.Fragment>\n      )}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\n\nimport { SlateElement } from '@udecode/plate';\n\nimport { cn } from '@/lib/utils';\n\nexport function ParagraphElementStatic(props: SlateElementProps) {\n  return (\n    <SlateElement {...props} className={cn('m-0 px-0 py-1')}>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TTableCellElement } from '@udecode/plate-table';\n\nimport { SlateElement } from '@udecode/plate';\nimport { BaseTablePlugin } from '@udecode/plate-table';\n\nimport { cn } from '@/lib/utils';\n\nexport function TableCellElementStatic({\n  isHeader,\n  ...props\n}: SlateElementProps<TTableCellElement> & {\n  isHeader?: boolean;\n}) {\n  const { editor, element } = props;\n  const { api } = editor.getPlugin(BaseTablePlugin);\n\n  const { minHeight, width } = api.table.getCellSize({ element });\n  const borders = api.table.getCellBorders({ element });\n\n  return (\n    <SlateElement\n      {...props}\n      as={isHeader ? 'th' : 'td'}\n      className={cn(\n        'h-full overflow-visible border-none bg-background p-0',\n        element.background ? 'bg-(--cellBackground)' : 'bg-background',\n        isHeader && 'text-left font-normal *:m-0',\n        'before:size-full',\n        \"before:absolute before:box-border before:content-[''] before:select-none\",\n        borders &&\n          cn(\n            borders.bottom?.size && `before:border-b before:border-b-border`,\n            borders.right?.size && `before:border-r before:border-r-border`,\n            borders.left?.size && `before:border-l before:border-l-border`,\n            borders.top?.size && `before:border-t before:border-t-border`\n          )\n      )}\n      style={\n        {\n          '--cellBackground': element.background,\n          maxWidth: width || 240,\n          minWidth: width || 120,\n        } as React.CSSProperties\n      }\n      attributes={{\n        ...props.attributes,\n        colSpan: api.table.getColSpan(element),\n        rowSpan: api.table.getRowSpan(element),\n      }}\n    >\n      <div\n        className=\"relative z-20 box-border h-full px-4 py-2\"\n        style={{ minHeight }}\n      >\n        {props.children}\n      </div>\n    </SlateElement>\n  );\n}\n\nexport function TableCellHeaderStaticElement(\n  props: SlateElementProps<TTableCellElement>\n) {\n  return <TableCellElementStatic {...props} isHeader />;\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TTableElement } from '@udecode/plate-table';\n\nimport { SlateElement } from '@udecode/plate';\nimport { BaseTablePlugin } from '@udecode/plate-table';\n\nexport function TableElementStatic({\n  children,\n  ...props\n}: SlateElementProps<TTableElement>) {\n  const { disableMarginLeft } = props.editor.getOptions(BaseTablePlugin);\n  const marginLeft = disableMarginLeft ? 0 : props.element.marginLeft;\n\n  return (\n    <SlateElement\n      {...props}\n      className=\"overflow-x-auto py-5\"\n      style={{ paddingLeft: marginLeft }}\n    >\n      <div className=\"group/table relative w-fit\">\n        <table className=\"mr-0 ml-px table h-px table-fixed border-collapse\">\n          <tbody className=\"min-w-full\">{children}</tbody>\n        </table>\n      </div>\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\n\nimport { SlateElement } from '@udecode/plate';\n\nexport function TableRowElementStatic(props: SlateElementProps) {\n  return (\n    <SlateElement {...props} as=\"tr\" className=\"h-full\">\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateEditor, SlateElementProps, TElement } from '@udecode/plate';\n\nimport { NodeApi, SlateElement } from '@udecode/plate';\nimport {\n  type Heading,\n  BaseTocPlugin,\n  HEADING_KEYS,\n  isHeading,\n} from '@udecode/plate-heading';\nimport { cva } from 'class-variance-authority';\n\nimport { Button } from '@/components/ui/button';\n\nconst headingItemVariants = cva(\n  'block h-auto w-full cursor-pointer truncate rounded-none px-0.5 py-1.5 text-left font-medium text-muted-foreground underline decoration-[0.5px] underline-offset-4 hover:bg-accent hover:text-muted-foreground',\n  {\n    variants: {\n      depth: {\n        1: 'pl-0.5',\n        2: 'pl-[26px]',\n        3: 'pl-[50px]',\n      },\n    },\n  }\n);\n\nexport function TocElementStatic(props: SlateElementProps) {\n  const { editor } = props;\n  const headingList = getHeadingList(editor);\n\n  return (\n    <SlateElement {...props} className=\"mb-1 p-0\">\n      <div>\n        {headingList.length > 0 ? (\n          headingList.map((item) => (\n            <Button\n              key={item.title}\n              variant=\"ghost\"\n              className={headingItemVariants({\n                depth: item.depth as 1 | 2 | 3,\n              })}\n            >\n              {item.title}\n            </Button>\n          ))\n        ) : (\n          <div className=\"text-sm text-gray-500\">\n            Create a heading to display the table of contents.\n          </div>\n        )}\n      </div>\n      {props.children}\n    </SlateElement>\n  );\n}\n\nconst headingDepth: Record<string, number> = {\n  [HEADING_KEYS.h1]: 1,\n  [HEADING_KEYS.h2]: 2,\n  [HEADING_KEYS.h3]: 3,\n  [HEADING_KEYS.h4]: 4,\n  [HEADING_KEYS.h5]: 5,\n  [HEADING_KEYS.h6]: 6,\n};\n\nconst getHeadingList = (editor?: SlateEditor) => {\n  if (!editor) return [];\n\n  const options = editor.getOptions(BaseTocPlugin);\n\n  if (options.queryHeading) {\n    return options.queryHeading(editor);\n  }\n\n  const headingList: Heading[] = [];\n\n  const values = editor.api.nodes<TElement>({\n    at: [],\n    match: (n) => isHeading(n),\n  });\n\n  if (!values) return [];\n\n  Array.from(values, ([node, path]) => {\n    const { type } = node;\n    const title = NodeApi.string(node);\n    const depth = headingDepth[type];\n    const id = node.id as string;\n\n    if (title) {\n      headingList.push({ id, depth, path, title, type });\n    }\n  });\n\n  return headingList;\n};\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\n\nimport { SlateElement } from '@udecode/plate';\nimport { ChevronRight } from 'lucide-react';\n\nexport function ToggleElementStatic(props: SlateElementProps) {\n  return (\n    <SlateElement {...props} className=\"pl-6\">\n      <div\n        className=\"absolute top-0 -left-0.5 size-6 cursor-pointer items-center justify-center rounded-md p-px text-muted-foreground transition-colors select-none hover:bg-accent [&_svg]:size-4\"\n        contentEditable={false}\n      >\n        <ChevronRight className=\"rotate-0 transition-transform duration-75\" />\n      </div>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { VariantProps } from 'class-variance-authority';\n\nimport { type PlateStaticProps, PlateStatic } from '@udecode/plate';\nimport { cva } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\nexport const editorVariants = cva(\n  cn(\n    'group/editor',\n    'relative w-full cursor-text overflow-x-hidden break-words whitespace-pre-wrap select-text',\n    'rounded-md ring-offset-background focus-visible:outline-none',\n    'placeholder:text-muted-foreground/80 **:data-slate-placeholder:top-[auto_!important] **:data-slate-placeholder:text-muted-foreground/80 **:data-slate-placeholder:opacity-100!',\n    '[&_strong]:font-bold'\n  ),\n  {\n    defaultVariants: {\n      variant: 'none',\n    },\n    variants: {\n      disabled: {\n        true: 'cursor-not-allowed opacity-50',\n      },\n      focused: {\n        true: 'ring-2 ring-ring ring-offset-2',\n      },\n      variant: {\n        ai: 'w-full px-0 text-base md:text-sm',\n        aiChat:\n          'max-h-[min(70vh,320px)] w-full max-w-[700px] overflow-y-auto px-5 py-3 text-base md:text-sm',\n        default:\n          'size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]',\n        demo: 'size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]',\n        fullWidth: 'size-full px-16 pt-4 pb-72 text-base sm:px-24',\n        none: '',\n        select: 'px-3 py-2 text-base data-readonly:w-fit',\n      },\n    },\n  }\n);\n\nexport function EditorStatic({\n  className,\n  variant,\n  ...props\n}: PlateStaticProps & VariantProps<typeof editorVariants>) {\n  return (\n    <PlateStatic\n      className={cn(editorVariants({ variant }), className)}\n      {...props}\n    />\n  );\n}\n","import * as React from 'react';\n\nimport { type SlateElementProps, SlateElement } from '@udecode/plate';\nimport { type TEquationElement, getEquationHtml } from '@udecode/plate-math';\nimport { RadicalIcon } from 'lucide-react';\n\nimport { cn } from '@/lib/utils';\n\nexport function EquationElementStatic(\n  props: SlateElementProps<TEquationElement>\n) {\n  const { element } = props;\n\n  const html = getEquationHtml({\n    element,\n    options: {\n      displayMode: true,\n      errorColor: '#cc0000',\n      fleqn: false,\n      leqno: false,\n      macros: { '\\\\f': '#1f(#2)' },\n      output: 'htmlAndMathml',\n      strict: 'warn',\n      throwOnError: false,\n      trust: false,\n    },\n  });\n\n  return (\n    <SlateElement className=\"my-1\" {...props}>\n      <div\n        className={cn(\n          'group flex items-center justify-center rounded-sm select-none hover:bg-primary/10 data-[selected=true]:bg-primary/10',\n          element.texExpression.length === 0 ? 'bg-muted p-3 pr-9' : 'px-2 py-1'\n        )}\n      >\n        {element.texExpression.length > 0 ? (\n          <span\n            dangerouslySetInnerHTML={{\n              __html: html,\n            }}\n          />\n        ) : (\n          <div className=\"flex h-7 w-full items-center gap-2 text-sm whitespace-nowrap text-muted-foreground\">\n            <RadicalIcon className=\"size-6 text-muted-foreground/80\" />\n            <div>Add a Tex equation</div>\n          </div>\n        )}\n      </div>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TEquationElement } from '@udecode/plate-math';\n\nimport { SlateElement } from '@udecode/plate';\nimport { getEquationHtml } from '@udecode/plate-math';\n\nimport { cn } from '@/lib/utils';\n\nexport function InlineEquationElementStatic(\n  props: SlateElementProps<TEquationElement>\n) {\n  const html = getEquationHtml({\n    element: props.element,\n    options: {\n      displayMode: true,\n      errorColor: '#cc0000',\n      fleqn: false,\n      leqno: false,\n      macros: { '\\\\f': '#1f(#2)' },\n      output: 'htmlAndMathml',\n      strict: 'warn',\n      throwOnError: false,\n      trust: false,\n    },\n  });\n\n  return (\n    <SlateElement\n      {...props}\n      className=\"inline-block rounded-sm select-none [&_.katex-display]:my-0\"\n    >\n      <div\n        className={cn(\n          'after:absolute after:inset-0 after:-top-0.5 after:-left-1 after:z-1 after:h-[calc(100%)+4px] after:w-[calc(100%+8px)] after:rounded-sm after:content-[\"\"]',\n          'h-6',\n          props.element.texExpression.length === 0 &&\n            'text-muted-foreground after:bg-neutral-500/10'\n        )}\n      >\n        <span\n          className={cn(\n            props.element.texExpression.length === 0 && 'hidden',\n            'font-mono leading-none'\n          )}\n          dangerouslySetInnerHTML={{ __html: html }}\n        />\n      </div>\n      {props.children}\n    </SlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\n\nimport { withProps } from '@udecode/cn';\nimport {\n  BaseParagraphPlugin,\n  createSlateEditor,\n  serializeHtml,\n  SlateLeaf,\n} from '@udecode/plate';\nimport { BaseAlignPlugin } from '@udecode/plate-alignment';\nimport {\n  BaseBoldPlugin,\n  BaseCodePlugin,\n  BaseItalicPlugin,\n  BaseStrikethroughPlugin,\n  BaseSubscriptPlugin,\n  BaseSuperscriptPlugin,\n  BaseUnderlinePlugin,\n} from '@udecode/plate-basic-marks';\nimport { BaseBlockquotePlugin } from '@udecode/plate-block-quote';\nimport {\n  BaseCodeBlockPlugin,\n  BaseCodeLinePlugin,\n  BaseCodeSyntaxPlugin,\n} from '@udecode/plate-code-block';\nimport { BaseCommentsPlugin } from '@udecode/plate-comments';\nimport { BaseDatePlugin } from '@udecode/plate-date';\nimport {\n  BaseFontBackgroundColorPlugin,\n  BaseFontColorPlugin,\n  BaseFontSizePlugin,\n} from '@udecode/plate-font';\nimport {\n  BaseHeadingPlugin,\n  BaseTocPlugin,\n  HEADING_KEYS,\n  HEADING_LEVELS,\n} from '@udecode/plate-heading';\nimport { BaseHighlightPlugin } from '@udecode/plate-highlight';\nimport { BaseHorizontalRulePlugin } from '@udecode/plate-horizontal-rule';\nimport { BaseIndentPlugin } from '@udecode/plate-indent';\nimport { BaseIndentListPlugin } from '@udecode/plate-indent-list';\nimport { BaseKbdPlugin } from '@udecode/plate-kbd';\nimport { BaseColumnItemPlugin, BaseColumnPlugin } from '@udecode/plate-layout';\nimport { BaseLineHeightPlugin } from '@udecode/plate-line-height';\nimport { BaseLinkPlugin } from '@udecode/plate-link';\nimport { MarkdownPlugin } from '@udecode/plate-markdown';\nimport {\n  BaseEquationPlugin,\n  BaseInlineEquationPlugin,\n} from '@udecode/plate-math';\nimport {\n  BaseAudioPlugin,\n  BaseFilePlugin,\n  BaseImagePlugin,\n  BaseMediaEmbedPlugin,\n  BaseVideoPlugin,\n} from '@udecode/plate-media';\nimport { BaseMentionPlugin } from '@udecode/plate-mention';\nimport {\n  BaseTableCellHeaderPlugin,\n  BaseTableCellPlugin,\n  BaseTablePlugin,\n  BaseTableRowPlugin,\n} from '@udecode/plate-table';\nimport { BaseTogglePlugin } from '@udecode/plate-toggle';\nimport { useEditorRef } from '@udecode/plate/react';\nimport { all, createLowlight } from 'lowlight';\nimport { ArrowDownToLineIcon } from 'lucide-react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { BlockquoteElementStatic } from '@/components/ui/blockquote-element-static';\nimport { CodeBlockElementStatic } from '@/components/ui/code-block-element-static';\nimport { CodeLeafStatic } from '@/components/ui/code-leaf-static';\nimport { CodeLineElementStatic } from '@/components/ui/code-line-element-static';\nimport { CodeSyntaxLeafStatic } from '@/components/ui/code-syntax-leaf-static';\nimport { ColumnElementStatic } from '@/components/ui/column-element-static';\nimport { ColumnGroupElementStatic } from '@/components/ui/column-group-element-static';\nimport { CommentLeafStatic } from '@/components/ui/comment-leaf-static';\nimport { DateElementStatic } from '@/components/ui/date-element-static';\nimport { HeadingElementStatic } from '@/components/ui/heading-element-static';\nimport { HighlightLeafStatic } from '@/components/ui/highlight-leaf-static';\nimport { HrElementStatic } from '@/components/ui/hr-element-static';\nimport { ImageElementStatic } from '@/components/ui/image-element-static';\nimport { FireLiComponent, FireMarker } from '@/components/ui/indent-fire-marker';\nimport {\n  TodoLiStatic,\n  TodoMarkerStatic,\n} from '@/components/ui/indent-todo-marker-static';\nimport { KbdLeafStatic } from '@/components/ui/kbd-leaf-static';\nimport { LinkElementStatic } from '@/components/ui/link-element-static';\nimport { MediaAudioElementStatic } from '@/components/ui/media-audio-element-static';\nimport { MediaFileElementStatic } from '@/components/ui/media-file-element-static';\nimport { MediaVideoElementStatic } from '@/components/ui/media-video-element-static';\nimport { MentionElementStatic } from '@/components/ui/mention-element-static';\nimport { ParagraphElementStatic } from '@/components/ui/paragraph-element-static';\nimport {\n  TableCellElementStatic,\n  TableCellHeaderStaticElement,\n} from '@/components/ui/table-cell-element-static';\nimport { TableElementStatic } from '@/components/ui/table-element-static';\nimport { TableRowElementStatic } from '@/components/ui/table-row-element-static';\nimport { TocElementStatic } from '@/components/ui/toc-element-static';\nimport { ToggleElementStatic } from '@/components/ui/toggle-element-static';\n\nimport { EditorStatic } from './editor-static';\nimport { EquationElementStatic } from './equation-element-static';\nimport { InlineEquationElementStatic } from './inline-equation-element-static';\nimport { ToolbarButton } from './toolbar';\n\nconst siteUrl = 'https://platejs.org';\nconst lowlight = createLowlight(all);\n\nexport function ExportToolbarButton(props: DropdownMenuProps) {\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false);\n\n  const getCanvas = async () => {\n    const { default: html2canvas } = await import('html2canvas-pro');\n\n    const style = document.createElement('style');\n    document.head.append(style);\n\n    const canvas = await html2canvas(editor.api.toDOMNode(editor)!, {\n      onclone: (document: Document) => {\n        const editorElement = document.querySelector(\n          '[contenteditable=\"true\"]'\n        );\n        if (editorElement) {\n          Array.from(editorElement.querySelectorAll('*')).forEach((element) => {\n            const existingStyle = element.getAttribute('style') || '';\n            element.setAttribute(\n              'style',\n              `${existingStyle}; font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif !important`\n            );\n          });\n        }\n      },\n    });\n    style.remove();\n\n    return canvas;\n  };\n\n  const downloadFile = async (url: string, filename: string) => {\n    const response = await fetch(url);\n\n    const blob = await response.blob();\n    const blobUrl = window.URL.createObjectURL(blob);\n\n    const link = document.createElement('a');\n    link.href = blobUrl;\n    link.download = filename;\n    document.body.append(link);\n    link.click();\n    link.remove();\n\n    // Clean up the blob URL\n    window.URL.revokeObjectURL(blobUrl);\n  };\n\n  const exportToPdf = async () => {\n    const canvas = await getCanvas();\n\n    const PDFLib = await import('pdf-lib');\n    const pdfDoc = await PDFLib.PDFDocument.create();\n    const page = pdfDoc.addPage([canvas.width, canvas.height]);\n    const imageEmbed = await pdfDoc.embedPng(canvas.toDataURL('PNG'));\n    const { height, width } = imageEmbed.scale(1);\n    page.drawImage(imageEmbed, {\n      height,\n      width,\n      x: 0,\n      y: 0,\n    });\n    const pdfBase64 = await pdfDoc.saveAsBase64({ dataUri: true });\n\n    await downloadFile(pdfBase64, 'plate.pdf');\n  };\n\n  const exportToImage = async () => {\n    const canvas = await getCanvas();\n    await downloadFile(canvas.toDataURL('image/png'), 'plate.png');\n  };\n\n  const exportToHtml = async () => {\n    const components = {\n      [BaseAudioPlugin.key]: MediaAudioElementStatic,\n      [BaseBlockquotePlugin.key]: BlockquoteElementStatic,\n      [BaseBoldPlugin.key]: withProps(SlateLeaf, { as: 'strong' }),\n      [BaseCodeBlockPlugin.key]: CodeBlockElementStatic,\n      [BaseCodeLinePlugin.key]: CodeLineElementStatic,\n      [BaseCodePlugin.key]: CodeLeafStatic,\n      [BaseCodeSyntaxPlugin.key]: CodeSyntaxLeafStatic,\n      [BaseColumnItemPlugin.key]: ColumnElementStatic,\n      [BaseColumnPlugin.key]: ColumnGroupElementStatic,\n      [BaseCommentsPlugin.key]: CommentLeafStatic,\n      [BaseDatePlugin.key]: DateElementStatic,\n      [BaseEquationPlugin.key]: EquationElementStatic,\n      [BaseFilePlugin.key]: MediaFileElementStatic,\n      [BaseHighlightPlugin.key]: HighlightLeafStatic,\n      [BaseHorizontalRulePlugin.key]: HrElementStatic,\n      [BaseImagePlugin.key]: ImageElementStatic,\n      [BaseInlineEquationPlugin.key]: InlineEquationElementStatic,\n      [BaseItalicPlugin.key]: withProps(SlateLeaf, { as: 'em' }),\n      [BaseKbdPlugin.key]: KbdLeafStatic,\n      [BaseLinkPlugin.key]: LinkElementStatic,\n      // [BaseMediaEmbedPlugin.key]: MediaEmbedElementStatic,\n      [BaseMentionPlugin.key]: MentionElementStatic,\n      [BaseParagraphPlugin.key]: ParagraphElementStatic,\n      [BaseStrikethroughPlugin.key]: withProps(SlateLeaf, { as: 'del' }),\n      [BaseSubscriptPlugin.key]: withProps(SlateLeaf, { as: 'sub' }),\n      [BaseSuperscriptPlugin.key]: withProps(SlateLeaf, { as: 'sup' }),\n      [BaseTableCellHeaderPlugin.key]: TableCellHeaderStaticElement,\n      [BaseTableCellPlugin.key]: TableCellElementStatic,\n      [BaseTablePlugin.key]: TableElementStatic,\n      [BaseTableRowPlugin.key]: TableRowElementStatic,\n      [BaseTocPlugin.key]: TocElementStatic,\n      [BaseTogglePlugin.key]: ToggleElementStatic,\n      [BaseUnderlinePlugin.key]: withProps(SlateLeaf, { as: 'u' }),\n      [BaseVideoPlugin.key]: MediaVideoElementStatic,\n      [HEADING_KEYS.h1]: withProps(HeadingElementStatic, { variant: 'h1' }),\n      [HEADING_KEYS.h2]: withProps(HeadingElementStatic, { variant: 'h2' }),\n      [HEADING_KEYS.h3]: withProps(HeadingElementStatic, { variant: 'h3' }),\n      [HEADING_KEYS.h4]: withProps(HeadingElementStatic, { variant: 'h4' }),\n      [HEADING_KEYS.h5]: withProps(HeadingElementStatic, { variant: 'h5' }),\n      [HEADING_KEYS.h6]: withProps(HeadingElementStatic, { variant: 'h6' }),\n    };\n\n    const editorStatic = createSlateEditor({\n      plugins: [\n        BaseColumnPlugin,\n        BaseColumnItemPlugin,\n        BaseTocPlugin,\n        BaseVideoPlugin,\n        BaseAudioPlugin,\n        BaseParagraphPlugin,\n        BaseHeadingPlugin,\n        BaseMediaEmbedPlugin,\n        BaseBoldPlugin,\n        BaseCodePlugin,\n        BaseItalicPlugin,\n        BaseStrikethroughPlugin,\n        BaseSubscriptPlugin,\n        BaseSuperscriptPlugin,\n        BaseUnderlinePlugin,\n        BaseBlockquotePlugin,\n        BaseDatePlugin,\n        BaseEquationPlugin,\n        BaseInlineEquationPlugin,\n        BaseCodeBlockPlugin.configure({\n          options: {\n            lowlight,\n          },\n        }),\n        BaseIndentPlugin.extend({\n          inject: {\n            targetPlugins: [\n              BaseParagraphPlugin.key,\n              BaseBlockquotePlugin.key,\n              BaseCodeBlockPlugin.key,\n            ],\n          },\n        }),\n        BaseIndentListPlugin.extend({\n          inject: {\n            targetPlugins: [\n              BaseParagraphPlugin.key,\n              ...HEADING_LEVELS,\n              BaseBlockquotePlugin.key,\n              BaseCodeBlockPlugin.key,\n              BaseTogglePlugin.key,\n            ],\n          },\n          options: {\n            listStyleTypes: {\n              fire: {\n                liComponent: FireLiComponent,\n                markerComponent: FireMarker,\n                type: 'fire',\n              },\n              todo: {\n                liComponent: TodoLiStatic,\n                markerComponent: TodoMarkerStatic,\n                type: 'todo',\n              },\n            },\n          },\n        }),\n        BaseLinkPlugin,\n        BaseTableRowPlugin,\n        BaseTablePlugin,\n        BaseTableCellPlugin,\n        BaseHorizontalRulePlugin,\n        BaseFontColorPlugin,\n        BaseFontBackgroundColorPlugin,\n        BaseFontSizePlugin,\n        BaseKbdPlugin,\n        BaseAlignPlugin.extend({\n          inject: {\n            targetPlugins: [\n              BaseParagraphPlugin.key,\n              BaseMediaEmbedPlugin.key,\n              ...HEADING_LEVELS,\n              BaseImagePlugin.key,\n            ],\n          },\n        }),\n        BaseLineHeightPlugin,\n        BaseHighlightPlugin,\n        BaseFilePlugin,\n        BaseImagePlugin,\n        BaseMentionPlugin,\n        BaseCommentsPlugin,\n        BaseTogglePlugin,\n      ],\n      value: editor.children,\n    });\n\n    const editorHtml = await serializeHtml(editorStatic, {\n      components,\n      editorComponent: EditorStatic,\n      props: { style: { padding: '0 calc(50% - 350px)', paddingBottom: '' } },\n    });\n\n    const tailwindCss = `<link rel=\"stylesheet\" href=\"${siteUrl}/tailwind.css\">`;\n    const katexCss = `<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.16.18/dist/katex.css\" integrity=\"sha384-9PvLvaiSKCPkFKB1ZsEoTjgnJn+O3KvEwtsz37/XrkYft3DTk2gHdYvd9oWgW3tV\" crossorigin=\"anonymous\">`;\n\n    const html = `<!DOCTYPE html>\n    <html lang=\"en\">\n      <head>\n        <meta charset=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n        <meta name=\"color-scheme\" content=\"light dark\" />\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin />\n        <link\n          href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400..700&family=JetBrains+Mono:wght@400..700&display=swap\"\n          rel=\"stylesheet\"\n        />\n        ${tailwindCss}\n        ${katexCss}\n        <style>\n          :root {\n            --font-sans: 'Inter', 'Inter Fallback';\n            --font-mono: 'JetBrains Mono', 'JetBrains Mono Fallback';\n          }\n        </style>\n      </head>\n      <body>\n        ${editorHtml}\n      </body>\n    </html>`;\n\n    const url = `data:text/html;charset=utf-8,${encodeURIComponent(html)}`;\n\n    await downloadFile(url, 'plate.html');\n  };\n\n  const exportToMarkdown = async () => {\n    const md = editor.getApi(MarkdownPlugin).markdown.serialize();\n    const url = `data:text/markdown;charset=utf-8,${encodeURIComponent(md)}`;\n    await downloadFile(url, 'plate.md');\n  };\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Export\" isDropdown>\n          <ArrowDownToLineIcon className=\"size-4\" />\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent align=\"start\">\n        <DropdownMenuGroup>\n          <DropdownMenuItem onSelect={exportToHtml}>\n            Export as HTML\n          </DropdownMenuItem>\n          <DropdownMenuItem onSelect={exportToPdf}>\n            Export as PDF\n          </DropdownMenuItem>\n          <DropdownMenuItem onSelect={exportToImage}>\n            Export as Image\n          </DropdownMenuItem>\n          <DropdownMenuItem onSelect={exportToMarkdown}>\n            Export as Markdown\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { useEditorRef, useEditorSelector } from '@udecode/plate/react';\nimport { Redo2Icon, Undo2Icon } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function RedoToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const editor = useEditorRef();\n  const disabled = useEditorSelector(\n    (editor) => editor.history.redos.length === 0,\n    []\n  );\n\n  return (\n    <ToolbarButton\n      {...props}\n      disabled={disabled}\n      onClick={() => editor.redo()}\n      onMouseDown={(e) => e.preventDefault()}\n      tooltip=\"Redo\"\n    >\n      <Redo2Icon />\n    </ToolbarButton>\n  );\n}\n\nexport function UndoToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const editor = useEditorRef();\n  const disabled = useEditorSelector(\n    (editor) => editor.history.undos.length === 0,\n    []\n  );\n\n  return (\n    <ToolbarButton\n      {...props}\n      disabled={disabled}\n      onClick={() => editor.undo()}\n      onMouseDown={(e) => e.preventDefault()}\n      tooltip=\"Undo\"\n    >\n      <Undo2Icon />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\n\nimport { getEditorDOMFromHtmlString } from '@udecode/plate';\nimport { MarkdownPlugin } from '@udecode/plate-markdown';\nimport { useEditorRef } from '@udecode/plate/react';\nimport { ArrowUpToLineIcon } from 'lucide-react';\nimport { useFilePicker } from 'use-file-picker';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\n\nimport { ToolbarButton } from './toolbar';\n\ntype ImportType = 'html' | 'markdown';\n\nexport function ImportToolbarButton(props: DropdownMenuProps) {\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false);\n\n  const getFileNodes = (text: string, type: ImportType) => {\n    if (type === 'html') {\n      const editorNode = getEditorDOMFromHtmlString(text);\n      const nodes = editor.api.html.deserialize({\n        element: editorNode,\n      });\n\n      return nodes;\n    }\n\n    if (type === 'markdown') {\n      return editor.getApi(MarkdownPlugin).markdown.deserialize(text);\n    }\n\n    return [];\n  };\n\n  const { openFilePicker: openMdFilePicker } = useFilePicker({\n    accept: ['.md', '.mdx'],\n    multiple: false,\n    onFilesSelected: async ({ plainFiles }) => {\n      const text = await plainFiles[0].text();\n\n      const nodes = getFileNodes(text, 'markdown');\n\n      editor.tf.insertNodes(nodes);\n    },\n  });\n\n  const { openFilePicker: openHtmlFilePicker } = useFilePicker({\n    accept: ['text/html'],\n    multiple: false,\n    onFilesSelected: async ({ plainFiles }) => {\n      const text = await plainFiles[0].text();\n\n      const nodes = getFileNodes(text, 'html');\n\n      editor.tf.insertNodes(nodes);\n    },\n  });\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Import\" isDropdown>\n          <ArrowUpToLineIcon className=\"size-4\" />\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent align=\"start\">\n        <DropdownMenuGroup>\n          <DropdownMenuItem\n            onSelect={() => {\n              openHtmlFilePicker();\n            }}\n          >\n            Import from HTML\n          </DropdownMenuItem>\n\n          <DropdownMenuItem\n            onSelect={() => {\n              openMdFilePicker();\n            }}\n          >\n            Import from Markdown\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  ListStyleType,\n  toggleIndentList,\n} from '@udecode/plate-indent-list';\nimport { useEditorRef } from '@udecode/plate/react';\nimport { ListIcon, ListOrderedIcon } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\ninterface IndentListToolbarButtonProps {\n  variant: 'bulleted' | 'numbered';\n}\n\nexport function IndentListToolbarButton({ variant }: IndentListToolbarButtonProps) {\n  const editor = useEditorRef();\n\n  const handleClick = () => {\n    if (variant === 'numbered') {\n      toggleIndentList(editor, {\n        listStyleType: ListStyleType.Decimal,\n      });\n    } else {\n      toggleIndentList(editor, {\n        listStyleType: ListStyleType.Disc,\n      });\n    }\n  };\n\n  return (\n    <ToolbarButton\n      onClick={handleClick}\n      tooltip={variant === 'numbered' ? 'Numbered List' : 'Bulleted List'}\n    >\n      {variant === 'numbered' ? <ListOrderedIcon /> : <ListIcon />}\n    </ToolbarButton>\n  );\n}\n\n// Legacy exports for backward compatibility\nexport function BulletedIndentListToolbarButton(props: any) {\n  return <IndentListToolbarButton variant=\"bulleted\" {...props} />;\n}\n\nexport function NumberedIndentListToolbarButton(props: any) {\n  return <IndentListToolbarButton variant=\"numbered\" {...props} />;\n}","'use client';\n\nimport * as React from 'react';\n\nimport {\n  useIndentTodoToolBarButton,\n  useIndentTodoToolBarButtonState,\n} from '@udecode/plate-indent-list/react';\nimport { ListTodoIcon } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function IndentTodoToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const state = useIndentTodoToolBarButtonState({ nodeType: 'todo' });\n  const { props: buttonProps } = useIndentTodoToolBarButton(state);\n\n  return (\n    <ToolbarButton {...props} {...buttonProps} tooltip=\"Todo\">\n      <ListTodoIcon />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  useLinkToolbarButton,\n  useLinkToolbarButtonState,\n} from '@udecode/plate-link/react';\nimport { Link } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function LinkToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const state = useLinkToolbarButtonState();\n  const { props: buttonProps } = useLinkToolbarButton(state);\n\n  return (\n    <ToolbarButton {...props} {...buttonProps} data-plate-focus tooltip=\"Link\">\n      <Link />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  useMarkToolbarButton,\n  useMarkToolbarButtonState,\n} from '@udecode/plate/react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function MarkToolbarButton({\n  clear,\n  nodeType,\n  ...props\n}: React.ComponentProps<typeof ToolbarButton> & {\n  nodeType: string;\n  clear?: string[] | string;\n}) {\n  const state = useMarkToolbarButtonState({ clear, nodeType });\n  const { props: buttonProps } = useMarkToolbarButton(state);\n\n  return <ToolbarButton {...props} {...buttonProps} />;\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn(\"text-lg font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: \"outline\" }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        ref={ref}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        type={type}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }","'use client';\n\nimport * as React from 'react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\n\nimport { isUrl } from '@udecode/plate';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  PlaceholderPlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport { useEditorRef } from '@udecode/plate/react';\nimport {\n  AudioLinesIcon,\n  FileUpIcon,\n  FilmIcon,\n  ImageIcon,\n  LinkIcon,\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport { useFilePicker } from 'use-file-picker';\n\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { Input } from '@/components/ui/input';\n\nimport {\n  ToolbarSplitButton,\n  ToolbarSplitButtonPrimary,\n  ToolbarSplitButtonSecondary,\n} from './toolbar';\n\nconst MEDIA_CONFIG: Record<\n  string,\n  {\n    accept: string[];\n    icon: React.ReactNode;\n    title: string;\n    tooltip: string;\n  }\n> = {\n  [AudioPlugin.key]: {\n    accept: ['audio/*'],\n    icon: <AudioLinesIcon className=\"size-4\" />,\n    title: 'Insert Audio',\n    tooltip: 'Audio',\n  },\n  [FilePlugin.key]: {\n    accept: ['*'],\n    icon: <FileUpIcon className=\"size-4\" />,\n    title: 'Insert File',\n    tooltip: 'File',\n  },\n  [ImagePlugin.key]: {\n    accept: ['image/*'],\n    icon: <ImageIcon className=\"size-4\" />,\n    title: 'Insert Image',\n    tooltip: 'Image',\n  },\n  [VideoPlugin.key]: {\n    accept: ['video/*'],\n    icon: <FilmIcon className=\"size-4\" />,\n    title: 'Insert Video',\n    tooltip: 'Video',\n  },\n};\n\nexport function MediaToolbarButton({\n  nodeType,\n  ...props\n}: DropdownMenuProps & { nodeType: string }) {\n  const currentConfig = MEDIA_CONFIG[nodeType];\n\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false);\n  const [dialogOpen, setDialogOpen] = React.useState(false);\n\n  const { openFilePicker } = useFilePicker({\n    accept: currentConfig.accept,\n    multiple: true,\n    onFilesSelected: ({ plainFiles: updatedFiles }) => {\n      editor.getTransforms(PlaceholderPlugin).insert.media(updatedFiles);\n    },\n  });\n\n  return (\n    <>\n      <ToolbarSplitButton\n        onClick={() => {\n          openFilePicker();\n        }}\n        onKeyDown={(e) => {\n          if (e.key === 'ArrowDown') {\n            e.preventDefault();\n            setOpen(true);\n          }\n        }}\n        pressed={open}\n      >\n        <ToolbarSplitButtonPrimary>\n          {currentConfig.icon}\n        </ToolbarSplitButtonPrimary>\n\n        <DropdownMenu\n          open={open}\n          onOpenChange={setOpen}\n          modal={false}\n          {...props}\n        >\n          <DropdownMenuTrigger asChild>\n            <ToolbarSplitButtonSecondary />\n          </DropdownMenuTrigger>\n\n          <DropdownMenuContent\n            onClick={(e) => e.stopPropagation()}\n            align=\"start\"\n            alignOffset={-32}\n          >\n            <DropdownMenuGroup>\n              <DropdownMenuItem onSelect={() => openFilePicker()}>\n                {currentConfig.icon}\n                Upload from computer\n              </DropdownMenuItem>\n              <DropdownMenuItem onSelect={() => setDialogOpen(true)}>\n                <LinkIcon />\n                Insert via URL\n              </DropdownMenuItem>\n            </DropdownMenuGroup>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </ToolbarSplitButton>\n\n      <AlertDialog\n        open={dialogOpen}\n        onOpenChange={(value) => {\n          setDialogOpen(value);\n        }}\n      >\n        <AlertDialogContent className=\"gap-6\">\n          <MediaUrlDialogContent\n            currentConfig={currentConfig}\n            nodeType={nodeType}\n            setOpen={setDialogOpen}\n          />\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n}\n\nfunction MediaUrlDialogContent({\n  currentConfig,\n  nodeType,\n  setOpen,\n}: {\n  currentConfig: (typeof MEDIA_CONFIG)[string];\n  nodeType: string;\n  setOpen: (value: boolean) => void;\n}) {\n  const editor = useEditorRef();\n  const [url, setUrl] = React.useState('');\n\n  const embedMedia = React.useCallback(() => {\n    if (!isUrl(url)) return toast.error('Invalid URL');\n\n    setOpen(false);\n    editor.tf.insertNodes({\n      children: [{ text: '' }],\n      name: nodeType === FilePlugin.key ? url.split('/').pop() : undefined,\n      type: nodeType,\n      url,\n    });\n  }, [url, editor, nodeType, setOpen]);\n\n  return (\n    <>\n      <AlertDialogHeader>\n        <AlertDialogTitle>{currentConfig.title}</AlertDialogTitle>\n      </AlertDialogHeader>\n\n      <AlertDialogDescription className=\"group relative w-full\">\n        <label\n          className=\"absolute top-1/2 block -translate-y-1/2 cursor-text px-1 text-sm text-muted-foreground/70 transition-all group-focus-within:pointer-events-none group-focus-within:top-0 group-focus-within:cursor-default group-focus-within:text-xs group-focus-within:font-medium group-focus-within:text-foreground has-[+input:not(:placeholder-shown)]:pointer-events-none has-[+input:not(:placeholder-shown)]:top-0 has-[+input:not(:placeholder-shown)]:cursor-default has-[+input:not(:placeholder-shown)]:text-xs has-[+input:not(:placeholder-shown)]:font-medium has-[+input:not(:placeholder-shown)]:text-foreground\"\n          htmlFor=\"url\"\n        >\n          <span className=\"inline-flex bg-background px-2\">URL</span>\n        </label>\n        <Input\n          id=\"url\"\n          className=\"w-full\"\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter') embedMedia();\n          }}\n          placeholder=\"\"\n          type=\"url\"\n          autoFocus\n        />\n      </AlertDialogDescription>\n\n      <AlertDialogFooter>\n        <AlertDialogCancel>Cancel</AlertDialogCancel>\n        <AlertDialogAction\n          onClick={(e) => {\n            e.preventDefault();\n            embedMedia();\n          }}\n        >\n          Accept\n        </AlertDialogAction>\n      </AlertDialogFooter>\n    </>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  type DropdownMenuProps,\n  DropdownMenuItemIndicator,\n} from '@radix-ui/react-dropdown-menu';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport {\n  useEditorRef,\n  usePlateState,\n  usePluginOption,\n} from '@udecode/plate/react';\nimport { CheckIcon, EyeIcon, PencilLineIcon, PenIcon } from 'lucide-react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function ModeDropdownMenu(props: DropdownMenuProps) {\n  const editor = useEditorRef();\n  const [readOnly, setReadOnly] = usePlateState('readOnly');\n  const [open, setOpen] = React.useState(false);\n\n  const isSuggesting = usePluginOption(SuggestionPlugin, 'isSuggesting');\n\n  let value = 'editing';\n\n  if (readOnly) value = 'viewing';\n\n  if (isSuggesting) value = 'suggestion';\n\n  const item: Record<string, { icon: React.ReactNode; label: string }> = {\n    editing: {\n      icon: <PenIcon />,\n      label: 'Editing',\n    },\n    suggestion: {\n      icon: <PencilLineIcon />,\n      label: 'Suggestion',\n    },\n    viewing: {\n      icon: <EyeIcon />,\n      label: 'Viewing',\n    },\n  };\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Editing mode\" isDropdown>\n          {item[value].icon}\n          <span className=\"hidden lg:inline\">{item[value].label}</span>\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent className=\"min-w-[180px]\" align=\"start\">\n        <DropdownMenuRadioGroup\n          value={value}\n          onValueChange={(newValue) => {\n            if (newValue === 'viewing') {\n              setReadOnly(true);\n\n              return;\n            } else {\n              setReadOnly(false);\n            }\n\n            if (newValue === 'suggestion') {\n              editor.setOption(SuggestionPlugin, 'isSuggesting', true);\n\n              return;\n            } else {\n              editor.setOption(SuggestionPlugin, 'isSuggesting', false);\n            }\n\n            if (newValue === 'editing') {\n              editor.tf.focus();\n\n              return;\n            }\n          }}\n        >\n          <DropdownMenuRadioItem\n            className=\"pl-2 *:first:[span]:hidden *:[svg]:text-muted-foreground\"\n            value=\"editing\"\n          >\n            <Indicator />\n            {item.editing.icon}\n            {item.editing.label}\n          </DropdownMenuRadioItem>\n\n          <DropdownMenuRadioItem\n            className=\"pl-2 *:first:[span]:hidden *:[svg]:text-muted-foreground\"\n            value=\"viewing\"\n          >\n            <Indicator />\n            {item.viewing.icon}\n            {item.viewing.label}\n          </DropdownMenuRadioItem>\n\n          <DropdownMenuRadioItem\n            className=\"pl-2 *:first:[span]:hidden *:[svg]:text-muted-foreground\"\n            value=\"suggestion\"\n          >\n            <Indicator />\n            {item.suggestion.icon}\n            {item.suggestion.label}\n          </DropdownMenuRadioItem>\n        </DropdownMenuRadioGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n\nfunction Indicator() {\n  return (\n    <span className=\"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center\">\n      <DropdownMenuItemIndicator>\n        <CheckIcon />\n      </DropdownMenuItemIndicator>\n    </span>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\n\nimport {\n  SubscriptPlugin,\n  SuperscriptPlugin,\n} from '@udecode/plate-basic-marks/react';\nimport { KbdPlugin } from '@udecode/plate-kbd/react';\nimport { useEditorRef } from '@udecode/plate/react';\nimport {\n  KeyboardIcon,\n  MoreHorizontalIcon,\n  SubscriptIcon,\n  SuperscriptIcon,\n} from 'lucide-react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function MoreDropdownMenu(props: DropdownMenuProps) {\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Insert\">\n          <MoreHorizontalIcon />\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent\n        className=\"ignore-click-outside/toolbar flex max-h-[500px] min-w-[180px] flex-col overflow-y-auto\"\n        align=\"start\"\n      >\n        <DropdownMenuGroup>\n          <DropdownMenuItem\n            onSelect={() => {\n              editor.tf.toggleMark(KbdPlugin.key);\n              editor.tf.collapse({ edge: 'end' });\n              editor.tf.focus();\n            }}\n          >\n            <KeyboardIcon />\n            Keyboard input\n          </DropdownMenuItem>\n\n          <DropdownMenuItem\n            onSelect={() => {\n              editor.tf.toggleMark(SuperscriptPlugin.key, {\n                remove: SubscriptPlugin.key,\n              });\n              editor.tf.focus();\n            }}\n          >\n            <SuperscriptIcon />\n            Superscript\n            {/* (+,) */}\n          </DropdownMenuItem>\n          <DropdownMenuItem\n            onSelect={() => {\n              editor.tf.toggleMark(SubscriptPlugin.key, {\n                remove: SuperscriptPlugin.key,\n              });\n              editor.tf.focus();\n            }}\n          >\n            <SubscriptIcon />\n            Subscript\n            {/* (+.) */}\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\n\nimport { TablePlugin, useTableMergeState } from '@udecode/plate-table/react';\nimport { useEditorPlugin, useEditorSelector } from '@udecode/plate/react';\nimport {\n  ArrowDown,\n  ArrowLeft,\n  ArrowRight,\n  ArrowUp,\n  Combine,\n  Grid3x3Icon,\n  Table,\n  Trash2Icon,\n  Ungroup,\n  XIcon,\n} from 'lucide-react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { cn } from '@/lib/utils';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function TableDropdownMenu(props: DropdownMenuProps) {\n  const tableSelected = useEditorSelector(\n    (editor) => editor.api.some({ match: { type: TablePlugin.key } }),\n    []\n  );\n\n  const { editor, tf } = useEditorPlugin(TablePlugin);\n  const [open, setOpen] = React.useState(false);\n  const mergeState = useTableMergeState();\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Table\" isDropdown>\n          <Table />\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent\n        className=\"flex w-[180px] min-w-0 flex-col\"\n        align=\"start\"\n      >\n        <DropdownMenuGroup>\n          <DropdownMenuSub>\n            <DropdownMenuSubTrigger className=\"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50\">\n              <Grid3x3Icon className=\"size-4\" />\n              <span>Table</span>\n            </DropdownMenuSubTrigger>\n            <DropdownMenuSubContent className=\"m-0 p-0\">\n              <TablePicker />\n            </DropdownMenuSubContent>\n          </DropdownMenuSub>\n\n          <DropdownMenuSub>\n            <DropdownMenuSubTrigger\n              className=\"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50\"\n              disabled={!tableSelected}\n            >\n              <div className=\"size-4\" />\n              <span>Cell</span>\n            </DropdownMenuSubTrigger>\n            <DropdownMenuSubContent>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!mergeState.canMerge}\n                onSelect={() => {\n                  tf.table.merge();\n                  editor.tf.focus();\n                }}\n              >\n                <Combine />\n                Merge cells\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!mergeState.canSplit}\n                onSelect={() => {\n                  tf.table.split();\n                  editor.tf.focus();\n                }}\n              >\n                <Ungroup />\n                Split cell\n              </DropdownMenuItem>\n            </DropdownMenuSubContent>\n          </DropdownMenuSub>\n\n          <DropdownMenuSub>\n            <DropdownMenuSubTrigger\n              className=\"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50\"\n              disabled={!tableSelected}\n            >\n              <div className=\"size-4\" />\n              <span>Row</span>\n            </DropdownMenuSubTrigger>\n            <DropdownMenuSubContent>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!tableSelected}\n                onSelect={() => {\n                  tf.insert.tableRow({ before: true });\n                  editor.tf.focus();\n                }}\n              >\n                <ArrowUp />\n                Insert row before\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!tableSelected}\n                onSelect={() => {\n                  tf.insert.tableRow();\n                  editor.tf.focus();\n                }}\n              >\n                <ArrowDown />\n                Insert row after\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!tableSelected}\n                onSelect={() => {\n                  tf.remove.tableRow();\n                  editor.tf.focus();\n                }}\n              >\n                <XIcon />\n                Delete row\n              </DropdownMenuItem>\n            </DropdownMenuSubContent>\n          </DropdownMenuSub>\n\n          <DropdownMenuSub>\n            <DropdownMenuSubTrigger\n              className=\"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50\"\n              disabled={!tableSelected}\n            >\n              <div className=\"size-4\" />\n              <span>Column</span>\n            </DropdownMenuSubTrigger>\n            <DropdownMenuSubContent>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!tableSelected}\n                onSelect={() => {\n                  tf.insert.tableColumn({ before: true });\n                  editor.tf.focus();\n                }}\n              >\n                <ArrowLeft />\n                Insert column before\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!tableSelected}\n                onSelect={() => {\n                  tf.insert.tableColumn();\n                  editor.tf.focus();\n                }}\n              >\n                <ArrowRight />\n                Insert column after\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!tableSelected}\n                onSelect={() => {\n                  tf.remove.tableColumn();\n                  editor.tf.focus();\n                }}\n              >\n                <XIcon />\n                Delete column\n              </DropdownMenuItem>\n            </DropdownMenuSubContent>\n          </DropdownMenuSub>\n\n          <DropdownMenuItem\n            className=\"min-w-[180px]\"\n            disabled={!tableSelected}\n            onSelect={() => {\n              tf.remove.table();\n              editor.tf.focus();\n            }}\n          >\n            <Trash2Icon />\n            Delete table\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n\nexport function TablePicker() {\n  const { editor, tf } = useEditorPlugin(TablePlugin);\n\n  const [tablePicker, setTablePicker] = React.useState({\n    grid: Array.from({ length: 8 }, () => Array.from({ length: 8 }).fill(0)),\n    size: { colCount: 0, rowCount: 0 },\n  });\n\n  const onCellMove = (rowIndex: number, colIndex: number) => {\n    const newGrid = [...tablePicker.grid];\n\n    for (let i = 0; i < newGrid.length; i++) {\n      for (let j = 0; j < newGrid[i].length; j++) {\n        newGrid[i][j] =\n          i >= 0 && i <= rowIndex && j >= 0 && j <= colIndex ? 1 : 0;\n      }\n    }\n\n    setTablePicker({\n      grid: newGrid,\n      size: { colCount: colIndex + 1, rowCount: rowIndex + 1 },\n    });\n  };\n\n  return (\n    <div\n      className=\"m-0 flex! flex-col p-0\"\n      onClick={() => {\n        tf.insert.table(tablePicker.size, { select: true });\n        editor.tf.focus();\n      }}\n    >\n      <div className=\"grid size-[130px] grid-cols-8 gap-0.5 p-1\">\n        {tablePicker.grid.map((rows, rowIndex) =>\n          rows.map((value, columIndex) => {\n            return (\n              <div\n                key={`(${rowIndex},${columIndex})`}\n                className={cn(\n                  'col-span-1 size-3 border border-solid bg-secondary',\n                  !!value && 'border-current'\n                )}\n                onMouseMove={() => {\n                  onCellMove(rowIndex, columIndex);\n                }}\n              />\n            );\n          })\n        )}\n      </div>\n\n      <div className=\"text-center text-xs text-current\">\n        {tablePicker.size.rowCount} x {tablePicker.size.colCount}\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  useToggleToolbarButton,\n  useToggleToolbarButtonState,\n} from '@udecode/plate-toggle/react';\nimport { ListCollapseIcon } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function ToggleToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const state = useToggleToolbarButtonState();\n  const { props: buttonProps } = useToggleToolbarButton(state);\n\n  return (\n    <ToolbarButton {...props} {...buttonProps} tooltip=\"Toggle\">\n      <ListCollapseIcon />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\nimport type { TElement } from '@udecode/plate';\n\nimport { DropdownMenuItemIndicator } from '@radix-ui/react-dropdown-menu';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { INDENT_LIST_KEYS, ListStyleType } from '@udecode/plate-indent-list';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport {\n  ParagraphPlugin,\n  useEditorRef,\n  useSelectionFragmentProp,\n} from '@udecode/plate/react';\nimport {\n  CheckIcon,\n  ChevronRightIcon,\n  Columns3Icon,\n  FileCodeIcon,\n  Heading1Icon,\n  Heading2Icon,\n  Heading3Icon,\n  ListIcon,\n  ListOrderedIcon,\n  PilcrowIcon,\n  QuoteIcon,\n  SquareIcon,\n} from 'lucide-react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuRadioItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport {\n  getBlockType,\n  setBlockType,\n  STRUCTURAL_TYPES,\n} from '@/components/editor/transforms';\n\nimport { ToolbarButton, ToolbarMenuGroup } from './toolbar';\n\nconst turnIntoItems = [\n  {\n    icon: <PilcrowIcon />,\n    keywords: ['paragraph'],\n    label: 'Text',\n    value: ParagraphPlugin.key,\n  },\n  {\n    icon: <Heading1Icon />,\n    keywords: ['title', 'h1'],\n    label: 'Heading 1',\n    value: HEADING_KEYS.h1,\n  },\n  {\n    icon: <Heading2Icon />,\n    keywords: ['subtitle', 'h2'],\n    label: 'Heading 2',\n    value: HEADING_KEYS.h2,\n  },\n  {\n    icon: <Heading3Icon />,\n    keywords: ['subtitle', 'h3'],\n    label: 'Heading 3',\n    value: HEADING_KEYS.h3,\n  },\n  {\n    icon: <ListIcon />,\n    keywords: ['unordered', 'ul', '-'],\n    label: 'Bulleted list',\n    value: ListStyleType.Disc,\n  },\n  {\n    icon: <ListOrderedIcon />,\n    keywords: ['ordered', 'ol', '1'],\n    label: 'Numbered list',\n    value: ListStyleType.Decimal,\n  },\n  {\n    icon: <SquareIcon />,\n    keywords: ['checklist', 'task', 'checkbox', '[]'],\n    label: 'To-do list',\n    value: INDENT_LIST_KEYS.todo,\n  },\n  {\n    icon: <ChevronRightIcon />,\n    keywords: ['collapsible', 'expandable'],\n    label: 'Toggle list',\n    value: TogglePlugin.key,\n  },\n  {\n    icon: <FileCodeIcon />,\n    keywords: ['```'],\n    label: 'Code',\n    value: CodeBlockPlugin.key,\n  },\n  {\n    icon: <QuoteIcon />,\n    keywords: ['citation', 'blockquote', '>'],\n    label: 'Quote',\n    value: BlockquotePlugin.key,\n  },\n  {\n    icon: <Columns3Icon />,\n    label: '3 columns',\n    value: 'action_three_columns',\n  },\n];\n\nexport function TurnIntoDropdownMenu(props: DropdownMenuProps) {\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false);\n\n  const value = useSelectionFragmentProp({\n    defaultValue: ParagraphPlugin.key,\n    structuralTypes: STRUCTURAL_TYPES,\n    getProp: (node) => getBlockType(node as TElement),\n  });\n  const selectedItem = React.useMemo(\n    () =>\n      turnIntoItems.find(\n        (item) => item.value === (value ?? ParagraphPlugin.key)\n      ) ?? turnIntoItems[0],\n    [value]\n  );\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton\n          className=\"min-w-[125px]\"\n          pressed={open}\n          tooltip=\"Turn into\"\n          isDropdown\n        >\n          {selectedItem.label}\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent\n        className=\"ignore-click-outside/toolbar min-w-0\"\n        onCloseAutoFocus={(e) => {\n          e.preventDefault();\n          editor.tf.focus();\n        }}\n        align=\"start\"\n      >\n        <ToolbarMenuGroup\n          value={value}\n          onValueChange={(type) => {\n            setBlockType(editor, type);\n          }}\n          label=\"Turn into\"\n        >\n          {turnIntoItems.map(({ icon, label, value: itemValue }) => (\n            <DropdownMenuRadioItem\n              key={itemValue}\n              className=\"min-w-[180px] pl-2 *:first:[span]:hidden\"\n              value={itemValue}\n            >\n              <span className=\"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center\">\n                <DropdownMenuItemIndicator>\n                  <CheckIcon />\n                </DropdownMenuItemIndicator>\n              </span>\n              {icon}\n              {label}\n            </DropdownMenuRadioItem>\n          ))}\n        </ToolbarMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { FilePlugin, ImagePlugin } from '@udecode/plate-media/react';\nimport { useEditorReadOnly } from '@udecode/plate/react';\nimport {\n  BoldIcon,\n  Code2Icon,\n  ItalicIcon,\n  PaletteIcon,\n  StrikethroughIcon,\n  SubscriptIcon,\n  SuperscriptIcon,\n  UnderlineIcon,\n} from 'lucide-react';\n\nimport { AIToolbarButton } from './ai-toolbar-button';\nimport { AlignDropdownMenu } from './align-dropdown-menu';\nimport { ColorDropdownMenu } from './color-dropdown-menu';\nimport { CommentToolbarButton } from './comment-toolbar-button';\nimport { EmojiDropdownMenu } from './emoji-dropdown-menu';\nimport { ExportToolbarButton } from './export-toolbar-button';\nimport { RedoToolbarButton, UndoToolbarButton } from './history-toolbar-button';\nimport { ImportToolbarButton } from './import-toolbar-button';\nimport { IndentListToolbarButton } from './indent-list-toolbar-button';\nimport { IndentTodoToolbarButton } from './indent-todo-toolbar-button';\nimport { LinkToolbarButton } from './link-toolbar-button';\nimport { MarkToolbarButton } from './mark-toolbar-button';\nimport { MediaToolbarButton } from './media-toolbar-button';\nimport { ModeDropdownMenu } from './mode-dropdown-menu';\nimport { MoreDropdownMenu } from './more-dropdown-menu';\nimport { TableDropdownMenu } from './table-dropdown-menu';\nimport { ToggleToolbarButton } from './toggle-toolbar-button';\nimport { ToolbarGroup } from './toolbar';\nimport { TurnIntoDropdownMenu } from './turn-into-dropdown-menu';\n\nexport function FixedToolbarButtons() {\n  const readOnly = useEditorReadOnly();\n\n  return (\n    <div className=\"flex w-full\">\n      {!readOnly && (\n        <>\n          <ToolbarGroup>\n            <UndoToolbarButton />\n            <RedoToolbarButton />\n          </ToolbarGroup>\n\n          <ToolbarGroup>\n            <TurnIntoDropdownMenu />\n          </ToolbarGroup>\n\n          <ToolbarGroup>\n            <MarkToolbarButton nodeType=\"bold\" tooltip=\"Bold (+B)\">\n              <BoldIcon />\n            </MarkToolbarButton>\n            <MarkToolbarButton nodeType=\"italic\" tooltip=\"Italic (+I)\">\n              <ItalicIcon />\n            </MarkToolbarButton>\n            <MarkToolbarButton\n              nodeType=\"underline\"\n              tooltip=\"Underline (+U)\"\n            >\n              <UnderlineIcon />\n            </MarkToolbarButton>\n            <MarkToolbarButton\n              nodeType=\"strikethrough\"\n              tooltip=\"Strikethrough (++M)\"\n            >\n              <StrikethroughIcon />\n            </MarkToolbarButton>\n            <MarkToolbarButton nodeType=\"code\" tooltip=\"Code (+E)\">\n              <Code2Icon />\n              </MarkToolbarButton>\n            <MarkToolbarButton nodeType=\"superscript\" tooltip=\"Superscript\">\n              <SuperscriptIcon />\n            </MarkToolbarButton>\n            <MarkToolbarButton nodeType=\"subscript\" tooltip=\"Subscript\">\n              <SubscriptIcon />\n            </MarkToolbarButton>\n          </ToolbarGroup>\n\n          <ToolbarGroup>\n            <ColorDropdownMenu nodeType=\"color\" tooltip=\"Text Color\">\n              <PaletteIcon />\n            </ColorDropdownMenu>\n            <ColorDropdownMenu\n              nodeType=\"backgroundColor\"\n              tooltip=\"Highlight Color\"\n            >\n              <PaletteIcon />\n            </ColorDropdownMenu>\n          </ToolbarGroup>\n\n          <ToolbarGroup>\n            <AlignDropdownMenu />\n\n            <IndentListToolbarButton variant=\"bulleted\" />\n            <IndentTodoToolbarButton />\n          </ToolbarGroup>\n\n          <ToolbarGroup>\n            <LinkToolbarButton />\n\n            <ToggleToolbarButton />\n\n            <MediaToolbarButton nodeType={ImagePlugin.key} />\n            <MediaToolbarButton nodeType={FilePlugin.key} />\n\n            <TableDropdownMenu />\n            <EmojiDropdownMenu />\n\n            <MoreDropdownMenu />\n          </ToolbarGroup>\n        </>\n      )}\n\n      <div className=\"grow\" />\n\n      <ToolbarGroup>\n        <ModeDropdownMenu />\n\n        {!readOnly && (\n          <>\n            <CommentToolbarButton />\n            <AIToolbarButton />\n\n            <ExportToolbarButton />\n            <ImportToolbarButton />\n          </>\n        )}\n      </ToolbarGroup>\n    </div>\n  );\n}","\n'use client';\n\nimport { createPlatePlugin } from '@udecode/plate/react';\n\nimport { FixedToolbar } from '@/components/ui/fixed-toolbar';\nimport { FixedToolbarButtons } from '@/components/ui/fixed-toolbar-buttons';\n\nexport const FixedToolbarPlugin = createPlatePlugin({\n  key: 'fixed-toolbar',\n  render: {\n    beforeEditable: () => (\n      <div className=\"sticky top-0 left-0 right-0 z-40 w-full bg-white border-b border-gray-200\">\n      <FixedToolbar>\n        <FixedToolbarButtons />\n      </FixedToolbar>\n    </div>\n  ),\n},\n});\n","'use client';\n\nimport * as React from 'react';\n\nimport { useComposedRef } from '@udecode/cn';\nimport {\n  type FloatingToolbarState,\n  flip,\n  offset,\n  useFloatingToolbar,\n  useFloatingToolbarState,\n} from '@udecode/plate-floating';\nimport {\n  useEditorId,\n  useEventEditorValue,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\n\nimport { Toolbar } from './toolbar';\n\ntype FloatingToolbarProps = React.ComponentProps<typeof Toolbar> & {\n  state?: FloatingToolbarState;\n};\n\nexport function FloatingToolbar({\n  children,\n  className,\n  state,\n  ...props\n}: FloatingToolbarProps) {\n  const editorId = useEditorId();\n  const focusedEditorId = useEventEditorValue('focus');\n  const isFloatingLinkOpen = !!usePluginOption({ key: 'a' }, 'mode');\n  const isAIChatOpen = usePluginOption({ key: 'aiChat' }, 'open');\n\n  const floatingToolbarState = useFloatingToolbarState({\n    editorId,\n    focusedEditorId,\n    hideToolbar: isFloatingLinkOpen || isAIChatOpen,\n    ...state,\n    floatingOptions: {\n      middleware: [\n        offset(12),\n        flip({\n          fallbackPlacements: [\n            'top-start',\n            'top-end',\n            'bottom-start',\n            'bottom-end',\n          ],\n          padding: 12,\n        }),\n      ],\n      placement: 'top',\n      ...state?.floatingOptions,\n    },\n  });\n\n  const {\n    clickOutsideRef,\n    hidden,\n    props: rootProps,\n    ref: floatingRef,\n  } = useFloatingToolbar(floatingToolbarState);\n\n  const ref = useComposedRef<HTMLDivElement>(props.ref, floatingRef);\n\n  if (hidden) return null;\n\n  return (\n    <div ref={clickOutsideRef}>\n      <Toolbar\n        {...props}\n        {...rootProps}\n        ref={ref}\n        className={cn(\n          'absolute z-50 scrollbar-hide overflow-x-auto rounded-md border bg-popover p-1 whitespace-nowrap opacity-100 shadow-md print:hidden',\n          'max-w-[80vw]',\n          className\n        )}\n      >\n        {children}\n      </Toolbar>\n    </div>\n  );\n}","'use client';\n\nimport * as React from 'react';\n\nimport { insertInlineEquation } from '@udecode/plate-math';\nimport { useEditorRef } from '@udecode/plate/react';\nimport { RadicalIcon } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function InlineEquationToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const editor = useEditorRef();\n\n  return (\n    <ToolbarButton\n      {...props}\n      onClick={() => {\n        insertInlineEquation(editor);\n      }}\n      tooltip=\"Mark as equation\"\n    >\n      <RadicalIcon />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport { useEditorPlugin, usePluginOption } from '@udecode/plate/react';\nimport { PencilLineIcon } from 'lucide-react';\n\nimport { cn } from '@/lib/utils';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function SuggestionToolbarButton() {\n  const { setOption } = useEditorPlugin(SuggestionPlugin);\n  const isSuggesting = usePluginOption(SuggestionPlugin, 'isSuggesting');\n\n  return (\n    <ToolbarButton\n      className={cn(isSuggesting && 'text-brand/80 hover:text-brand/80')}\n      onClick={() => setOption('isSuggesting', !isSuggesting)}\n      onMouseDown={(e) => e.preventDefault()}\n      tooltip={isSuggesting ? 'Turn off suggesting' : 'Suggestion edits'}\n    >\n      <PencilLineIcon />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  BoldPlugin,\n  CodePlugin,\n  ItalicPlugin,\n  StrikethroughPlugin,\n  UnderlinePlugin,\n} from '@udecode/plate-basic-marks/react';\nimport { useEditorReadOnly } from '@udecode/plate/react';\nimport {\n  BoldIcon,\n  Code2Icon,\n  ItalicIcon,\n  StrikethroughIcon,\n  UnderlineIcon,\n  WandSparklesIcon,\n} from 'lucide-react';\n\nimport { AIToolbarButton } from './ai-toolbar-button';\nimport { CommentToolbarButton } from './comment-toolbar-button';\nimport { InlineEquationToolbarButton } from './inline-equation-toolbar-button';\nimport { LinkToolbarButton } from './link-toolbar-button';\nimport { MarkToolbarButton } from './mark-toolbar-button';\nimport { MoreDropdownMenu } from './more-dropdown-menu';\nimport { SuggestionToolbarButton } from './suggestion-toolbar-button';\nimport { ToolbarGroup } from './toolbar';\nimport { TurnIntoDropdownMenu } from './turn-into-dropdown-menu';\n\nexport function FloatingToolbarButtons() {\n  const readOnly = useEditorReadOnly();\n\n  return (\n    <>\n      {!readOnly && (\n        <>\n          <ToolbarGroup>\n            <AIToolbarButton tooltip=\"AI commands\">\n              <WandSparklesIcon />\n              Ask AI\n            </AIToolbarButton>\n          </ToolbarGroup>\n\n          <ToolbarGroup>\n            <TurnIntoDropdownMenu />\n\n<MarkToolbarButton nodeType={BoldPlugin.key} tooltip=\"Bold (+B)\">\n              <BoldIcon />\n            </MarkToolbarButton>\n\n            <MarkToolbarButton\n              nodeType={ItalicPlugin.key}\n              tooltip=\"Italic (+I)\"\n            >\n              <ItalicIcon />\n            </MarkToolbarButton>\n\n            <MarkToolbarButton\n              nodeType={UnderlinePlugin.key}\n              tooltip=\"Underline (+U)\"\n            >\n              <UnderlineIcon />\n            </MarkToolbarButton>\n\n            <MarkToolbarButton\n              nodeType={StrikethroughPlugin.key}\n              tooltip=\"Strikethrough (++M)\"\n            >\n              <StrikethroughIcon />\n            </MarkToolbarButton>\n\n            <MarkToolbarButton nodeType={CodePlugin.key} tooltip=\"Code (+E)\">\n              <Code2Icon />\n            </MarkToolbarButton>\n\n            <InlineEquationToolbarButton />\n\n            <LinkToolbarButton />\n          </ToolbarGroup>\n        </>\n      )}\n\n      <ToolbarGroup>\n        <CommentToolbarButton />\n        <SuggestionToolbarButton />\n\n        {!readOnly && <MoreDropdownMenu />}\n      </ToolbarGroup>\n    </>\n  );\n}\n","'use client';\n\nimport { createPlatePlugin } from '@udecode/plate/react';\n\nimport { FloatingToolbar } from '@/components/ui/floating-toolbar';\nimport { FloatingToolbarButtons } from '@/components/ui/floating-toolbar-buttons';\n\nexport const FloatingToolbarPlugin = createPlatePlugin({\n  key: 'floating-toolbar',\n  render: {\n    afterEditable: () => (\n      <FloatingToolbar>\n        <FloatingToolbarButtons />\n      </FloatingToolbar>\n    ),\n  },\n});\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Popover({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />\n}\n\nfunction PopoverTrigger({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />\n}\n\nfunction PopoverContent({\n  className,\n  align = \"center\",\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n  return (\n    <PopoverPrimitive.Portal>\n      <PopoverPrimitive.Content\n        data-slot=\"popover-content\"\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden\",\n          className\n        )}\n        {...props}\n      />\n    </PopoverPrimitive.Portal>\n  )\n}\n\nfunction PopoverAnchor({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />\n}\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-8 shrink-0 overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","'use client';\n\nimport { AIChatPlugin } from '@udecode/plate-ai/react';\nimport { type PlateTextProps, PlateText } from '@udecode/plate/react';\nimport { cva } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\nconst aiIndicatorVariants = cva(\n  'after:ml-1.5 after:inline-block after:h-3 after:w-3 after:animate-pulse after:rounded-full after:bg-primary after:align-middle after:content-[\"\"]'\n);\n\nexport function AILeaf(props: PlateTextProps) {\n  const streamingLeaf = props.editor\n    .getApi(AIChatPlugin)\n    .aiChat.node({ streaming: true });\n\n  const isLast = streamingLeaf?.[0] === props.text;\n\n  return (\n    <PlateText\n      className={cn(\n        'border-b-2 border-b-purple-100 bg-purple-50 text-purple-800',\n        'transition-all duration-200 ease-in-out',\n        isLast && aiIndicatorVariants()\n      )}\n      {...props}\n    />\n  );\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: React.ComponentProps<typeof DayPicker>) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row gap-2\",\n        month: \"flex flex-col gap-4\",\n        caption: \"flex justify-center pt-1 relative items-center w-full\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"flex items-center gap-1\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"size-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-x-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: cn(\n          \"relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md\",\n          props.mode === \"range\"\n            ? \"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md\"\n            : \"[&:has([aria-selected])]:rounded-md\"\n        ),\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"size-8 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_start:\n          \"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground\",\n        day_range_end:\n          \"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"size-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"size-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Calendar }\n","'use client';\n\nimport type { TDateElement } from '@udecode/plate-date';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { PlateElement, useReadOnly } from '@udecode/plate/react';\n\nimport { Calendar } from '@/components/ui/calendar';\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover';\nimport { cn } from '@/lib/utils';\n\nexport function DateElement(props: PlateElementProps<TDateElement>) {\n  const { editor, element } = props;\n\n  const readOnly = useReadOnly();\n\n  const trigger = (\n    <span\n      className={cn(\n        'w-fit cursor-pointer rounded-sm bg-muted px-1 text-muted-foreground'\n      )}\n      contentEditable={false}\n      draggable\n    >\n      {element.date ? (\n        (() => {\n          const today = new Date();\n          const elementDate = new Date(element.date);\n          const isToday =\n            elementDate.getDate() === today.getDate() &&\n            elementDate.getMonth() === today.getMonth() &&\n            elementDate.getFullYear() === today.getFullYear();\n\n          const isYesterday =\n            new Date(today.setDate(today.getDate() - 1)).toDateString() ===\n            elementDate.toDateString();\n          const isTomorrow =\n            new Date(today.setDate(today.getDate() + 2)).toDateString() ===\n            elementDate.toDateString();\n\n          if (isToday) return 'Today';\n          if (isYesterday) return 'Yesterday';\n          if (isTomorrow) return 'Tomorrow';\n\n          return elementDate.toLocaleDateString(undefined, {\n            day: 'numeric',\n            month: 'long',\n            year: 'numeric',\n          });\n        })()\n      ) : (\n        <span>Pick a date</span>\n      )}\n    </span>\n  );\n\n  if (readOnly) {\n    return trigger;\n  }\n\n  return (\n    <PlateElement\n      {...props}\n      className=\"inline-block\"\n      attributes={{\n        ...props.attributes,\n        contentEditable: false,\n      }}\n    >\n      <Popover>\n        <PopoverTrigger asChild>{trigger}</PopoverTrigger>\n        <PopoverContent className=\"w-auto p-0\">\n          <Calendar\n            selected={new Date(element.date as string)}\n            onSelect={(date) => {\n              if (!date) return;\n\n              editor.tf.setNodes(\n                { date: date.toDateString() },\n                { at: element }\n              );\n            }}\n            mode=\"single\"\n            initialFocus\n          />\n        </PopoverContent>\n      </Popover>\n      {props.children}\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateContentProps } from '@udecode/plate/react';\nimport type { VariantProps } from 'class-variance-authority';\n\nimport { PlateContainer, PlateContent } from '@udecode/plate/react';\nimport { cva } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\nconst editorContainerVariants = cva(\n  'relative w-full cursor-text overflow-y-auto caret-primary select-text selection:bg-brand/25 focus-visible:outline-none [&_.slate-selection-area]:z-50 [&_.slate-selection-area]:border [&_.slate-selection-area]:border-brand/25 [&_.slate-selection-area]:bg-brand/15',\n  {\n    defaultVariants: {\n      variant: 'default',\n    },\n    variants: {\n      variant: {\n        comment: cn(\n          'flex flex-wrap justify-between gap-1 px-1 py-0.5 text-sm',\n          'rounded-md border-[1.5px] border-transparent bg-transparent',\n          'has-[[data-slate-editor]:focus]:border-brand/50 has-[[data-slate-editor]:focus]:ring-2 has-[[data-slate-editor]:focus]:ring-brand/30',\n          'has-aria-disabled:border-input has-aria-disabled:bg-muted'\n        ),\n        default: 'h-full',\n        demo: 'h-[650px]',\n        select: cn(\n          'group rounded-md border border-input ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2',\n          'has-data-readonly:w-fit has-data-readonly:cursor-default has-data-readonly:border-transparent has-data-readonly:focus-within:[box-shadow:none]'\n        ),\n      },\n    },\n  }\n);\n\nexport const EditorContainer = ({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> &\n  VariantProps<typeof editorContainerVariants>) => {\n  return (\n    <PlateContainer\n      className={cn(\n        'ignore-click-outside/toolbar',\n        editorContainerVariants({ variant }),\n        className\n      )}\n      {...props}\n    />\n  );\n};\n\nEditorContainer.displayName = 'EditorContainer';\n\nconst editorVariants = cva(\n  cn(\n    'group/editor',\n    'relative w-full cursor-text overflow-x-hidden break-words whitespace-pre-wrap select-text',\n    'rounded-md ring-offset-background focus-visible:outline-none',\n    'placeholder:text-muted-foreground/80 **:data-slate-placeholder:top-[auto_!important] **:data-slate-placeholder:text-muted-foreground/80 **:data-slate-placeholder:opacity-100!',\n    '[&_strong]:font-bold'\n  ),\n  {\n    defaultVariants: {\n      variant: 'default',\n    },\n    variants: {\n      disabled: {\n        true: 'cursor-not-allowed opacity-50',\n      },\n      focused: {\n        true: 'ring-2 ring-ring ring-offset-2',\n      },\n      variant: {\n        ai: 'w-full px-0 text-base md:text-sm',\n        aiChat:\n          'max-h-[min(70vh,320px)] w-full max-w-[700px] overflow-y-auto px-3 py-2 text-base md:text-sm',\n        comment: cn('rounded-none border-none bg-transparent text-sm'),\n        default:\n          'size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]',\n          demo: 'size-full px-6 pt-4 pb-72 text-base sm:px-[max(6px,calc(35%-350px))]',\n          fullWidth: 'size-full px-16 pt-4 pb-72 text-base sm:px-24',\n        none: '',\n        select: 'px-3 py-2 text-base data-readonly:w-fit',\n      },\n    },\n  }\n);\n\nexport type EditorProps = PlateContentProps &\n  VariantProps<typeof editorVariants>;\n\nexport const Editor = React.forwardRef<HTMLDivElement, EditorProps>(\n  ({ className, disabled, focused, variant, ...props }, ref) => {\n    return (\n      <PlateContent\n        ref={ref}\n        className={cn(\n          editorVariants({\n            disabled,\n            focused,\n            variant,\n          }),\n          className\n        )}\n        disabled={disabled}\n        disableDefaultStyles\n        {...props}\n      />\n    );\n  }\n);\n\nEditor.displayName = 'Editor';\n\n// Placeholder Editable component\nconst Editable = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & { readOnly?: boolean }\n>(({ className, readOnly, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        'relative max-w-full word-wrap break-word outline-none text-left [&_strong]:font-bold',\n        !readOnly &&\n          'focus-visible:shadow-[inset_0_0_0_2px_rgb(248_113_113)] focus-visible:shadow-red-400/20',\n        className\n      )}\n      {...props}\n      contentEditable={!readOnly}\n    />\n  );\n});","import * as React from 'react';\n\nexport const useDebounce = <T>(value: T, delay = 500) => {\n  const [debouncedValue, setDebouncedValue] = React.useState(value);\n\n  React.useEffect(() => {\n    const handler: NodeJS.Timeout = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PointRef, TElement } from '@udecode/plate';\n\nimport {\n  type ComboboxItemProps,\n  Combobox,\n  ComboboxGroup,\n  ComboboxGroupLabel,\n  ComboboxItem,\n  ComboboxPopover,\n  ComboboxProvider,\n  ComboboxRow,\n  Portal,\n  useComboboxContext,\n  useComboboxStore,\n} from '@ariakit/react';\nimport { filterWords } from '@udecode/plate-combobox';\nimport {\n  type UseComboboxInputResult,\n  useComboboxInput,\n  useHTMLInputCursorState,\n} from '@udecode/plate-combobox/react';\nimport { useComposedRef, useEditorRef } from '@udecode/plate/react';\nimport { cva } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\ntype FilterFn = (\n  item: { value: string; group?: string; keywords?: string[]; label?: string },\n  search: string\n) => boolean;\n\ninterface InlineComboboxContextValue {\n  filter: FilterFn | false;\n  inputProps: UseComboboxInputResult['props'];\n  inputRef: React.RefObject<HTMLInputElement | null>;\n  removeInput: UseComboboxInputResult['removeInput'];\n  showTrigger: boolean;\n  trigger: string;\n  setHasEmpty: (hasEmpty: boolean) => void;\n}\n\nconst InlineComboboxContext = React.createContext<InlineComboboxContextValue>(\n  null as unknown as InlineComboboxContextValue\n);\n\nexport const defaultFilter: FilterFn = (\n  { group, keywords = [], label, value },\n  search\n) => {\n  const uniqueTerms = new Set(\n    [value, ...keywords, group, label].filter(Boolean)\n  );\n\n  return Array.from(uniqueTerms).some((keyword) =>\n    filterWords(keyword!, search)\n  );\n};\n\ninterface InlineComboboxProps {\n  children: React.ReactNode;\n  element: TElement;\n  trigger: string;\n  filter?: FilterFn | false;\n  hideWhenNoValue?: boolean;\n  showTrigger?: boolean;\n  value?: string;\n  setValue?: (value: string) => void;\n}\n\nconst InlineCombobox = ({\n  children,\n  element,\n  filter = defaultFilter,\n  hideWhenNoValue = false,\n  setValue: setValueProp,\n  showTrigger = true,\n  trigger,\n  value: valueProp,\n}: InlineComboboxProps) => {\n  const editor = useEditorRef();\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const cursorState = useHTMLInputCursorState(inputRef);\n\n  const [valueState, setValueState] = React.useState('');\n  const hasValueProp = valueProp !== undefined;\n  const value = hasValueProp ? valueProp : valueState;\n\n  const setValue = React.useCallback(\n    (newValue: string) => {\n      setValueProp?.(newValue);\n\n      if (!hasValueProp) {\n        setValueState(newValue);\n      }\n    },\n    [setValueProp, hasValueProp]\n  );\n\n  /**\n   * Track the point just before the input element so we know where to\n   * insertText if the combobox closes due to a selection change.\n   */\n  const [insertPoint, setInsertPoint] = React.useState<PointRef | null>(null);\n\n  React.useEffect(() => {\n    const path = editor.api.findPath(element);\n\n    if (!path) return;\n\n    const point = editor.api.before(path);\n\n    if (!point) return;\n\n    const pointRef = editor.api.pointRef(point);\n    setInsertPoint(pointRef);\n\n    return () => {\n      pointRef.unref();\n    };\n  }, [editor, element]);\n\n  const { props: inputProps, removeInput } = useComboboxInput({\n    cancelInputOnBlur: false,\n    cursorState,\n    ref: inputRef,\n    onCancelInput: (cause) => {\n      if (cause !== 'backspace') {\n        editor.tf.insertText(trigger + value, {\n          at: insertPoint?.current ?? undefined,\n        });\n      }\n      if (cause === 'arrowLeft' || cause === 'arrowRight') {\n        editor.tf.move({\n          distance: 1,\n          reverse: cause === 'arrowLeft',\n        });\n      }\n    },\n  });\n\n  const [hasEmpty, setHasEmpty] = React.useState(false);\n\n  const contextValue: InlineComboboxContextValue = React.useMemo(\n    () => ({\n      filter,\n      inputProps,\n      inputRef,\n      removeInput,\n      setHasEmpty,\n      showTrigger,\n      trigger,\n    }),\n    [\n      trigger,\n      showTrigger,\n      filter,\n      inputRef,\n      inputProps,\n      removeInput,\n      setHasEmpty,\n    ]\n  );\n\n  const store = useComboboxStore({\n    // open: ,\n    setValue: (newValue) => React.startTransition(() => setValue(newValue)),\n  });\n\n  const items = store.useState('items');\n\n  /**\n   * If there is no active ID and the list of items changes, select the first\n   * item.\n   */\n  React.useEffect(() => {\n    if (!store.getState().activeId) {\n      store.setActiveId(store.first());\n    }\n  }, [items, store]);\n\n  return (\n    <span contentEditable={false}>\n      <ComboboxProvider\n        open={\n          (items.length > 0 || hasEmpty) &&\n          (!hideWhenNoValue || value.length > 0)\n        }\n        store={store}\n      >\n        <InlineComboboxContext.Provider value={contextValue}>\n          {children}\n        </InlineComboboxContext.Provider>\n      </ComboboxProvider>\n    </span>\n  );\n};\n\nconst InlineComboboxInput = React.forwardRef<\n  HTMLInputElement,\n  React.HTMLAttributes<HTMLInputElement>\n>(({ className, ...props }, propRef) => {\n  const {\n    inputProps,\n    inputRef: contextRef,\n    showTrigger,\n    trigger,\n  } = React.useContext(InlineComboboxContext);\n\n  const store = useComboboxContext()!;\n  const value = store.useState('value');\n\n  const ref = useComposedRef(propRef, contextRef);\n\n  /**\n   * To create an auto-resizing input, we render a visually hidden span\n   * containing the input value and position the input element on top of it.\n   * This works well for all cases except when input exceeds the width of the\n   * container.\n   */\n\n  return (\n    <>\n      {showTrigger && trigger}\n\n      <span className=\"relative min-h-[1lh]\">\n        <span\n          className=\"invisible overflow-hidden text-nowrap\"\n          aria-hidden=\"true\"\n        >\n          {value || '\\u200B'}\n        </span>\n\n        <Combobox\n          ref={ref}\n          className={cn(\n            'absolute top-0 left-0 size-full bg-transparent outline-none',\n            className\n          )}\n          value={value}\n          autoSelect\n          {...inputProps}\n          {...props}\n        />\n      </span>\n    </>\n  );\n});\n\nInlineComboboxInput.displayName = 'InlineComboboxInput';\n\nconst InlineComboboxContent: typeof ComboboxPopover = ({\n  className,\n  ...props\n}) => {\n  // Portal prevents CSS from leaking into popover\n  return (\n    <Portal>\n      <ComboboxPopover\n        className={cn(\n          'z-500 max-h-[288px] w-[300px] overflow-y-auto rounded-md bg-popover shadow-md',\n          className\n        )}\n        {...props}\n      />\n    </Portal>\n  );\n};\n\nconst comboboxItemVariants = cva(\n  'relative mx-1 flex h-[28px] items-center rounded-sm px-2 text-sm text-foreground outline-none select-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n  {\n    defaultVariants: {\n      interactive: true,\n    },\n    variants: {\n      interactive: {\n        false: '',\n        true: 'cursor-pointer transition-colors hover:bg-accent hover:text-accent-foreground data-[active-item=true]:bg-accent data-[active-item=true]:text-accent-foreground',\n      },\n    },\n  }\n);\n\nexport type InlineComboboxItemProps = {\n  focusEditor?: boolean;\n  group?: string;\n  keywords?: string[];\n  label?: string;\n} & ComboboxItemProps &\n  Required<Pick<ComboboxItemProps, 'value'>>;\n\nconst InlineComboboxItem = ({\n  className,\n  focusEditor = true,\n  group,\n  keywords,\n  label,\n  onClick,\n  ...props\n}: InlineComboboxItemProps) => {\n  const { value } = props;\n\n  const { filter, removeInput } = React.useContext(InlineComboboxContext);\n\n  const store = useComboboxContext()!;\n\n  // Optimization: Do not subscribe to value if filter is false\n  const search = filter && store.useState('value');\n\n  const visible = React.useMemo(\n    () =>\n      !filter || filter({ group, keywords, label, value }, search as string),\n    [filter, group, keywords, label, value, search]\n  );\n\n  if (!visible) return null;\n\n  return (\n    <ComboboxItem\n      className={cn(comboboxItemVariants(), className)}\n      onClick={(event) => {\n        removeInput(focusEditor);\n        onClick?.(event);\n      }}\n      {...props}\n    />\n  );\n};\n\nconst InlineComboboxEmpty = ({\n  children,\n  className,\n}: React.HTMLAttributes<HTMLDivElement>) => {\n  const { setHasEmpty } = React.useContext(InlineComboboxContext);\n  const store = useComboboxContext()!;\n  const items = store.useState('items');\n\n  React.useEffect(() => {\n    setHasEmpty(true);\n\n    return () => {\n      setHasEmpty(false);\n    };\n  }, [setHasEmpty]);\n\n  if (items.length > 0) return null;\n\n  return (\n    <div\n      className={cn(comboboxItemVariants({ interactive: false }), className)}\n    >\n      {children}\n    </div>\n  );\n};\n\nconst InlineComboboxRow = ComboboxRow;\n\nfunction InlineComboboxGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof ComboboxGroup>) {\n  return (\n    <ComboboxGroup\n      {...props}\n      className={cn(\n        'hidden py-1.5 not-last:border-b [&:has([role=option])]:block',\n        className\n      )}\n    />\n  );\n}\n\nfunction InlineComboboxGroupLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof ComboboxGroupLabel>) {\n  return (\n    <ComboboxGroupLabel\n      {...props}\n      className={cn(\n        'mt-1.5 mb-2 px-3 text-xs font-medium text-muted-foreground',\n        className\n      )}\n    />\n  );\n}\n\nexport {\n  InlineCombobox,\n  InlineComboboxContent,\n  InlineComboboxEmpty,\n  InlineComboboxGroup,\n  InlineComboboxGroupLabel,\n  InlineComboboxInput,\n  InlineComboboxItem,\n  InlineComboboxRow,\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { EmojiInlineIndexSearch, insertEmoji } from '@udecode/plate-emoji';\nimport { EmojiPlugin } from '@udecode/plate-emoji/react';\nimport { PlateElement, usePluginOption } from '@udecode/plate/react';\n\nimport { useDebounce } from '@/hooks/use-debounce';\n\nimport {\n  InlineCombobox,\n  InlineComboboxContent,\n  InlineComboboxEmpty,\n  InlineComboboxGroup,\n  InlineComboboxInput,\n  InlineComboboxItem,\n} from './inline-combobox';\n\nexport function EmojiInputElement(props: PlateElementProps) {\n  const { children, editor, element } = props;\n  const data = usePluginOption(EmojiPlugin, 'data')!;\n  const [value, setValue] = React.useState('');\n  const debouncedValue = useDebounce(value, 100);\n  const isPending = value !== debouncedValue;\n\n  const filteredEmojis = React.useMemo(() => {\n    if (debouncedValue.trim().length === 0) return [];\n\n    return EmojiInlineIndexSearch.getInstance(data)\n      .search(debouncedValue.replace(/:$/, ''))\n      .get();\n  }, [data, debouncedValue]);\n\n  return (\n    <PlateElement as=\"span\" data-slate-value={element.value} {...props}>\n      <InlineCombobox\n        value={value}\n        element={element}\n        filter={false}\n        setValue={setValue}\n        trigger=\":\"\n        hideWhenNoValue\n      >\n        <InlineComboboxInput />\n\n        <InlineComboboxContent>\n          {!isPending && <InlineComboboxEmpty>No results</InlineComboboxEmpty>}\n\n          <InlineComboboxGroup>\n            {filteredEmojis.map((emoji) => (\n              <InlineComboboxItem\n                key={emoji.id}\n                value={emoji.name}\n                onClick={() => insertEmoji(editor, emoji)}\n              >\n                {emoji.skins[0].native} {emoji.name}\n              </InlineComboboxItem>\n            ))}\n          </InlineComboboxGroup>\n        </InlineComboboxContent>\n      </InlineCombobox>\n\n      {children}\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\nimport TextareaAutosize, {\n  type TextareaAutosizeProps,\n} from 'react-textarea-autosize';\n\nimport type { TEquationElement } from '@udecode/plate-math';\n\nimport { useEquationInput } from '@udecode/plate-math/react';\nimport { BlockSelectionPlugin } from '@udecode/plate-selection/react';\nimport {\n  createPrimitiveComponent,\n  useEditorRef,\n  useElement,\n  useReadOnly,\n} from '@udecode/plate/react';\nimport { CornerDownLeftIcon } from 'lucide-react';\n\nimport { Button } from '@/components/ui/button';\nimport { PopoverContent } from '@/components/ui/popover';\nimport { cn } from '@/lib/utils';\n\nconst EquationInput = createPrimitiveComponent(TextareaAutosize)({\n  propsHook: useEquationInput,\n});\n\nconst EquationPopoverContent = ({\n  className,\n  isInline,\n  open,\n  setOpen,\n  ...props\n}: {\n  isInline: boolean;\n  open: boolean;\n  setOpen: (open: boolean) => void;\n} & TextareaAutosizeProps) => {\n  const editor = useEditorRef();\n  const readOnly = useReadOnly();\n  const element = useElement<TEquationElement>();\n\n  React.useEffect(() => {\n    if (isInline && open) {\n      setOpen(true);\n    }\n  }, [isInline, open, setOpen]);\n\n  if (readOnly) return null;\n\n  const onClose = () => {\n    setOpen(false);\n\n    if (isInline) {\n      editor.tf.select(element, { next: true });\n    } else {\n      editor\n        .getApi(BlockSelectionPlugin)\n        .blockSelection.set(element.id as string);\n    }\n  };\n\n  return (\n    <PopoverContent\n      className=\"flex gap-2\"\n      onEscapeKeyDown={(e) => {\n        e.preventDefault();\n      }}\n      contentEditable={false}\n    >\n      <EquationInput\n        className={cn('max-h-[50vh] grow resize-none p-2 text-sm', className)}\n        state={{ isInline, open, onClose }}\n        autoFocus\n        {...props}\n      />\n\n      <Button variant=\"secondary\" className=\"px-3\" onClick={onClose}>\n        Done <CornerDownLeftIcon className=\"size-3.5\" />\n      </Button>\n    </PopoverContent>\n  );\n};\n\nexport { EquationPopoverContent };\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TEquationElement } from '@udecode/plate-math';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { useEquationElement } from '@udecode/plate-math/react';\nimport {\n  PlateElement,\n  useEditorSelector,\n  useSelected,\n} from '@udecode/plate/react';\nimport { RadicalIcon } from 'lucide-react';\n\nimport { Popover, PopoverTrigger } from '@/components/ui/popover';\nimport { cn } from '@/lib/utils';\n\nimport { EquationPopoverContent } from './equation-popover';\n\nexport function InlineEquationElement(\n  props: PlateElementProps<TEquationElement>\n) {\n  const element = props.element;\n  const katexRef = React.useRef<HTMLDivElement | null>(null);\n  const selected = useSelected();\n  const isCollapsed = useEditorSelector(\n    (editor) => editor.api.isCollapsed(),\n    []\n  );\n  const [open, setOpen] = React.useState(selected && isCollapsed);\n\n  useEquationElement({\n    element,\n    katexRef: katexRef,\n    options: {\n      displayMode: true,\n      errorColor: '#cc0000',\n      fleqn: false,\n      leqno: false,\n      macros: { '\\\\f': '#1f(#2)' },\n      output: 'htmlAndMathml',\n      strict: 'warn',\n      throwOnError: false,\n      trust: false,\n    },\n  });\n\n  return (\n    <PlateElement\n      {...props}\n      className={cn(\n        'inline-block rounded-sm select-none [&_.katex-display]:my-0'\n      )}\n    >\n      <Popover open={open} onOpenChange={setOpen} modal={false}>\n        <PopoverTrigger asChild>\n          <div\n            className={cn(\n              'after:absolute after:inset-0 after:-top-0.5 after:-left-1 after:z-1 after:h-[calc(100%)+4px] after:w-[calc(100%+8px)] after:rounded-sm after:content-[\"\"]',\n              'h-6',\n              element.texExpression.length > 0 && open && 'after:bg-brand/15',\n              element.texExpression.length === 0 &&\n                'text-muted-foreground after:bg-neutral-500/10'\n            )}\n            contentEditable={false}\n          >\n            <span\n              ref={katexRef}\n              className={cn(\n                element.texExpression.length === 0 && 'hidden',\n                'font-mono leading-none'\n              )}\n            />\n            {element.texExpression.length === 0 && (\n              <span>\n                <RadicalIcon className=\"mr-1 inline-block h-[19px] w-4 py-[1.5px] align-text-bottom\" />\n                New equation\n              </span>\n            )}\n          </div>\n        </PopoverTrigger>\n\n        <EquationPopoverContent\n          className=\"my-auto\"\n          open={open}\n          placeholder=\"E = mc^2\"\n          setOpen={setOpen}\n          isInline\n        />\n      </Popover>\n\n      {props.children}\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TLinkElement } from '@udecode/plate-link';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { useLink } from '@udecode/plate-link/react';\nimport { PlateElement } from '@udecode/plate/react';\n\nexport function LinkElement(props: PlateElementProps<TLinkElement>) {\n  const { props: linkProps } = useLink({ element: props.element });\n\n  return (\n    <PlateElement\n      {...props}\n      as=\"a\"\n      className=\"font-medium text-primary underline decoration-primary underline-offset-4\"\n      attributes={{\n        ...props.attributes,\n        ...(linkProps as any),\n      }}\n    >\n      {props.children}\n    </PlateElement>\n  );\n}\n","import * as React from 'react';\n\nexport function useMounted() {\n  const [mounted, setMounted] = React.useState(false);\n\n  React.useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  return mounted;\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TMentionElement } from '@udecode/plate-mention';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { IS_APPLE } from '@udecode/plate';\nimport {\n  PlateElement,\n  useFocused,\n  useReadOnly,\n  useSelected,\n} from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\nimport { useMounted } from '@/hooks/use-mounted';\n\nexport function MentionElement(\n  props: PlateElementProps<TMentionElement> & {\n    prefix?: string;\n  }\n) {\n  const element = props.element;\n  const selected = useSelected();\n  const focused = useFocused();\n  const mounted = useMounted();\n  const readOnly = useReadOnly();\n\n  return (\n    <PlateElement\n      {...props}\n      className={cn(\n        'inline-block rounded-md bg-muted px-1.5 py-0.5 align-baseline text-sm font-medium',\n        !readOnly && 'cursor-pointer',\n        selected && focused && 'ring-2 ring-ring',\n        element.children[0].bold === true && 'font-bold',\n        element.children[0].italic === true && 'italic',\n        element.children[0].underline === true && 'underline'\n      )}\n      attributes={{\n        ...props.attributes,\n        contentEditable: false,\n        'data-slate-value': element.value,\n        draggable: true,\n      }}\n    >\n      {mounted && IS_APPLE ? (\n        // Mac OS IME https://github.com/ianstormtaylor/slate/issues/3490\n        <React.Fragment>\n          {props.children}\n          {props.prefix}\n          {element.value}\n        </React.Fragment>\n      ) : (\n        // Others like Android https://github.com/ianstormtaylor/slate/pull/5360\n        <React.Fragment>\n          {props.prefix}\n          {element.value}\n          {props.children}\n        </React.Fragment>\n      )}\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TMentionInputElement } from '@udecode/plate-mention';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { getMentionOnSelectItem } from '@udecode/plate-mention';\nimport { PlateElement } from '@udecode/plate/react';\n\nimport {\n  InlineCombobox,\n  InlineComboboxContent,\n  InlineComboboxEmpty,\n  InlineComboboxGroup,\n  InlineComboboxInput,\n  InlineComboboxItem,\n} from './inline-combobox';\n\nconst onSelectItem = getMentionOnSelectItem();\n\nexport function MentionInputElement(\n  props: PlateElementProps<TMentionInputElement>\n) {\n  const { editor, element } = props;\n  const [search, setSearch] = React.useState('');\n\n  return (\n    <PlateElement {...props} as=\"span\" data-slate-value={element.value}>\n      <InlineCombobox\n        value={search}\n        element={element}\n        setValue={setSearch}\n        showTrigger={false}\n        trigger=\"@\"\n      >\n        <span className=\"inline-block rounded-md bg-muted px-1.5 py-0.5 align-baseline text-sm ring-ring focus-within:ring-2\">\n          <InlineComboboxInput />\n        </span>\n\n        <InlineComboboxContent className=\"my-1.5\">\n          <InlineComboboxEmpty>No results</InlineComboboxEmpty>\n\n          <InlineComboboxGroup>\n            {MENTIONABLES.map((item) => (\n              <InlineComboboxItem\n                key={item.key}\n                value={item.text}\n                onClick={() => onSelectItem(editor, item, search)}\n              >\n                {item.text}\n              </InlineComboboxItem>\n            ))}\n          </InlineComboboxGroup>\n        </InlineComboboxContent>\n      </InlineCombobox>\n\n      {props.children}\n    </PlateElement>\n  );\n}\n\nexport const MENTIONABLES = [\n  { key: '0', text: 'Aayla Secura' },\n  { key: '1', text: 'Adi Gallia' },\n  {\n    key: '2',\n    text: 'Admiral Dodd Rancit',\n  },\n  {\n    key: '3',\n    text: 'Admiral Firmus Piett',\n  },\n  {\n    key: '4',\n    text: 'Admiral Gial Ackbar',\n  },\n  { key: '5', text: 'Admiral Ozzel' },\n  { key: '6', text: 'Admiral Raddus' },\n  {\n    key: '7',\n    text: 'Admiral Terrinald Screed',\n  },\n  { key: '8', text: 'Admiral Trench' },\n  {\n    key: '9',\n    text: 'Admiral U.O. Statura',\n  },\n  { key: '10', text: 'Agen Kolar' },\n  { key: '11', text: 'Agent Kallus' },\n  {\n    key: '12',\n    text: 'Aiolin and Morit Astarte',\n  },\n  { key: '13', text: 'Aks Moe' },\n  { key: '14', text: 'Almec' },\n  { key: '15', text: 'Alton Kastle' },\n  { key: '16', text: 'Amee' },\n  { key: '17', text: 'AP-5' },\n  { key: '18', text: 'Armitage Hux' },\n  { key: '19', text: 'Artoo' },\n  { key: '20', text: 'Arvel Crynyd' },\n  { key: '21', text: 'Asajj Ventress' },\n  { key: '22', text: 'Aurra Sing' },\n  { key: '23', text: 'AZI-3' },\n  { key: '24', text: 'Bala-Tik' },\n  { key: '25', text: 'Barada' },\n  { key: '26', text: 'Bargwill Tomder' },\n  { key: '27', text: 'Baron Papanoida' },\n  { key: '28', text: 'Barriss Offee' },\n  { key: '29', text: 'Baze Malbus' },\n  { key: '30', text: 'Bazine Netal' },\n  { key: '31', text: 'BB-8' },\n  { key: '32', text: 'BB-9E' },\n  { key: '33', text: 'Ben Quadinaros' },\n  { key: '34', text: 'Berch Teller' },\n  { key: '35', text: 'Beru Lars' },\n  { key: '36', text: 'Bib Fortuna' },\n  {\n    key: '37',\n    text: 'Biggs Darklighter',\n  },\n  { key: '38', text: 'Black Krrsantan' },\n  { key: '39', text: 'Bo-Katan Kryze' },\n  { key: '40', text: 'Boba Fett' },\n  { key: '41', text: 'Bobbajo' },\n  { key: '42', text: 'Bodhi Rook' },\n  { key: '43', text: 'Borvo the Hutt' },\n  { key: '44', text: 'Boss Nass' },\n  { key: '45', text: 'Bossk' },\n  {\n    key: '46',\n    text: 'Breha Antilles-Organa',\n  },\n  { key: '47', text: 'Bren Derlin' },\n  { key: '48', text: 'Brendol Hux' },\n  { key: '49', text: 'BT-1' },\n];\n","'use client';\n\nimport * as React from 'react';\n\nimport { withProps } from '@udecode/cn';\nimport { type Value, nanoid, NodeApi } from '@udecode/plate';\nimport { AIPlugin } from '@udecode/plate-ai/react';\nimport {\n  BasicMarksPlugin,\n  BoldPlugin,\n  ItalicPlugin,\n  StrikethroughPlugin,\n  UnderlinePlugin,\n} from '@udecode/plate-basic-marks/react';\nimport { getCommentKey, getDraftCommentKey } from '@udecode/plate-comments';\nimport { CommentsPlugin, useCommentId } from '@udecode/plate-comments/react';\nimport { DatePlugin } from '@udecode/plate-date/react';\nimport { EmojiInputPlugin } from '@udecode/plate-emoji/react';\nimport { LinkPlugin } from '@udecode/plate-link/react';\nimport { InlineEquationPlugin } from '@udecode/plate-math/react';\nimport {\n  MentionInputPlugin,\n  MentionPlugin,\n} from '@udecode/plate-mention/react';\nimport { Plate, useEditorRef, usePluginOption } from '@udecode/plate/react';\nimport { type CreatePlateEditorOptions, PlateLeaf } from '@udecode/plate/react';\nimport { ArrowUpIcon } from 'lucide-react';\n\nimport {\n  type TDiscussion,\n  discussionPlugin,\n} from '@/components/editor/plugins/discussion-plugin';\nimport { useCreateEditor } from '@/components/editor/use-create-editor';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\nimport type { TComment } from './comment';\n\nimport { AILeaf } from './ai-leaf';\nimport { DateElement } from './date-element';\nimport { Editor, EditorContainer } from './editor';\nimport { EmojiInputElement } from './emoji-input-element';\nimport { InlineEquationElement } from './inline-equation-element';\nimport { LinkElement } from './link-element';\nimport { MentionElement } from './mention-element';\nimport { MentionInputElement } from './mention-input-element';\n\nexport const useCommentEditor = (\n  options: Omit<CreatePlateEditorOptions, 'plugins'> = {},\n  deps: any[] = []\n) => {\n  const commentEditor = useCreateEditor(\n    {\n      id: 'comment',\n      components: {\n        [AIPlugin.key]: AILeaf,\n        [BoldPlugin.key]: withProps(PlateLeaf, { as: 'strong' }),\n        [DatePlugin.key]: DateElement,\n        [EmojiInputPlugin.key]: EmojiInputElement,\n        [InlineEquationPlugin.key]: InlineEquationElement,\n        [ItalicPlugin.key]: withProps(PlateLeaf, { as: 'em' }),\n        [LinkPlugin.key]: LinkElement,\n        [MentionInputPlugin.key]: MentionInputElement,\n        [MentionPlugin.key]: MentionElement,\n        [StrikethroughPlugin.key]: withProps(PlateLeaf, { as: 's' }),\n        [UnderlinePlugin.key]: withProps(PlateLeaf, { as: 'u' }),\n        // [SlashInputPlugin.key]: SlashInputElement,\n      },\n      placeholders: false,\n      plugins: [BasicMarksPlugin],\n      value: [],\n      ...options,\n    },\n    deps\n  );\n\n  return commentEditor;\n};\n\nexport function CommentCreateForm({\n  autoFocus = false,\n  className,\n  discussionId: discussionIdProp,\n  focusOnMount = false,\n}: {\n  autoFocus?: boolean;\n  className?: string;\n  discussionId?: string;\n  focusOnMount?: boolean;\n}) {\n  const discussions = usePluginOption(discussionPlugin, 'discussions');\n\n  const editor = useEditorRef();\n  const commentId = useCommentId();\n  const discussionId = discussionIdProp ?? commentId;\n\n  const userInfo = usePluginOption(discussionPlugin, 'currentUser');\n  const [commentValue, setCommentValue] = React.useState<Value | undefined>();\n  const commentContent = React.useMemo(\n    () =>\n      commentValue ? NodeApi.string({ children: commentValue, type: 'p' }) : '',\n    [commentValue]\n  );\n  const commentEditor = useCommentEditor({}, []);\n\n  React.useEffect(() => {\n    if (commentEditor && focusOnMount) {\n      commentEditor.tf.focus();\n    }\n  }, [commentEditor, focusOnMount]);\n\n  const onAddComment = React.useCallback(async () => {\n    if (!commentValue) return;\n\n    commentEditor.tf.reset();\n\n    if (discussionId) {\n      // Get existing discussion\n      const discussion = discussions.find((d) => d.id === discussionId);\n      if (!discussion) {\n        // Mock creating suggestion\n        const newDiscussion: TDiscussion = {\n          id: discussionId,\n          comments: [\n            {\n              id: nanoid(),\n              contentRich: commentValue,\n              createdAt: new Date(),\n              discussionId,\n              isEdited: false,\n              userId: editor.getOption(discussionPlugin, 'currentUserId'),\n            },\n          ],\n          createdAt: new Date(),\n          isResolved: false,\n          userId: editor.getOption(discussionPlugin, 'currentUserId'),\n        };\n\n        editor.setOption(discussionPlugin, 'discussions', [\n          ...discussions,\n          newDiscussion,\n        ]);\n        return;\n      }\n\n      // Create reply comment\n      const comment: TComment = {\n        id: nanoid(),\n        contentRich: commentValue,\n        createdAt: new Date(),\n        discussionId,\n        isEdited: false,\n        userId: editor.getOption(discussionPlugin, 'currentUserId'),\n      };\n\n      // Add reply to discussion comments\n      const updatedDiscussion = {\n        ...discussion,\n        comments: [...discussion.comments, comment],\n      };\n\n      // Filter out old discussion and add updated one\n      const updatedDiscussions = discussions\n        .filter((d) => d.id !== discussionId)\n        .concat(updatedDiscussion);\n\n      editor.setOption(discussionPlugin, 'discussions', updatedDiscussions);\n\n      return;\n    }\n\n    const commentsNodeEntry = editor\n      .getApi(CommentsPlugin)\n      .comment.nodes({ at: [], isDraft: true });\n\n    if (commentsNodeEntry.length === 0) return;\n\n    const documentContent = commentsNodeEntry\n      .map(([node]) => node.text)\n      .join('');\n\n    const _discussionId = nanoid();\n    // Mock creating new discussion\n    const newDiscussion: TDiscussion = {\n      id: _discussionId,\n      comments: [\n        {\n          id: nanoid(),\n          contentRich: commentValue,\n          createdAt: new Date(),\n          discussionId: _discussionId,\n          isEdited: false,\n          userId: editor.getOption(discussionPlugin, 'currentUserId'),\n        },\n      ],\n      createdAt: new Date(),\n      documentContent,\n      isResolved: false,\n      userId: editor.getOption(discussionPlugin, 'currentUserId'),\n    };\n\n    editor.setOption(discussionPlugin, 'discussions', [\n      ...discussions,\n      newDiscussion,\n    ]);\n\n    const id = newDiscussion.id;\n\n    commentsNodeEntry.forEach(([, path]) => {\n      editor.tf.setNodes(\n        {\n          [getCommentKey(id)]: true,\n        },\n        { at: path, split: true }\n      );\n      editor.tf.unsetNodes([getDraftCommentKey()], { at: path });\n    });\n  }, [commentValue, commentEditor.tf, discussionId, editor, discussions]);\n\n  return (\n    <div className={cn('flex w-full', className)}>\n      <div className=\"mt-2 mr-1 shrink-0\">\n        {/* backend */}\n        <Avatar className=\"size-5\">\n          <AvatarImage alt={userInfo?.name} src={userInfo?.avatarUrl} />\n          <AvatarFallback>{userInfo?.name?.[0]}</AvatarFallback>\n        </Avatar>\n      </div>\n\n      <div className=\"relative flex grow gap-2\">\n        <Plate\n          onChange={({ value }) => {\n            setCommentValue(value);\n          }}\n          editor={commentEditor}\n        >\n          <EditorContainer variant=\"comment\">\n            <Editor\n              variant=\"comment\"\n              className=\"min-h-[25px] grow pt-0.5 pr-8\"\n              onKeyDown={(e) => {\n                if (e.key === 'Enter' && !e.shiftKey) {\n                  e.preventDefault();\n                  onAddComment();\n                }\n              }}\n              placeholder=\"Reply...\"\n              autoComplete=\"off\"\n              autoFocus={autoFocus}\n            />\n\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              className=\"absolute right-0.5 bottom-0.5 ml-auto shrink-0\"\n              disabled={commentContent.trim().length === 0}\n              onClick={(e) => {\n                e.stopPropagation();\n                onAddComment();\n              }}\n            >\n              <div className=\"flex size-6 items-center justify-center rounded-full\">\n                <ArrowUpIcon />\n              </div>\n            </Button>\n          </EditorContainer>\n        </Plate>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { Value } from '@udecode/plate';\n\nimport { CommentsPlugin } from '@udecode/plate-comments/react';\nimport {\n  Plate,\n  useEditorPlugin,\n  useEditorRef,\n  usePluginOption,\n} from '@udecode/plate/react';\nimport {\n  differenceInDays,\n  differenceInHours,\n  differenceInMinutes,\n  format,\n} from 'date-fns';\nimport {\n  CheckIcon,\n  MoreHorizontalIcon,\n  PencilIcon,\n  TrashIcon,\n  XIcon,\n} from 'lucide-react';\n\nimport { discussionPlugin } from '@/components/editor/plugins/discussion-plugin';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Button } from '@/components/ui/button';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { cn } from '@/lib/utils';\n\nimport { useCommentEditor } from './comment-create-form';\nimport { Editor, EditorContainer } from './editor';\n\nexport const formatCommentDate = (date: Date) => {\n  const now = new Date();\n  const diffMinutes = differenceInMinutes(now, date);\n  const diffHours = differenceInHours(now, date);\n  const diffDays = differenceInDays(now, date);\n\n  if (diffMinutes < 60) {\n    return `${diffMinutes}m`;\n  }\n  if (diffHours < 24) {\n    return `${diffHours}h`;\n  }\n  if (diffDays < 2) {\n    return `${diffDays}d`;\n  }\n\n  return format(date, 'MM/dd/yyyy');\n};\n\nexport interface TComment {\n  id: string;\n  contentRich: Value;\n  createdAt: Date;\n  discussionId: string;\n  isEdited: boolean;\n  userId: string;\n}\n\nexport function Comment(props: {\n  comment: TComment;\n  discussionLength: number;\n  editingId: string | null;\n  index: number;\n  setEditingId: React.Dispatch<React.SetStateAction<string | null>>;\n  documentContent?: string;\n  showDocumentContent?: boolean;\n  onEditorClick?: () => void;\n}) {\n  const {\n    comment,\n    discussionLength,\n    documentContent,\n    editingId,\n    index,\n    setEditingId,\n    showDocumentContent = false,\n    onEditorClick,\n  } = props;\n\n  const editor = useEditorRef();\n  const userInfo = usePluginOption(discussionPlugin, 'user', comment.userId);\n  const currentUserId = usePluginOption(discussionPlugin, 'currentUserId');\n\n  const resolveDiscussion = async (id: string) => {\n    const updatedDiscussions = editor\n      .getOption(discussionPlugin, 'discussions')\n      .map((discussion) => {\n        if (discussion.id === id) {\n          return { ...discussion, isResolved: true };\n        }\n        return discussion;\n      });\n    editor.setOption(discussionPlugin, 'discussions', updatedDiscussions);\n  };\n\n  const removeDiscussion = async (id: string) => {\n    const updatedDiscussions = editor\n      .getOption(discussionPlugin, 'discussions')\n      .filter((discussion) => discussion.id !== id);\n    editor.setOption(discussionPlugin, 'discussions', updatedDiscussions);\n  };\n\n  const updateComment = async (input: {\n    id: string;\n    contentRich: Value;\n    discussionId: string;\n    isEdited: boolean;\n  }) => {\n    const updatedDiscussions = editor\n      .getOption(discussionPlugin, 'discussions')\n      .map((discussion) => {\n        if (discussion.id === input.discussionId) {\n          const updatedComments = discussion.comments.map((comment) => {\n            if (comment.id === input.id) {\n              return {\n                ...comment,\n                contentRich: input.contentRich,\n                isEdited: true,\n                updatedAt: new Date(),\n              };\n            }\n            return comment;\n          });\n          return { ...discussion, comments: updatedComments };\n        }\n        return discussion;\n      });\n    editor.setOption(discussionPlugin, 'discussions', updatedDiscussions);\n  };\n\n  const { tf } = useEditorPlugin(CommentsPlugin);\n\n  // Replace to your own backend or refer to potion\n  const isMyComment = currentUserId === comment.userId;\n\n  const initialValue = comment.contentRich;\n\n  const commentEditor = useCommentEditor(\n    {\n      id: comment.id,\n      value: initialValue,\n    },\n    [initialValue]\n  );\n\n  const onCancel = () => {\n    setEditingId(null);\n    commentEditor.tf.replaceNodes(initialValue, {\n      at: [],\n      children: true,\n    });\n  };\n\n  const onSave = () => {\n    void updateComment({\n      id: comment.id,\n      contentRich: commentEditor.children,\n      discussionId: comment.discussionId,\n      isEdited: true,\n    });\n    setEditingId(null);\n  };\n\n  const onResolveComment = () => {\n    void resolveDiscussion(comment.discussionId);\n    tf.comment.unsetMark({ id: comment.discussionId });\n  };\n\n  const isFirst = index === 0;\n  const isLast = index === discussionLength - 1;\n  const isEditing = editingId && editingId === comment.id;\n\n  const [hovering, setHovering] = React.useState(false);\n  const [dropdownOpen, setDropdownOpen] = React.useState(false);\n\n  return (\n    <div\n      onMouseEnter={() => setHovering(true)}\n      onMouseLeave={() => setHovering(false)}\n    >\n      <div className=\"relative flex items-center\">\n        <Avatar className=\"size-5\">\n          <AvatarImage alt={userInfo?.name} src={userInfo?.avatarUrl} />\n          <AvatarFallback>{userInfo?.name?.[0]}</AvatarFallback>\n        </Avatar>\n        <h4 className=\"mx-2 text-sm leading-none font-semibold\">\n          {/* Replace to your own backend or refer to potion */}\n          {userInfo?.name}\n        </h4>\n\n        <div className=\"text-xs leading-none text-muted-foreground/80\">\n          <span className=\"mr-1\">\n            {formatCommentDate(new Date(comment.createdAt))}\n          </span>\n          {comment.isEdited && <span>(edited)</span>}\n        </div>\n\n        {isMyComment && (hovering || dropdownOpen) && (\n          <div className=\"absolute top-0 right-0 flex space-x-1\">\n            {index === 0 && (\n              <Button\n                variant=\"ghost\"\n                className=\"h-6 p-1 text-muted-foreground\"\n                onClick={onResolveComment}\n                type=\"button\"\n              >\n                <CheckIcon className=\"size-4\" />\n              </Button>\n            )}\n\n            <CommentMoreDropdown\n              onCloseAutoFocus={() => {\n                setTimeout(() => {\n                  commentEditor.tf.focus({ edge: 'endEditor' });\n                }, 0);\n              }}\n              onRemoveComment={() => {\n                if (discussionLength === 1) {\n                  tf.comment.unsetMark({ id: comment.discussionId });\n                  void removeDiscussion(comment.discussionId);\n                }\n              }}\n              comment={comment}\n              dropdownOpen={dropdownOpen}\n              setDropdownOpen={setDropdownOpen}\n              setEditingId={setEditingId}\n            />\n          </div>\n        )}\n      </div>\n\n      {isFirst && showDocumentContent && (\n        <div className=\"text-subtle-foreground relative mt-1 flex pl-[32px] text-sm\">\n          {discussionLength > 1 && (\n            <div className=\"absolute top-[5px] left-3 h-full w-0.5 shrink-0 bg-muted\" />\n          )}\n          <div className=\"my-px w-0.5 shrink-0 bg-highlight\" />\n          {documentContent && <div className=\"ml-2\">{documentContent}</div>}\n        </div>\n      )}\n\n      <div className=\"relative my-1 pl-[26px]\">\n        {!isLast && (\n          <div className=\"absolute top-0 left-3 h-full w-0.5 shrink-0 bg-muted\" />\n        )}\n        <Plate readOnly={!isEditing} editor={commentEditor}>\n          <EditorContainer variant=\"comment\">\n            <Editor\n              variant=\"comment\"\n              className=\"w-auto grow\"\n              onClick={() => onEditorClick?.()}\n            />\n\n            {isEditing && (\n              <div className=\"ml-auto flex shrink-0 gap-1\">\n                <Button\n                  size=\"icon\"\n                  variant=\"ghost\"\n                  className=\"size-[28px]\"\n                  onClick={(e: React.MouseEvent<HTMLButtonElement>) => {\n                    e.stopPropagation();\n                    void onCancel();\n                  }}\n                >\n                  <div className=\"flex size-5 shrink-0 items-center justify-center rounded-[50%] bg-primary/40\">\n                    <XIcon className=\"size-3 stroke-[3px] text-background\" />\n                  </div>\n                </Button>\n\n                <Button\n                  size=\"icon\"\n                  variant=\"ghost\"\n                  onClick={(e: React.MouseEvent<HTMLButtonElement>) => {\n                    e.stopPropagation();\n                    void onSave();\n                  }}\n                >\n                  <div className=\"flex size-5 shrink-0 items-center justify-center rounded-[50%] bg-brand\">\n                    <CheckIcon className=\"size-3 stroke-[3px] text-background\" />\n                  </div>\n                </Button>\n              </div>\n            )}\n          </EditorContainer>\n        </Plate>\n      </div>\n    </div>\n  );\n}\ninterface CommentMoreDropdownProps {\n  comment: TComment;\n  dropdownOpen: boolean;\n  setDropdownOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  setEditingId: React.Dispatch<React.SetStateAction<string | null>>;\n  onCloseAutoFocus?: () => void;\n  onRemoveComment?: () => void;\n}\n\nexport function CommentMoreDropdown(props: CommentMoreDropdownProps) {\n  const {\n    comment,\n    dropdownOpen,\n    setDropdownOpen,\n    setEditingId,\n    onCloseAutoFocus,\n    onRemoveComment,\n  } = props;\n\n  const editor = useEditorRef();\n\n  const selectedEditCommentRef = React.useRef<boolean>(false);\n\n  const onDeleteComment = React.useCallback(() => {\n    if (!comment.id)\n      return alert('You are operating too quickly, please try again later.');\n\n    // Find and update the discussion\n    const updatedDiscussions = editor\n      .getOption(discussionPlugin, 'discussions')\n      .map((discussion) => {\n        if (discussion.id !== comment.discussionId) {\n          return discussion;\n        }\n\n        const commentIndex = discussion.comments.findIndex(\n          (c) => c.id === comment.id\n        );\n        if (commentIndex === -1) {\n          return discussion;\n        }\n\n        return {\n          ...discussion,\n          comments: [\n            ...discussion.comments.slice(0, commentIndex),\n            ...discussion.comments.slice(commentIndex + 1),\n          ],\n        };\n      });\n\n    // Save back to session storage\n    editor.setOption(discussionPlugin, 'discussions', updatedDiscussions);\n    onRemoveComment?.();\n  }, [comment.discussionId, comment.id, editor, onRemoveComment]);\n\n  const onEditComment = React.useCallback(() => {\n    selectedEditCommentRef.current = true;\n\n    if (!comment.id)\n      return alert('You are operating too quickly, please try again later.');\n\n    setEditingId(comment.id);\n  }, [comment.id, setEditingId]);\n\n  return (\n    <DropdownMenu\n      open={dropdownOpen}\n      onOpenChange={setDropdownOpen}\n      modal={false}\n    >\n      <DropdownMenuTrigger asChild onClick={(e) => e.stopPropagation()}>\n        <Button variant=\"ghost\" className={cn('h-6 p-1 text-muted-foreground')}>\n          <MoreHorizontalIcon className=\"size-4\" />\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent\n        className=\"w-48\"\n        onCloseAutoFocus={(e) => {\n          if (selectedEditCommentRef.current) {\n            onCloseAutoFocus?.();\n            selectedEditCommentRef.current = false;\n          }\n\n          return e.preventDefault();\n        }}\n      >\n        <DropdownMenuGroup>\n          <DropdownMenuItem onClick={onEditComment}>\n            <PencilIcon className=\"size-4\" />\n            Edit comment\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={onDeleteComment}>\n            <TrashIcon className=\"size-4\" />\n            Delete comment\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type {\n  TResolvedSuggestion,\n  TSuggestionElement,\n  TSuggestionText,\n} from '@udecode/plate-suggestion';\n\nimport {\n  type NodeEntry,\n  type Path,\n  type TElement,\n  ElementApi,\n  PathApi,\n  TextApi,\n} from '@udecode/plate';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { TocPlugin } from '@udecode/plate-heading/react';\nimport { HorizontalRulePlugin } from '@udecode/plate-horizontal-rule/react';\nimport { INDENT_LIST_KEYS, ListStyleType } from '@udecode/plate-indent-list';\nimport { IndentListPlugin } from '@udecode/plate-indent-list/react';\nimport { ColumnPlugin } from '@udecode/plate-layout/react';\nimport { EquationPlugin } from '@udecode/plate-math/react';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  MediaEmbedPlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport {\n  acceptSuggestion,\n  getSuggestionKey,\n  keyId2SuggestionId,\n  rejectSuggestion,\n} from '@udecode/plate-suggestion';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport { TablePlugin } from '@udecode/plate-table/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport {\n  ParagraphPlugin,\n  useEditorPlugin,\n  usePluginOption,\n} from '@udecode/plate/react';\nimport { CheckIcon, XIcon } from 'lucide-react';\n\nimport {\n  type TDiscussion,\n  discussionPlugin,\n} from '@/components/editor/plugins/discussion-plugin';\nimport { suggestionPlugin } from '@/components/editor/plugins/suggestion-plugin';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\nimport { type TComment, Comment, formatCommentDate } from './comment';\nimport { CommentCreateForm } from './comment-create-form';\n\nexport interface ResolvedSuggestion extends TResolvedSuggestion {\n  comments: TComment[];\n}\n\nexport const BLOCK_SUGGESTION = '__block__';\n\nexport const TYPE_TEXT_MAP: Record<string, (node?: TElement) => string> = {\n  [AudioPlugin.key]: () => 'Audio',\n  [BlockquotePlugin.key]: () => 'Blockquote',\n  [CalloutPlugin.key]: () => 'Callout',\n  [CodeBlockPlugin.key]: () => 'Code Block',\n  [ColumnPlugin.key]: () => 'Column',\n  [EquationPlugin.key]: () => 'Equation',\n  [FilePlugin.key]: () => 'File',\n  [HEADING_KEYS.h1]: () => `Heading 1`,\n  [HEADING_KEYS.h2]: () => `Heading 2`,\n  [HEADING_KEYS.h3]: () => `Heading 3`,\n  [HEADING_KEYS.h4]: () => `Heading 4`,\n  [HEADING_KEYS.h5]: () => `Heading 5`,\n  [HEADING_KEYS.h6]: () => `Heading 6`,\n  [HorizontalRulePlugin.key]: () => 'Horizontal Rule',\n  [ImagePlugin.key]: () => 'Image',\n  [MediaEmbedPlugin.key]: () => 'Media',\n  [ParagraphPlugin.key]: (node) => {\n    if (node?.[IndentListPlugin.key] === INDENT_LIST_KEYS.todo)\n      return 'Todo List';\n    if (node?.[IndentListPlugin.key] === ListStyleType.Decimal)\n      return 'Ordered List';\n    if (node?.[IndentListPlugin.key] === ListStyleType.Disc) return 'List';\n\n    return 'Paragraph';\n  },\n  [TablePlugin.key]: () => 'Table',\n  [TocPlugin.key]: () => 'Table of Contents',\n  [TogglePlugin.key]: () => 'Toggle',\n  [VideoPlugin.key]: () => 'Video',\n};\n\nexport const BlockSuggestionCard = ({\n  idx,\n  isLast,\n  suggestion,\n}: {\n  idx: number;\n  isLast: boolean;\n  suggestion: ResolvedSuggestion;\n}) => {\n  const { api, editor } = useEditorPlugin(SuggestionPlugin);\n\n  const userInfo = usePluginOption(discussionPlugin, 'user', suggestion.userId);\n\n  const accept = (suggestion: ResolvedSuggestion) => {\n    api.suggestion.withoutSuggestions(() => {\n      acceptSuggestion(editor, suggestion);\n    });\n  };\n\n  const reject = (suggestion: ResolvedSuggestion) => {\n    api.suggestion.withoutSuggestions(() => {\n      rejectSuggestion(editor, suggestion);\n    });\n  };\n\n  const [hovering, setHovering] = React.useState(false);\n\n  const suggestionText2Array = (text: string) => {\n    if (text === BLOCK_SUGGESTION) return ['line breaks'];\n\n    return text.split(BLOCK_SUGGESTION).filter(Boolean);\n  };\n\n  const [editingId, setEditingId] = React.useState<string | null>(null);\n\n  return (\n    <div\n      key={`${suggestion.suggestionId}-${idx}`}\n      className=\"relative\"\n      onMouseEnter={() => setHovering(true)}\n      onMouseLeave={() => setHovering(false)}\n    >\n      <div className=\"flex flex-col p-4\">\n        <div className=\"relative flex items-center\">\n          {/* Replace to your own backend or refer to potion */}\n          <Avatar className=\"size-5\">\n            <AvatarImage alt={userInfo?.name} src={userInfo?.avatarUrl} />\n            <AvatarFallback>{userInfo?.name?.[0]}</AvatarFallback>\n          </Avatar>\n          <h4 className=\"mx-2 text-sm leading-none font-semibold\">\n            {userInfo?.name}\n          </h4>\n          <div className=\"text-xs leading-none text-muted-foreground/80\">\n            <span className=\"mr-1\">\n              {formatCommentDate(new Date(suggestion.createdAt))}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"relative mt-1 mb-4 pl-[32px]\">\n          <div className=\"flex flex-col gap-2\">\n            {suggestion.type === 'remove' && (\n              <React.Fragment>\n                {suggestionText2Array(suggestion.text!).map((text, index) => (\n                  <div key={index} className=\"flex items-center gap-2\">\n                    <span className=\"text-sm text-muted-foreground\">\n                      Delete:\n                    </span>\n\n                    <span key={index} className=\"text-sm\">\n                      {text}\n                    </span>\n                  </div>\n                ))}\n              </React.Fragment>\n            )}\n\n            {suggestion.type === 'insert' && (\n              <React.Fragment>\n                {suggestionText2Array(suggestion.newText!).map(\n                  (text, index) => (\n                    <div key={index} className=\"flex items-center gap-2\">\n                      <span className=\"text-sm text-muted-foreground\">\n                        Add:\n                      </span>\n\n                      <span key={index} className=\"text-sm\">\n                        {text || 'line breaks'}\n                      </span>\n                    </div>\n                  )\n                )}\n              </React.Fragment>\n            )}\n\n            {suggestion.type === 'replace' && (\n              <div className=\"flex flex-col gap-2\">\n                {suggestionText2Array(suggestion.newText!).map(\n                  (text, index) => (\n                    <React.Fragment key={index}>\n                      <div\n                        key={index}\n                        className=\"flex items-start gap-2 text-brand/80\"\n                      >\n                        <span className=\"text-sm\">with:</span>\n                        <span className=\"text-sm\">{text || 'line breaks'}</span>\n                      </div>\n                    </React.Fragment>\n                  )\n                )}\n\n                {suggestionText2Array(suggestion.text!).map((text, index) => (\n                  <React.Fragment key={index}>\n                    <div key={index} className=\"flex items-start gap-2\">\n                      <span className=\"text-sm text-muted-foreground\">\n                        {index === 0 ? 'Replace:' : 'Delete:'}\n                      </span>\n                      <span className=\"text-sm\">{text || 'line breaks'}</span>\n                    </div>\n                  </React.Fragment>\n                ))}\n              </div>\n            )}\n\n            {suggestion.type === 'update' && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-sm text-muted-foreground\">\n                  {Object.keys(suggestion.properties).map((key) => (\n                    <span key={key}>Un{key}</span>\n                  ))}\n\n                  {Object.keys(suggestion.newProperties).map((key) => (\n                    <span key={key}>\n                      {key.charAt(0).toUpperCase() + key.slice(1)}\n                    </span>\n                  ))}\n                </span>\n                <span className=\"text-sm\">{suggestion.newText}</span>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {suggestion.comments.map((comment, index) => (\n          <Comment\n            key={comment.id ?? index}\n            comment={comment}\n            discussionLength={suggestion.comments.length}\n            documentContent=\"__suggestion__\"\n            editingId={editingId}\n            index={index}\n            setEditingId={setEditingId}\n          />\n        ))}\n\n        {hovering && (\n          <div className=\"absolute top-4 right-4 flex gap-2\">\n            <Button\n              variant=\"ghost\"\n              className=\"h-6 p-1 text-muted-foreground\"\n              onClick={() => accept(suggestion)}\n            >\n              <CheckIcon className=\"size-4\" />\n            </Button>\n\n            <Button\n              variant=\"ghost\"\n              className=\"h-6 p-1 text-muted-foreground\"\n              onClick={() => reject(suggestion)}\n            >\n              <XIcon className=\"size-4\" />\n            </Button>\n          </div>\n        )}\n\n        <CommentCreateForm discussionId={suggestion.suggestionId} />\n      </div>\n\n      {!isLast && <div className=\"h-px w-full bg-muted\" />}\n    </div>\n  );\n};\n\nexport const useResolveSuggestion = (\n  suggestionNodes: NodeEntry<TElement | TSuggestionText>[],\n  blockPath: Path\n) => {\n  const discussions = usePluginOption(discussionPlugin, 'discussions');\n\n  const { api, editor, getOption, setOption } =\n    useEditorPlugin(suggestionPlugin);\n\n  suggestionNodes.forEach(([node]) => {\n    const id = api.suggestion.nodeId(node);\n    const map = getOption('uniquePathMap');\n\n    if (!id) return;\n\n    const previousPath = map.get(id);\n\n    if (PathApi.isPath(previousPath)) {\n      const nodes = api.suggestion.node({ id, at: previousPath, isText: true });\n      const parentNode = api.node(previousPath);\n      let lineBreakId: string | null = null;\n\n      if (parentNode && ElementApi.isElement(parentNode[0])) {\n        lineBreakId = api.suggestion.nodeId(parentNode[0]) ?? null;\n      }\n\n      if (!nodes && lineBreakId !== id) {\n        return setOption('uniquePathMap', new Map(map).set(id, blockPath));\n      }\n\n      return;\n    }\n    setOption('uniquePathMap', new Map(map).set(id, blockPath));\n  });\n\n  const resolvedSuggestion: ResolvedSuggestion[] = React.useMemo(() => {\n    const map = getOption('uniquePathMap');\n\n    if (suggestionNodes.length === 0) return [];\n\n    const suggestionIds = new Set(\n      suggestionNodes\n        .flatMap(([node]) => {\n          if (TextApi.isText(node)) {\n            const dataList = api.suggestion.dataList(node);\n            const includeUpdate = dataList.some(\n              (data) => data.type === 'update'\n            );\n\n            if (!includeUpdate) return api.suggestion.nodeId(node);\n\n            return dataList\n              .filter((data) => data.type === 'update')\n              .map((d) => d.id);\n          }\n          if (ElementApi.isElement(node)) {\n            return api.suggestion.nodeId(node);\n          }\n        })\n        .filter(Boolean)\n    );\n\n    const res: ResolvedSuggestion[] = [];\n\n    suggestionIds.forEach((id) => {\n      if (!id) return;\n\n      const path = map.get(id);\n\n      if (!path || !PathApi.isPath(path)) return;\n      if (!PathApi.equals(path, blockPath)) return;\n\n      const entries = [\n        ...editor.api.nodes<TElement | TSuggestionText>({\n          at: [],\n          mode: 'all',\n          match: (n) =>\n            (n[SuggestionPlugin.key] && n[getSuggestionKey(id)]) ||\n            api.suggestion.nodeId(n as TElement) === id,\n        }),\n      ];\n\n      entries.sort(([, path1], [, path2]) => {\n        return PathApi.isChild(path1, path2) ? -1 : 1;\n      });\n\n      let newText = '';\n      let text = '';\n      let properties: any = {};\n      let newProperties: any = {};\n\n      entries.forEach(([node]) => {\n        if (TextApi.isText(node)) {\n          const dataList = api.suggestion.dataList(node);\n\n          dataList.forEach((data) => {\n            if (data.id !== id) return;\n\n            switch (data.type) {\n              case 'insert': {\n                newText += node.text;\n\n                break;\n              }\n              case 'remove': {\n                text += node.text;\n\n                break;\n              }\n              case 'update': {\n                properties = {\n                  ...properties,\n                  ...data.properties,\n                };\n\n                newProperties = {\n                  ...newProperties,\n                  ...data.newProperties,\n                };\n\n                newText += node.text;\n\n                break;\n              }\n            }\n          });\n        } else {\n          const lineBreakData = api.suggestion.isBlockSuggestion(node)\n            ? node.suggestion\n            : undefined;\n\n          if (lineBreakData?.id !== keyId2SuggestionId(id)) return;\n          if (lineBreakData.type === 'insert') {\n            newText += lineBreakData.isLineBreak\n              ? BLOCK_SUGGESTION\n              : BLOCK_SUGGESTION + TYPE_TEXT_MAP[node.type](node);\n          } else if (lineBreakData.type === 'remove') {\n            text += lineBreakData.isLineBreak\n              ? BLOCK_SUGGESTION\n              : BLOCK_SUGGESTION + TYPE_TEXT_MAP[node.type](node);\n          }\n        }\n      });\n\n      if (entries.length === 0) return;\n\n      const nodeData = api.suggestion.suggestionData(entries[0][0]);\n\n      if (!nodeData) return;\n\n      const comments =\n        discussions.find((s: TDiscussion) => s.id === id)?.comments || [];\n      const createdAt = new Date(nodeData.createdAt);\n\n      const keyId = getSuggestionKey(id);\n\n      if (nodeData.type === 'update') {\n        return res.push({\n          comments,\n          createdAt,\n          keyId,\n          newProperties,\n          newText,\n          properties,\n          suggestionId: keyId2SuggestionId(id),\n          type: 'update',\n          userId: nodeData.userId,\n        });\n      }\n      if (newText.length > 0 && text.length > 0) {\n        return res.push({\n          comments,\n          createdAt,\n          keyId,\n          newText,\n          suggestionId: keyId2SuggestionId(id),\n          text,\n          type: 'replace',\n          userId: nodeData.userId,\n        });\n      }\n      if (newText.length > 0) {\n        return res.push({\n          comments,\n          createdAt,\n          keyId,\n          newText,\n          suggestionId: keyId2SuggestionId(id),\n          type: 'insert',\n          userId: nodeData.userId,\n        });\n      }\n      if (text.length > 0) {\n        return res.push({\n          comments,\n          createdAt,\n          keyId,\n          suggestionId: keyId2SuggestionId(id),\n          text,\n          type: 'remove',\n          userId: nodeData.userId,\n        });\n      }\n    });\n\n    return res;\n  }, [\n    api.suggestion,\n    blockPath,\n    discussions,\n    editor.api,\n    getOption,\n    suggestionNodes,\n  ]);\n\n  return resolvedSuggestion;\n};\n\nexport const isResolvedSuggestion = (\n  suggestion: ResolvedSuggestion | TDiscussion\n): suggestion is ResolvedSuggestion => {\n  return 'suggestionId' in suggestion;\n};\n\nexport function BlockSuggestion({ element }: { element: TSuggestionElement }) {\n  const suggestionData = element.suggestion;\n\n  if (suggestionData?.isLineBreak) return null;\n\n  const isRemove = suggestionData?.type === 'remove';\n\n  return (\n    <div\n      className={cn(\n        'pointer-events-none absolute inset-0 z-1 border-2 border-brand/[0.8] transition-opacity',\n        isRemove && 'border-gray-300'\n      )}\n      contentEditable={false}\n    />\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TSuggestionText } from '@udecode/plate-suggestion';\nimport type {\n  PlateElementProps,\n  RenderNodeWrapper,\n} from '@udecode/plate/react';\n\nimport {\n  type AnyPluginConfig,\n  type NodeEntry,\n  type Path,\n  type TElement,\n  PathApi,\n  TextApi,\n} from '@udecode/plate';\nimport { type TCommentText, getDraftCommentKey } from '@udecode/plate-comments';\nimport { CommentsPlugin } from '@udecode/plate-comments/react';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport {\n  useEditorPlugin,\n  useEditorRef,\n  usePluginOption,\n} from '@udecode/plate/react';\nimport {\n  MessageSquareTextIcon,\n  MessagesSquareIcon,\n  PencilLineIcon,\n} from 'lucide-react';\n\nimport { commentsPlugin } from '@/components/editor/plugins/comments-plugin';\nimport {\n  type TDiscussion,\n  discussionPlugin,\n} from '@/components/editor/plugins/discussion-plugin';\nimport { suggestionPlugin } from '@/components/editor/plugins/suggestion-plugin';\nimport { Button } from '@/components/ui/button';\nimport {\n  Popover,\n  PopoverAnchor,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover';\n\nimport {\n  BlockSuggestionCard,\n  isResolvedSuggestion,\n  useResolveSuggestion,\n} from './block-suggestion';\nimport { Comment } from './comment';\nimport { CommentCreateForm } from './comment-create-form';\n\nexport const BlockDiscussion: RenderNodeWrapper<AnyPluginConfig> = (props) => {\n  const { editor, element } = props;\n\n  const commentsApi = editor.getApi(CommentsPlugin).comment;\n  const blockPath = editor.api.findPath(element);\n\n  if (!blockPath || blockPath.length > 1) return;\n\n  const draftCommentNode = commentsApi.node({ at: blockPath, isDraft: true });\n\n  const commentNodes = [...commentsApi.nodes({ at: blockPath })];\n\n  const suggestionNodes = [\n    ...editor.getApi(SuggestionPlugin).suggestion.nodes({ at: blockPath }),\n  ];\n\n  if (\n    commentNodes.length === 0 &&\n    suggestionNodes.length === 0 &&\n    !draftCommentNode\n  ) {\n    return;\n  }\n\n  return (props) => (\n    <BlockCommentsContent\n      blockPath={blockPath}\n      commentNodes={commentNodes}\n      draftCommentNode={draftCommentNode}\n      suggestionNodes={suggestionNodes}\n      {...props}\n    />\n  );\n};\n\nconst BlockCommentsContent = ({\n  blockPath,\n  children,\n  commentNodes,\n  draftCommentNode,\n  suggestionNodes,\n}: PlateElementProps & {\n  blockPath: Path;\n  commentNodes: NodeEntry<TCommentText>[];\n  draftCommentNode: NodeEntry<TCommentText> | undefined;\n  suggestionNodes: NodeEntry<TElement | TSuggestionText>[];\n}) => {\n  const editor = useEditorRef();\n\n  const resolvedSuggestions = useResolveSuggestion(suggestionNodes, blockPath);\n  const resolvedDiscussions = useResolvedDiscussion(commentNodes, blockPath);\n\n  const suggestionsCount = resolvedSuggestions.length;\n  const discussionsCount = resolvedDiscussions.length;\n  const totalCount = suggestionsCount + discussionsCount;\n\n  const activeSuggestionId = usePluginOption(suggestionPlugin, 'activeId');\n  const activeSuggestion =\n    activeSuggestionId &&\n    resolvedSuggestions.find((s) => s.suggestionId === activeSuggestionId);\n\n  const commentingBlock = usePluginOption(commentsPlugin, 'commentingBlock');\n  const activeCommentId = usePluginOption(commentsPlugin, 'activeId');\n  const isCommenting = activeCommentId === getDraftCommentKey();\n  const activeDiscussion =\n    activeCommentId &&\n    resolvedDiscussions.find((d) => d.id === activeCommentId);\n\n  const noneActive = !activeSuggestion && !activeDiscussion;\n\n  const sortedMergedData = [\n    ...resolvedDiscussions,\n    ...resolvedSuggestions,\n  ].sort((a, b) => a.createdAt.getTime() - b.createdAt.getTime());\n\n  const selected =\n    resolvedDiscussions.some((d) => d.id === activeCommentId) ||\n    resolvedSuggestions.some((s) => s.suggestionId === activeSuggestionId);\n\n  const [_open, setOpen] = React.useState(selected);\n\n  const commentingCurrent =\n    !!commentingBlock && PathApi.equals(blockPath, commentingBlock);\n\n  const open =\n    _open ||\n    selected ||\n    (isCommenting && !!draftCommentNode && commentingCurrent);\n\n  const anchorElement = React.useMemo(() => {\n    let activeNode: NodeEntry | undefined;\n\n    if (activeSuggestion) {\n      activeNode = suggestionNodes.find(\n        ([node]) =>\n          TextApi.isText(node) &&\n          editor.getApi(SuggestionPlugin).suggestion.nodeId(node) ===\n            activeSuggestion.suggestionId\n      );\n    }\n\n    if (activeCommentId) {\n      if (activeCommentId === getDraftCommentKey()) {\n        activeNode = draftCommentNode;\n      } else {\n        activeNode = commentNodes.find(\n          ([node]) =>\n            editor.getApi(CommentsPlugin).comment.nodeId(node) ===\n            activeCommentId\n        );\n      }\n    }\n\n    if (!activeNode) return null;\n\n    return editor.api.toDOMNode(activeNode[0])!;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    open,\n    activeSuggestion,\n    activeCommentId,\n    editor.api,\n    suggestionNodes,\n    draftCommentNode,\n    commentNodes,\n  ]);\n\n  if (suggestionsCount + resolvedDiscussions.length === 0 && !draftCommentNode)\n    return <div className=\"w-full\">{children}</div>;\n\n  return (\n    <div className=\"flex w-full justify-between\">\n      <Popover\n        open={open}\n        onOpenChange={(_open_) => {\n          if (!_open_ && isCommenting && draftCommentNode) {\n            editor.tf.unsetNodes(getDraftCommentKey(), {\n              at: [],\n              mode: 'lowest',\n              match: (n) => n[getDraftCommentKey()],\n            });\n          }\n          setOpen(_open_);\n        }}\n      >\n        <div className=\"w-full\">{children}</div>\n        {anchorElement && (\n          <PopoverAnchor\n            asChild\n            className=\"w-full\"\n            virtualRef={{ current: anchorElement }}\n          />\n        )}\n\n        <PopoverContent\n          className=\"max-h-[min(50dvh,calc(-24px+var(--radix-popper-available-height)))] w-[380px] max-w-[calc(100vw-24px)] min-w-[130px] overflow-y-auto p-0 data-[state=closed]:opacity-0\"\n          onCloseAutoFocus={(e) => e.preventDefault()}\n          onOpenAutoFocus={(e) => e.preventDefault()}\n          align=\"center\"\n          side=\"bottom\"\n        >\n          {isCommenting ? (\n            <CommentCreateForm className=\"p-4\" focusOnMount />\n          ) : (\n            <React.Fragment>\n              {noneActive ? (\n                sortedMergedData.map((item, index) =>\n                  isResolvedSuggestion(item) ? (\n                    <BlockSuggestionCard\n                      key={item.suggestionId}\n                      idx={index}\n                      isLast={index === sortedMergedData.length - 1}\n                      suggestion={item}\n                    />\n                  ) : (\n                    <BlockComment\n                      key={item.id}\n                      discussion={item}\n                      isLast={index === sortedMergedData.length - 1}\n                    />\n                  )\n                )\n              ) : (\n                <React.Fragment>\n                  {activeSuggestion && (\n                    <BlockSuggestionCard\n                      key={activeSuggestion.suggestionId}\n                      idx={0}\n                      isLast={true}\n                      suggestion={activeSuggestion}\n                    />\n                  )}\n\n                  {activeDiscussion && (\n                    <BlockComment discussion={activeDiscussion} isLast={true} />\n                  )}\n                </React.Fragment>\n              )}\n            </React.Fragment>\n          )}\n        </PopoverContent>\n\n        {totalCount > 0 && (\n          <div className=\"relative left-0 size-0 select-none\">\n            <PopoverTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                className=\"mt-1 ml-1 flex h-6 gap-1 px-1.5 py-0 text-muted-foreground/80 hover:text-muted-foreground/80 data-[active=true]:bg-muted\"\n                data-active={open}\n                contentEditable={false}\n              >\n                {suggestionsCount > 0 && discussionsCount === 0 && (\n                  <PencilLineIcon className=\"size-4 shrink-0\" />\n                )}\n\n                {suggestionsCount === 0 && discussionsCount > 0 && (\n                  <MessageSquareTextIcon className=\"size-4 shrink-0\" />\n                )}\n\n                {suggestionsCount > 0 && discussionsCount > 0 && (\n                  <MessagesSquareIcon className=\"size-4 shrink-0\" />\n                )}\n\n                <span className=\"text-xs font-semibold\">{totalCount}</span>\n              </Button>\n            </PopoverTrigger>\n          </div>\n        )}\n      </Popover>\n    </div>\n  );\n};\n\nexport const BlockComment = ({\n  discussion,\n  isLast,\n}: {\n  discussion: TDiscussion;\n  isLast: boolean;\n}) => {\n  const [editingId, setEditingId] = React.useState<string | null>(null);\n\n  return (\n    <React.Fragment key={discussion.id}>\n      <div className=\"p-4\">\n        {discussion.comments.map((comment, index) => (\n          <Comment\n            key={comment.id ?? index}\n            comment={comment}\n            discussionLength={discussion.comments.length}\n            documentContent={discussion?.documentContent}\n            editingId={editingId}\n            index={index}\n            setEditingId={setEditingId}\n            showDocumentContent\n          />\n        ))}\n        <CommentCreateForm discussionId={discussion.id} />\n      </div>\n\n      {!isLast && <div className=\"h-px w-full bg-muted\" />}\n    </React.Fragment>\n  );\n};\n\nexport const useResolvedDiscussion = (\n  commentNodes: NodeEntry<TCommentText>[],\n  blockPath: Path\n) => {\n  const { api, getOption, setOption } = useEditorPlugin(commentsPlugin);\n\n  const discussions = usePluginOption(discussionPlugin, 'discussions');\n\n  commentNodes.forEach(([node]) => {\n    const id = api.comment.nodeId(node);\n    const map = getOption('uniquePathMap');\n\n    if (!id) return;\n\n    const previousPath = map.get(id);\n\n    if (PathApi.isPath(previousPath)) {\n      const nodes = api.comment.node({ id, at: previousPath });\n\n      if (!nodes) {\n        setOption('uniquePathMap', new Map(map).set(id, blockPath));\n        return;\n      }\n\n      return;\n    }\n    setOption('uniquePathMap', new Map(map).set(id, blockPath));\n  });\n\n  const commentsIds = new Set(\n    commentNodes.map(([node]) => api.comment.nodeId(node)).filter(Boolean)\n  );\n\n  const resolvedDiscussions = discussions\n    .map((d: TDiscussion) => ({\n      ...d,\n      createdAt: new Date(d.createdAt),\n    }))\n    .filter((item: TDiscussion) => {\n      const commentsPathMap = getOption('uniquePathMap');\n      const firstBlockPath = commentsPathMap.get(item.id);\n\n      if (!firstBlockPath) return false;\n      if (!PathApi.equals(firstBlockPath, blockPath)) return false;\n\n      return (\n        api.comment.has({ id: item.id }) &&\n        commentsIds.has(item.id) &&\n        !item.isResolved\n      );\n    });\n\n  return resolvedDiscussions;\n};\n","'use client';\n\nimport type { TComment } from '@/components/ui/comment';\n\nimport { createPlatePlugin } from '@udecode/plate/react';\n\nimport { BlockDiscussion } from '@/components/ui/block-discussion';\n\nexport interface TDiscussion {\n  id: string;\n  comments: TComment[];\n  createdAt: Date;\n  isResolved: boolean;\n  userId: string;\n  documentContent?: string;\n}\n\nconst discussionsData: TDiscussion[] = [\n  {\n    id: 'discussion1',\n    comments: [\n      {\n        id: 'comment1',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'This is a comment',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 900_000),\n        discussionId: 'discussion1',\n        isEdited: false,\n        userId: 'alice',\n      },\n    ],\n    createdAt: new Date(),\n    documentContent: 'comments to your content',\n    isResolved: false,\n    userId: 'alice',\n  },\n  {\n    id: 'discussion2',\n    comments: [\n      {\n        id: 'comment1',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'Hey, what do you think about this approach?',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 900_000),\n        discussionId: 'discussion1',\n        isEdited: false,\n        userId: 'alice',\n      },\n      {\n        id: 'comment2',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'Looks good!',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 800_000),\n        discussionId: 'discussion1',\n        isEdited: false,\n        userId: 'bob',\n      },\n      {\n        id: 'comment3',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'Thanks for the feedback!',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 700_000),\n        discussionId: 'discussion1',\n        isEdited: false,\n        userId: 'alice',\n      },\n    ],\n    createdAt: new Date(),\n    documentContent: 'collaborate',\n    isResolved: false,\n    userId: 'bob',\n  },\n  {\n    id: 'discussion4',\n    comments: [\n      {\n        id: 'comment1',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'Comments are a great way to provide feedback and discuss changes.',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 600_000),\n        discussionId: 'discussion4',\n        isEdited: false,\n        userId: 'charlie',\n      },\n      {\n        id: 'comment2',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'Agreed! The link to the docs makes it easy to learn more.',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 500_000),\n        discussionId: 'discussion4',\n        isEdited: false,\n        userId: 'bob',\n      },\n    ],\n    createdAt: new Date(),\n    documentContent: 'comments',\n    isResolved: false,\n    userId: 'charlie',\n  },\n  {\n    id: 'discussion5',\n    comments: [\n      {\n        id: 'comment1',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'This is a good example of how to use comments.',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 400_000),\n        discussionId: 'discussion5',\n        isEdited: false,\n        userId: 'alice',\n      },\n    ],\n    createdAt: new Date(),\n    documentContent: 'comments on many text segments',\n    isResolved: false,\n    userId: 'alice',\n  },\n  {\n    id: 'discussion6',\n    comments: [\n      {\n        id: 'comment1',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'Nice demonstration of overlapping annotations with both comments and suggestions!',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 300_000),\n        discussionId: 'discussion6',\n        isEdited: false,\n        userId: 'bob',\n      },\n      {\n        id: 'comment2',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'This helps users understand how powerful the editor can be.',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 200_000),\n        discussionId: 'discussion6',\n        isEdited: false,\n        userId: 'charlie',\n      },\n    ],\n    createdAt: new Date(),\n    documentContent: 'overlapping',\n    isResolved: false,\n    userId: 'bob',\n  },\n];\n\nconst avatarUrl = (seed: string) =>\n  `https://api.dicebear.com/9.x/glass/svg?seed=${seed}`;\n\nconst usersData: Record<\n  string,\n  { id: string; avatarUrl: string; name: string; hue?: number }\n> = {\n  alice: {\n    id: 'alice',\n    avatarUrl: avatarUrl('alice6'),\n    name: 'Alice',\n  },\n  bob: {\n    id: 'bob',\n    avatarUrl: avatarUrl('bob4'),\n    name: 'Bob',\n  },\n  charlie: {\n    id: 'charlie',\n    avatarUrl: avatarUrl('charlie2'),\n    name: 'Charlie',\n  },\n};\n\n// This plugin is purely UI. It's only used to store the discussions and users data\nexport const discussionPlugin = createPlatePlugin({\n  key: 'discussion',\n  options: {\n    currentUserId: 'alice',\n    discussions: discussionsData,\n    users: usersData,\n  },\n})\n  .configure({\n    render: { aboveNodes: BlockDiscussion },\n  })\n  .extendSelectors(({ getOption }) => ({\n    currentUser: () => getOption('users')[getOption('currentUserId')],\n    user: (id: string) => getOption('users')[id],\n  }));\n","'use client';\n\nimport {\n  type ExtendConfig,\n  type Path,\n  isSlateEditor,\n  isSlateElement,\n  isSlateString,\n} from '@udecode/plate';\nimport {\n  type BaseSuggestionConfig,\n  BaseSuggestionPlugin,\n} from '@udecode/plate-suggestion';\nimport { toTPlatePlugin } from '@udecode/plate/react';\n\nimport { discussionPlugin } from '@/components/editor/plugins/discussion-plugin';\nimport { BlockSuggestion } from '@/components/ui/block-suggestion';\n\nexport type SuggestionConfig = ExtendConfig<\n  BaseSuggestionConfig,\n  {\n    activeId: string | null;\n    hoverId: string | null;\n    uniquePathMap: Map<string, Path>;\n  }\n>;\n\nexport const suggestionPlugin = toTPlatePlugin<SuggestionConfig>(\n  BaseSuggestionPlugin,\n  ({ editor }) => ({\n    handlers: {\n      // unset active suggestion when clicking outside of suggestion\n      onClick: ({ api, event, setOption, type }) => {\n        let leaf = event.target as HTMLElement;\n        let isSet = false;\n\n        const unsetActiveSuggestion = () => {\n          setOption('activeId', null);\n          isSet = true;\n        };\n\n        if (!isSlateString(leaf)) unsetActiveSuggestion();\n\n        while (\n          leaf.parentElement &&\n          !isSlateElement(leaf.parentElement) &&\n          !isSlateEditor(leaf.parentElement)\n        ) {\n          if (leaf.classList.contains(`slate-${type}`)) {\n            const suggestionEntry = api.suggestion!.node({ isText: true });\n\n            if (!suggestionEntry) {\n              unsetActiveSuggestion();\n\n              break;\n            }\n\n            const id = api.suggestion!.nodeId(suggestionEntry[0]);\n\n            setOption('activeId', id ?? null);\n            isSet = true;\n\n            break;\n          }\n\n          leaf = leaf.parentElement;\n        }\n\n        if (!isSet) unsetActiveSuggestion();\n      },\n    },\n    options: {\n      activeId: null,\n      currentUserId: editor.getOption(discussionPlugin, 'currentUserId'),\n      hoverId: null,\n      uniquePathMap: new Map(),\n    },\n    render: {\n      belowRootNodes: ({ api, element }) => {\n        if (!api.suggestion!.isBlockSuggestion(element)) {\n          return null;\n        }\n\n        return <BlockSuggestion element={element} />;\n      },\n    },\n  })\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TSuggestionData } from '@udecode/plate-suggestion';\n\nimport { type RenderNodeWrapper, usePluginOption } from '@udecode/plate/react';\nimport { CornerDownLeftIcon } from 'lucide-react';\n\nimport { cn } from '@/lib/utils';\nimport {\n  type SuggestionConfig,\n  suggestionPlugin,\n} from '@/components/editor/plugins/suggestion-plugin';\n\nexport const SuggestionBelowNodes: RenderNodeWrapper<SuggestionConfig> = ({\n  api,\n  element,\n}) => {\n  if (!api.suggestion.isBlockSuggestion(element)) return;\n\n  const suggestionData = element.suggestion;\n\n  if (!suggestionData?.isLineBreak) return;\n\n  return function Component({ children }) {\n    return (\n      <React.Fragment>\n        {children}\n        <SuggestionLineBreak suggestionData={suggestionData} />\n      </React.Fragment>\n    );\n  };\n};\n\nfunction SuggestionLineBreak({\n  suggestionData,\n}: {\n  suggestionData: TSuggestionData;\n}) {\n  const { type } = suggestionData;\n  const isRemove = type === 'remove';\n  const isInsert = type === 'insert';\n\n  const activeSuggestionId = usePluginOption(suggestionPlugin, 'activeId');\n  const hoverSuggestionId = usePluginOption(suggestionPlugin, 'hoverId');\n\n  const isActive = activeSuggestionId === suggestionData.id;\n  const isHover = hoverSuggestionId === suggestionData.id;\n\n  const spanRef = React.useRef<HTMLSpanElement>(null);\n\n  return (\n    <span\n      ref={spanRef}\n      className={cn(\n        'absolute border-b-2 border-b-brand/[.24] bg-brand/[.08] text-justify text-brand/80 no-underline transition-colors duration-200',\n        isInsert &&\n          (isActive || isHover) &&\n          'border-b-brand/[.60] bg-brand/[.13]',\n        isRemove &&\n          'border-b-gray-300 bg-gray-300/25 text-gray-400 line-through',\n        isRemove &&\n          (isActive || isHover) &&\n          'border-b-gray-500 bg-gray-400/25 text-gray-500 no-underline'\n      )}\n      style={{\n        bottom: 4.5,\n        height: 21,\n      }}\n      contentEditable={false}\n    >\n      <CornerDownLeftIcon className=\"mt-0.5 size-4\" />\n    </span>\n  );\n}\n","'use client';\n\nimport { AIChatPlugin } from '@udecode/plate-ai/react';\nimport { useEditorPlugin, usePluginOption } from '@udecode/plate/react';\nimport { Pause } from 'lucide-react';\n\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\nexport const AILoadingBar = () => {\n  const chat = usePluginOption(AIChatPlugin, 'chat');\n  const mode = usePluginOption(AIChatPlugin, 'mode');\n\n  const { status } = chat;\n\n  const { api } = useEditorPlugin(AIChatPlugin);\n\n  const isLoading = status === 'streaming' || status === 'submitted';\n\n  const visible = isLoading && mode === 'insert';\n\n  if (!visible) return null;\n\n  return (\n    <div\n      className={cn(\n        'absolute bottom-4 left-1/2 z-10 flex -translate-x-1/2 items-center gap-3 rounded-md border border-border bg-muted px-3 py-1.5 text-sm text-muted-foreground shadow-md transition-all duration-300'\n      )}\n    >\n      <span className=\"h-4 w-4 animate-spin rounded-full border-2 border-muted-foreground border-t-transparent\" />\n      <span>{status === 'submitted' ? 'Thinking...' : 'Writing...'}</span>\n      <Button\n        size=\"sm\"\n        variant=\"ghost\"\n        className=\"flex items-center gap-1 text-xs\"\n        onClick={() => api.aiChat.stop()}\n      >\n        <Pause className=\"h-4 w-4\" />\n        Stop\n        <kbd className=\"ml-1 rounded bg-border px-1 font-mono text-[10px] text-muted-foreground shadow-sm\">\n          Esc\n        </kbd>\n      </Button>\n    </div>\n  );\n};\n","\"use client\"\n\nimport * as React from \"react\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { SearchIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\n\nfunction Command({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive>) {\n  return (\n    <CommandPrimitive\n      data-slot=\"command\"\n      className={cn(\n        \"bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandDialog({\n  title = \"Command Palette\",\n  description = \"Search for a command to run...\",\n  children,\n  ...props\n}: React.ComponentProps<typeof Dialog> & {\n  title?: string\n  description?: string\n}) {\n  return (\n    <Dialog {...props}>\n      <DialogHeader className=\"sr-only\">\n        <DialogTitle>{title}</DialogTitle>\n        <DialogDescription>{description}</DialogDescription>\n      </DialogHeader>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nfunction CommandInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Input>) {\n  return (\n    <div\n      data-slot=\"command-input-wrapper\"\n      className=\"flex h-9 items-center gap-2 border-b px-3\"\n    >\n      <SearchIcon className=\"size-4 shrink-0 opacity-50\" />\n      <CommandPrimitive.Input\n        data-slot=\"command-input\"\n        className={cn(\n          \"placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction CommandList({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.List>) {\n  return (\n    <CommandPrimitive.List\n      data-slot=\"command-list\"\n      className={cn(\n        \"max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandEmpty({\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Empty>) {\n  return (\n    <CommandPrimitive.Empty\n      data-slot=\"command-empty\"\n      className=\"py-6 text-center text-sm\"\n      {...props}\n    />\n  )\n}\n\nfunction CommandGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Group>) {\n  return (\n    <CommandPrimitive.Group\n      data-slot=\"command-group\"\n      className={cn(\n        \"text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Separator>) {\n  return (\n    <CommandPrimitive.Separator\n      data-slot=\"command-separator\"\n      className={cn(\"bg-border -mx-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CommandItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Item>) {\n  return (\n    <CommandPrimitive.Item\n      data-slot=\"command-item\"\n      className={cn(\n        \"data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"command-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { CopilotPlugin } from '@udecode/plate-ai/react';\nimport { useEditorPlugin } from '@udecode/plate/react';\nimport {\n  Check,\n  ChevronsUpDown,\n  ExternalLinkIcon,\n  Eye,\n  EyeOff,\n  Settings,\n  Wand2Icon,\n} from 'lucide-react';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from '@/components/ui/command';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog';\nimport { Input } from '@/components/ui/input';\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover';\nimport { cn } from '@/lib/utils';\n\ninterface Model {\n  label: string;\n  value: string;\n}\n\ninterface SettingsContextType {\n  keys: Record<string, string>;\n  model: Model;\n  setKey: (service: string, key: string) => void;\n  setModel: (model: Model) => void;\n}\n\nexport const models: Model[] = [\n  { label: 'claude-3-haiku-20240307', value: 'claude-3-haiku-20240307' },\n  { label: 'claude-3-sonnet-20240229', value: 'claude-3-sonnet-20240229' },\n  { label: 'claude-3-opus-20240229', value: 'claude-3-opus-20240229' },\n  { label: 'claude-3-5-sonnet-20241022', value: 'claude-3-5-sonnet-20241022' },\n  { label: 'claude-3-5-haiku-20241022', value: 'claude-3-5-haiku-20241022' },\n];\n\nconst SettingsContext = React.createContext<SettingsContextType | undefined>(\n  undefined\n);\n\nexport function SettingsProvider({ children }: { children: React.ReactNode }) {\n  const [keys, setKeys] = React.useState({\n    anthropic: '',\n    uploadthing: '',\n  });\n  const [model, setModel] = React.useState<Model>(models[0]);\n\n  const setKey = (service: string, key: string) => {\n    setKeys((prev) => ({ ...prev, [service]: key }));\n  };\n\n  return (\n    <SettingsContext.Provider value={{ keys, model, setKey, setModel }}>\n      {children}\n    </SettingsContext.Provider>\n  );\n}\n\nexport function useSettings() {\n  const context = React.useContext(SettingsContext);\n\n  return (\n    context ?? {\n      keys: {\n        anthropic: '',\n        uploadthing: '',\n      },\n      model: models[0],\n      setKey: () => {},\n      setModel: () => {},\n    }\n  );\n}\n\nexport function SettingsDialog() {\n  const { keys, model, setKey, setModel } = useSettings();\n  const [tempKeys, setTempKeys] = React.useState(keys);\n  const [showKey, setShowKey] = React.useState<Record<string, boolean>>({});\n  const [open, setOpen] = React.useState(false);\n  const [openModel, setOpenModel] = React.useState(false);\n\n  const { getOptions, setOption } = useEditorPlugin(CopilotPlugin);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    Object.entries(tempKeys).forEach(([service, key]) => {\n      setKey(service, key);\n    });\n    setOpen(false);\n\n    // Update AI options if needed\n    const completeOptions = getOptions().completeOptions ?? {};\n    setOption('completeOptions', {\n      ...completeOptions,\n      body: {\n        ...completeOptions.body,\n        apiKey: tempKeys.anthropic,\n        model: model.value,\n      },\n    });\n  };\n\n  const toggleKeyVisibility = (key: string) => {\n    setShowKey((prev) => ({ ...prev, [key]: !prev[key] }));\n  };\n\n  const renderApiKeyInput = (service: string, label: string) => (\n    <div className=\"group relative\">\n      <div className=\"flex items-center justify-between\">\n        <label\n          className=\"absolute top-1/2 block -translate-y-1/2 cursor-text px-1 text-sm text-muted-foreground/70 transition-all group-focus-within:pointer-events-none group-focus-within:top-0 group-focus-within:cursor-default group-focus-within:text-xs group-focus-within:font-medium group-focus-within:text-foreground has-[+input:not(:placeholder-shown)]:pointer-events-none has-[+input:not(:placeholder-shown)]:top-0 has-[+input:not(:placeholder-shown)]:cursor-default has-[+input:not(:placeholder-shown)]:text-xs has-[+input:not(:placeholder-shown)]:font-medium has-[+input:not(:placeholder-shown)]:text-foreground\"\n          htmlFor={label}\n        >\n          <span className=\"inline-flex bg-background px-2\">{label}</span>\n        </label>\n        <Button\n          asChild\n          size=\"icon\"\n          variant=\"ghost\"\n          className=\"absolute top-0 right-[28px] h-full\"\n        >\n          <a\n            className=\"flex items-center\"\n            href={\n              service === 'anthropic'\n                ? 'https://console.anthropic.com/dashboard'\n                : 'https://uploadthing.com/dashboard'\n            }\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            <ExternalLinkIcon className=\"size-4\" />\n            <span className=\"sr-only\">Get {label}</span>\n          </a>\n        </Button>\n      </div>\n\n      <Input\n        id={label}\n        className=\"pr-10\"\n        value={tempKeys[service]}\n        onChange={(e) =>\n          setTempKeys((prev) => ({ ...prev, [service]: e.target.value }))\n        }\n        placeholder=\"\"\n        data-1p-ignore\n        type={showKey[service] ? 'text' : 'password'}\n      />\n      <Button\n        size=\"icon\"\n        variant=\"ghost\"\n        className=\"absolute top-0 right-0 h-full\"\n        onClick={() => toggleKeyVisibility(service)}\n        type=\"button\"\n      >\n        {showKey[service] ? (\n          <EyeOff className=\"size-4\" />\n        ) : (\n          <Eye className=\"size-4\" />\n        )}\n        <span className=\"sr-only\">\n          {showKey[service] ? 'Hide' : 'Show'} {label}\n        </span>\n      </Button>\n    </div>\n  );\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger asChild>\n        <Button\n          size=\"icon\"\n          variant=\"default\"\n          className={cn(\n            'group fixed right-4 bottom-4 z-50 size-10 overflow-hidden',\n            'bg-gradient-to-br from-blue-500 to-purple-600 text-white',\n            'hover:from-blue-600 hover:to-purple-700',\n            'shadow-lg hover:shadow-xl transition-all duration-200',\n            'rounded-full'\n          )}\n        >\n          <Settings className=\"size-5 transition-transform group-hover:rotate-90\" />\n        </Button>\n      </DialogTrigger>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <DialogHeader>\n          <DialogTitle>Settings</DialogTitle>\n          <DialogDescription>\n            Configure your API keys and model preferences.\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Model</label>\n            <Popover open={openModel} onOpenChange={setOpenModel}>\n              <PopoverTrigger asChild>\n                <Button\n                  variant=\"outline\"\n                  role=\"combobox\"\n                  aria-expanded={openModel}\n                  className=\"w-full justify-between\"\n                >\n                  {model.label}\n                  <ChevronsUpDown className=\"ml-2 size-4 shrink-0 opacity-50\" />\n                </Button>\n              </PopoverTrigger>\n              <PopoverContent className=\"w-full p-0\">\n                <Command>\n                  <CommandInput placeholder=\"Search model...\" />\n                  <CommandList>\n                    <CommandEmpty>No model found.</CommandEmpty>\n                    <CommandGroup>\n                      {models.map((modelOption) => (\n                        <CommandItem\n                          key={modelOption.value}\n                          value={modelOption.value}\n                          onSelect={() => {\n                            setModel(modelOption);\n                            setOpenModel(false);\n                          }}\n                        >\n                          <Check\n                            className={cn(\n                              'mr-2 size-4',\n                              model.value === modelOption.value\n                                ? 'opacity-100'\n                                : 'opacity-0'\n                            )}\n                          />\n                          {modelOption.label}\n                        </CommandItem>\n                      ))}\n                    </CommandGroup>\n                  </CommandList>\n                </Command>\n              </PopoverContent>\n            </Popover>\n          </div>\n\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">API Keys</label>\n            <div className=\"space-y-3\">\n              {renderApiKeyInput('anthropic', 'Anthropic API Key')}\n              {renderApiKeyInput('uploadthing', 'UploadThing API Key')}\n            </div>\n          </div>\n\n          <div className=\"flex justify-end space-x-2 pt-4\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => setOpen(false)}\n            >\n              Cancel\n            </Button>\n            <Button type=\"submit\">Save</Button>\n          </div>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { useChat as useBaseChat } from '@ai-sdk/react';\nimport { faker } from '@faker-js/faker';\n\nimport { useSettings } from '@/components/editor/settings';\n\nexport const useChat = () => {\n  const { keys, model } = useSettings();\n\n  // remove when you implement the route /api/ai/command\n  const abortControllerRef = React.useRef<AbortController | null>(null);\n  const _abortFakeStream = () => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n      abortControllerRef.current = null;\n    }\n  };\n\n  const chat = useBaseChat({\n    id: 'editor',\n    api: '/api/ai/command',\n    body: {\n      // !!! DEMO ONLY: don't use API keys client-side\n      apiKey: keys.anthropic,\n      model: model.value,\n    },\n    // Mock the API response. Remove it when you implement the route /api/ai/command\n    fetch: async (input, init) => {\n      const res = await fetch(input, init);\n\n      if (!res.ok) {\n        let sample: 'markdown' | 'mdx' | null = null;\n\n        try {\n          const content = JSON.parse(init?.body as string).messages.at(\n            -1\n          ).content;\n\n          if (content.includes('Generate a markdown sample')) {\n            sample = 'markdown';\n          } else if (content.includes('Generate a mdx sample')) {\n            sample = 'mdx';\n          }\n        } catch {\n          sample = null;\n        }\n\n        abortControllerRef.current = new AbortController();\n        await new Promise((resolve) => setTimeout(resolve, 400));\n\n        const stream = fakeStreamText({\n          sample,\n          signal: abortControllerRef.current.signal,\n        });\n\n        return new Response(stream, {\n          headers: {\n            Connection: 'keep-alive',\n            'Content-Type': 'text/plain',\n          },\n        });\n      }\n\n      return res;\n    },\n  });\n\n  return { ...chat, _abortFakeStream };\n};\n\n// Used for testing. Remove it after implementing useChat api.\nconst fakeStreamText = ({\n  chunkCount = 10,\n  sample = null,\n  signal,\n  streamProtocol = 'data',\n}: {\n  chunkCount?: number;\n  sample?: 'markdown' | 'mdx' | null;\n  signal?: AbortSignal;\n  streamProtocol?: 'data' | 'text';\n} = {}) => {\n  const blocks = (() => {\n    if (sample === 'markdown') {\n      return markdownChunks;\n    }\n\n    if (sample === 'mdx') {\n      return mdxChunks;\n    }\n\n    return [\n      Array.from({ length: chunkCount }, () => ({\n        delay: faker.number.int({ max: 100, min: 30 }),\n        texts: faker.lorem.words({ max: 3, min: 1 }) + ' ',\n      })),\n\n      Array.from({ length: chunkCount + 2 }, () => ({\n        delay: faker.number.int({ max: 100, min: 30 }),\n        texts: faker.lorem.words({ max: 3, min: 1 }) + ' ',\n      })),\n\n      Array.from({ length: chunkCount + 4 }, () => ({\n        delay: faker.number.int({ max: 100, min: 30 }),\n        texts: faker.lorem.words({ max: 3, min: 1 }) + ' ',\n      })),\n    ];\n  })();\n\n  const encoder = new TextEncoder();\n\n  return new ReadableStream({\n    async start(controller) {\n      if (signal?.aborted) {\n        controller.error(new Error('Aborted before start'));\n        return;\n      }\n\n      const abortHandler = () => {\n        controller.error(new Error('Stream aborted'));\n      };\n\n      signal?.addEventListener('abort', abortHandler);\n\n      for (let i = 0; i < blocks.length; i++) {\n        const block = blocks[i];\n\n        // Stream the block content\n        for (const chunk of block) {\n          await new Promise((resolve) => setTimeout(resolve, chunk.delay));\n\n          if (streamProtocol === 'text') {\n            controller.enqueue(encoder.encode(chunk.texts));\n          } else {\n            controller.enqueue(\n              encoder.encode(`0:${JSON.stringify(chunk.texts)}\\n`)\n            );\n          }\n        }\n\n        // Add double newline after each block except the last one\n        if (i < blocks.length - 1) {\n          if (streamProtocol === 'text') {\n            controller.enqueue(encoder.encode('\\n\\n'));\n          } else {\n            controller.enqueue(encoder.encode(`0:${JSON.stringify('\\n\\n')}\\n`));\n          }\n        }\n      }\n\n      if (streamProtocol === 'data') {\n        controller.enqueue(\n          `d:{\"finishReason\":\"stop\",\"usage\":{\"promptTokens\":0,\"completionTokens\":${blocks.reduce(\n            (sum, block) => sum + block.length,\n            0\n          )}}}\\n`\n        );\n      }\n\n      controller.close();\n    },\n  });\n};\n\nconst delay = faker.number.int({ max: 20, min: 5 });\n\nconst markdownChunks = [\n  [\n    { delay, texts: 'Make text ' },\n    { delay, texts: '**bold**' },\n    { delay, texts: ', ' },\n    { delay, texts: '*italic*' },\n    { delay, texts: ', ' },\n    { delay, texts: '__underlined__' },\n    { delay, texts: ', or apply a ' },\n    {\n      delay,\n      texts: '***combination***',\n    },\n    { delay, texts: ' ' },\n    { delay, texts: 'of ' },\n    { delay, texts: 'these ' },\n    { delay, texts: 'styles ' },\n    { delay, texts: 'for ' },\n    { delay, texts: 'a ' },\n    { delay, texts: 'visually ' },\n    { delay, texts: 'striking ' },\n    { delay, texts: 'effect.' },\n    { delay, texts: '\\n\\n' },\n    { delay, texts: 'Add ' },\n    {\n      delay,\n      texts: '~~strikethrough~~',\n    },\n    { delay, texts: ' ' },\n    { delay, texts: 'to ' },\n    { delay, texts: 'indicate ' },\n    { delay, texts: 'deleted ' },\n    { delay, texts: 'or ' },\n    { delay, texts: 'outdated ' },\n    { delay, texts: 'content.' },\n    { delay, texts: '\\n\\n' },\n    { delay, texts: 'Write ' },\n    { delay, texts: 'code ' },\n    { delay, texts: 'snippets ' },\n    { delay, texts: 'with ' },\n    { delay, texts: 'inline ' },\n    { delay, texts: '`code`' },\n    { delay, texts: ' formatting ' },\n    { delay, texts: 'for ' },\n    { delay, texts: 'easy ' },\n    { delay: faker.number.int({ max: 100, min: 30 }), texts: 'readability.' },\n    { delay, texts: '\\n\\n' },\n    { delay, texts: 'Add ' },\n    {\n      delay,\n      texts: '[links](https://example.com)',\n    },\n    { delay: faker.number.int({ max: 100, min: 30 }), texts: ' to ' },\n    { delay: faker.number.int({ max: 100, min: 30 }), texts: 'external ' },\n    { delay, texts: 'resources ' },\n    { delay, texts: 'or ' },\n    {\n      delay,\n      texts: 'references.\\n\\n',\n    },\n\n    { delay, texts: 'Use ' },\n    { delay, texts: 'inline ' },\n    { delay, texts: 'math ' },\n    { delay, texts: 'equations ' },\n    { delay, texts: 'like ' },\n    { delay, texts: '$E = mc^2$ ' },\n    { delay, texts: 'for ' },\n    { delay, texts: 'scientific ' },\n    { delay, texts: 'notation.' },\n    { delay, texts: '\\n\\n' },\n\n    { delay, texts: '# ' },\n    { delay, texts: 'Heading ' },\n    { delay, texts: '1\\n\\n' },\n    { delay, texts: '## ' },\n    { delay, texts: 'Heading ' },\n    { delay, texts: '2\\n\\n' },\n    { delay, texts: '### ' },\n    { delay, texts: 'Heading ' },\n    { delay, texts: '3\\n\\n' },\n    { delay, texts: '> ' },\n    { delay, texts: 'Blockquote\\n\\n' },\n    { delay, texts: '- ' },\n    { delay, texts: 'Unordered ' },\n    { delay, texts: 'list ' },\n    { delay, texts: 'item ' },\n    { delay, texts: '1\\n' },\n    { delay, texts: '- ' },\n    { delay, texts: 'Unordered ' },\n    { delay, texts: 'list ' },\n    { delay, texts: 'item ' },\n    { delay, texts: '2\\n\\n' },\n    { delay, texts: '1. ' },\n    { delay, texts: 'Ordered ' },\n    { delay, texts: 'list ' },\n    { delay, texts: 'item ' },\n    { delay, texts: '1\\n' },\n    { delay, texts: '2. ' },\n    { delay, texts: 'Ordered ' },\n    { delay, texts: 'list ' },\n    { delay, texts: 'item ' },\n    { delay, texts: '2\\n\\n' },\n    { delay, texts: '- ' },\n    { delay, texts: '[ ' },\n    { delay, texts: '] ' },\n    { delay, texts: 'Task ' },\n    { delay, texts: 'list ' },\n    { delay, texts: 'item ' },\n    { delay, texts: '1\\n' },\n    { delay, texts: '- ' },\n    { delay, texts: '[x] ' },\n    { delay, texts: 'Task ' },\n    { delay, texts: 'list ' },\n    { delay, texts: 'item ' },\n    { delay, texts: '2\\n\\n' },\n    { delay, texts: '![Alt ' },\n    {\n      delay,\n      texts:\n        'text](https://images.unsplash.com/photo-1712688930249-98e1963af7bd?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)\\n\\n',\n    },\n    {\n      delay,\n      texts: '### Advantage blocks:\\n',\n    },\n    { delay, texts: '\\n' },\n    { delay, texts: '$$\\n' },\n    {\n      delay,\n      texts: 'a^2 + b^2 = c^2\\n',\n    },\n    { delay, texts: '$$\\n' },\n    { delay, texts: '\\n' },\n    { delay, texts: '```python\\n' },\n    { delay, texts: '# ' },\n    { delay, texts: 'Code ' },\n    { delay, texts: 'block\\n' },\n    { delay, texts: 'print(\"Hello, ' },\n    { delay, texts: 'World!\")\\n' },\n    { delay, texts: '```\\n\\n' },\n    { delay, texts: 'Horizontal ' },\n    { delay, texts: 'rule\\n\\n' },\n    { delay, texts: '---\\n\\n' },\n    { delay, texts: '| ' },\n    { delay, texts: 'Header ' },\n    { delay, texts: '1 ' },\n    { delay, texts: '| ' },\n    { delay, texts: 'Header ' },\n    { delay, texts: '2 ' },\n    { delay, texts: '|\\n' },\n    {\n      delay,\n      texts: '|----------|----------|\\n',\n    },\n    { delay, texts: '| ' },\n    { delay, texts: 'Row ' },\n    { delay, texts: '1   ' },\n    { delay, texts: ' | ' },\n    { delay, texts: 'Data    ' },\n    { delay, texts: ' |\\n' },\n    { delay, texts: '| ' },\n    { delay, texts: 'Row ' },\n    { delay, texts: '2   ' },\n    { delay, texts: ' | ' },\n    { delay, texts: 'Data    ' },\n    { delay, texts: ' |' },\n  ],\n];\n\nconst mdxChunks = [\n  [\n    {\n      delay,\n      texts: '## ',\n    },\n    {\n      delay,\n      texts: 'Basic ',\n    },\n    {\n      delay,\n      texts: 'Markdown\\n\\n',\n    },\n    {\n      delay,\n      texts: '> ',\n    },\n    {\n      delay,\n      texts: 'The ',\n    },\n    {\n      delay,\n      texts: 'following ',\n    },\n    {\n      delay,\n      texts: 'node ',\n    },\n    {\n      delay,\n      texts: 'and ',\n    },\n    {\n      delay,\n      texts: 'marks ',\n    },\n    {\n      delay,\n      texts: 'is ',\n    },\n    {\n      delay,\n      texts: 'supported ',\n    },\n    {\n      delay,\n      texts: 'by ',\n    },\n    {\n      delay,\n      texts: 'the ',\n    },\n    {\n      delay,\n      texts: 'Markdown ',\n    },\n    {\n      delay,\n      texts: 'standard.\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Format ',\n    },\n    {\n      delay,\n      texts: 'text ',\n    },\n    {\n      delay,\n      texts: 'with **b',\n    },\n    {\n      delay,\n      texts: 'old**, _',\n    },\n    {\n      delay,\n      texts: 'italic_,',\n    },\n    {\n      delay,\n      texts: ' _**comb',\n    },\n    {\n      delay,\n      texts: 'ined sty',\n    },\n    {\n      delay,\n      texts: 'les**_, ',\n    },\n    {\n      delay,\n      texts: '~~strike',\n    },\n    {\n      delay,\n      texts: 'through~',\n    },\n    {\n      delay,\n      texts: '~, `code',\n    },\n    {\n      delay,\n      texts: '` format',\n    },\n    {\n      delay,\n      texts: 'ting, an',\n    },\n    {\n      delay,\n      texts: 'd [hyper',\n    },\n    {\n      delay,\n      texts: 'links](https://en.wikipedia.org/wiki/Hypertext).\\n\\n',\n    },\n    {\n      delay,\n      texts: '```javascript\\n',\n    },\n    {\n      delay,\n      texts: '// Use code blocks to showcase code snippets\\n',\n    },\n    {\n      delay,\n      texts: 'function greet() {\\n',\n    },\n    {\n      delay,\n      texts: '  console.info(\"Hello World!\")\\n',\n    },\n    {\n      delay,\n      texts: '}\\n',\n    },\n    {\n      delay,\n      texts: '```\\n\\n',\n    },\n    {\n      delay,\n      texts: '- Simple',\n    },\n    {\n      delay,\n      texts: ' lists f',\n    },\n    {\n      delay,\n      texts: 'or organ',\n    },\n    {\n      delay,\n      texts: 'izing co',\n    },\n    {\n      delay,\n      texts: 'ntent\\n',\n    },\n    {\n      delay,\n      texts: '1. ',\n    },\n    {\n      delay,\n      texts: 'Numbered ',\n    },\n    {\n      delay,\n      texts: 'lists ',\n    },\n    {\n      delay,\n      texts: 'for ',\n    },\n    {\n      delay,\n      texts: 'sequential ',\n    },\n    {\n      delay,\n      texts: 'steps\\n\\n',\n    },\n    {\n      delay,\n      texts: '| **Plugin**  | **Element** | **Inline** | **Void** |\\n',\n    },\n    {\n      delay,\n      texts: '| ----------- | ----------- | ---------- | -------- |\\n',\n    },\n    {\n      delay,\n      texts: '| **Heading** |             |            | No       |\\n',\n    },\n    {\n      delay,\n      texts: '| **Image**   | Yes         | No         | Yes      |\\n',\n    },\n    {\n      delay,\n      texts: '| **Ment',\n    },\n    {\n      delay,\n      texts: 'ion** | Yes         | Yes        | Yes      |\\n\\n',\n    },\n    {\n      delay,\n      texts:\n        '![](https://images.unsplash.com/photo-1712688930249-98e1963af7bd?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)\\n\\n',\n    },\n    {\n      delay,\n      texts: '- [x] Co',\n    },\n    {\n      delay,\n      texts: 'mpleted ',\n    },\n    {\n      delay,\n      texts: 'tasks\\n',\n    },\n    {\n      delay,\n      texts: '- [ ] Pe',\n    },\n    {\n      delay,\n      texts: 'nding ta',\n    },\n    {\n      delay,\n      texts: 'sks\\n\\n',\n    },\n    {\n      delay,\n      texts: '---\\n\\n## Advan',\n    },\n    {\n      delay,\n      texts: 'ced Feat',\n    },\n    {\n      delay,\n      texts: 'ures\\n\\n',\n    },\n    {\n      delay,\n      texts: '<callout> ',\n    },\n    {\n      delay,\n      texts: 'The ',\n    },\n    {\n      delay,\n      texts: 'following ',\n    },\n    {\n      delay,\n      texts: 'node ',\n    },\n    {\n      delay,\n      texts: 'and ',\n    },\n    {\n      delay,\n      texts: 'marks ',\n    },\n    {\n      delay,\n      texts: 'are ',\n    },\n    {\n      delay,\n      texts: 'not ',\n    },\n    {\n      delay,\n      texts: 'supported ',\n    },\n    {\n      delay,\n      texts: 'in ',\n    },\n    {\n      delay,\n      texts: 'Markdown ',\n    },\n    {\n      delay,\n      texts: 'but ',\n    },\n    {\n      delay,\n      texts: 'can ',\n    },\n    {\n      delay,\n      texts: 'be ',\n    },\n    {\n      delay,\n      texts: 'serialized ',\n    },\n    {\n      delay,\n      texts: 'and ',\n    },\n    {\n      delay,\n      texts: 'deserialized ',\n    },\n    {\n      delay,\n      texts: 'using ',\n    },\n    {\n      delay,\n      texts: 'MDX ',\n    },\n    {\n      delay,\n      texts: 'or ',\n    },\n    {\n      delay,\n      texts: 'specialized ',\n    },\n    {\n      delay,\n      texts: 'UnifiedJS ',\n    },\n    {\n      delay,\n      texts: 'plugins. ',\n    },\n    {\n      delay,\n      texts: '</callout>\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Advanced ',\n    },\n    {\n      delay,\n      texts: 'marks: ',\n    },\n    {\n      delay,\n      texts: '<kbd> ',\n    },\n    {\n      delay,\n      texts: '+ ',\n    },\n    {\n      delay,\n      texts: 'B</kbd>,<u>underlined</u>, ',\n    },\n    {\n      delay,\n      texts: '<mark',\n    },\n    {\n      delay,\n      texts: '>highli',\n    },\n    {\n      delay,\n      texts: 'ghted</m',\n    },\n    {\n      delay,\n      texts: 'ark',\n    },\n    {\n      delay,\n      texts: '> text, ',\n    },\n    {\n      delay,\n      texts: '<span s',\n    },\n    {\n      delay,\n      texts: 'tyle=\"co',\n    },\n    {\n      delay,\n      texts: 'lor: #93',\n    },\n    {\n      delay,\n      texts: 'C47D;\">c',\n    },\n    {\n      delay,\n      texts: 'olored t',\n    },\n    {\n      delay,\n      texts: 'ext</spa',\n    },\n    {\n      delay,\n      texts: 'n> and ',\n    },\n    {\n      delay,\n      texts: '<spa',\n    },\n    {\n      delay,\n      texts: 'n',\n    },\n    {\n      delay,\n      texts: ' style=\"',\n    },\n    {\n      delay,\n      texts: 'backgrou',\n    },\n    {\n      delay,\n      texts: 'nd-color',\n    },\n    {\n      delay,\n      texts: ': #6C9EE',\n    },\n    {\n      delay,\n      texts: 'B;\">back',\n    },\n    {\n      delay,\n      texts: 'ground h',\n    },\n    {\n      delay,\n      texts: 'ighlight',\n    },\n    {\n      delay,\n      texts: 's</spa',\n    },\n    {\n      delay,\n      texts: 'n> for ',\n    },\n    {\n      delay,\n      texts: 'visual e',\n    },\n    {\n      delay,\n      texts: 'mphasis.\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Superscript ',\n    },\n    {\n      delay,\n      texts: 'like ',\n    },\n    {\n      delay,\n      texts: 'E=mc<sup>2</sup> ',\n    },\n    {\n      delay,\n      texts: 'and ',\n    },\n    {\n      delay,\n      texts: 'subscript ',\n    },\n    {\n      delay,\n      texts: 'like ',\n    },\n    {\n      delay,\n      texts: 'H<sub>2</sub>O ',\n    },\n    {\n      delay,\n      texts: 'demonstrate ',\n    },\n    {\n      delay,\n      texts: 'mathematical ',\n    },\n    {\n      delay,\n      texts: 'and ',\n    },\n    {\n      delay,\n      texts: 'chemical ',\n    },\n    {\n      delay,\n      texts: 'notation ',\n    },\n    {\n      delay,\n      texts: 'capabilities.\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Add ',\n    },\n    {\n      delay,\n      texts: 'mentions ',\n    },\n    {\n      delay,\n      texts: 'like ',\n    },\n    {\n      delay,\n      texts: '@BB-8, d',\n    },\n    {\n      delay,\n      texts: 'ates (<d',\n    },\n    {\n      delay,\n      texts: 'ate>2025',\n    },\n    {\n      delay,\n      texts: '-05-08</',\n    },\n    {\n      delay,\n      texts: 'date>), ',\n    },\n    {\n      delay,\n      texts: 'and math',\n    },\n    {\n      delay,\n      texts: ' formula',\n    },\n    {\n      delay,\n      texts: 's ($E=mc',\n    },\n    {\n      delay,\n      texts: '^2$).\\n\\n',\n    },\n    {\n      delay,\n      texts: 'The ',\n    },\n    {\n      delay,\n      texts: 'table ',\n    },\n    {\n      delay,\n      texts: 'of ',\n    },\n    {\n      delay,\n      texts: 'contents ',\n    },\n    {\n      delay,\n      texts: 'feature ',\n    },\n    {\n      delay,\n      texts: 'automatically ',\n    },\n    {\n      delay,\n      texts: 'generates ',\n    },\n    {\n      delay,\n      texts: 'document ',\n    },\n    {\n      delay,\n      texts: 'structure ',\n    },\n    {\n      delay,\n      texts: 'for ',\n    },\n    {\n      delay,\n      texts: 'easy ',\n    },\n    {\n      delay,\n      texts: 'navigation.\\n\\n',\n    },\n    {\n      delay,\n      texts: '<toc ',\n    },\n    {\n      delay,\n      texts: '/>\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Math ',\n    },\n    {\n      delay,\n      texts: 'formula ',\n    },\n    {\n      delay,\n      texts: 'support ',\n    },\n    {\n      delay,\n      texts: 'makes ',\n    },\n    {\n      delay,\n      texts: 'displaying ',\n    },\n    {\n      delay,\n      texts: 'complex ',\n    },\n    {\n      delay,\n      texts: 'mathematical ',\n    },\n    {\n      delay,\n      texts: 'expressions ',\n    },\n    {\n      delay,\n      texts: 'simple.\\n\\n',\n    },\n    {\n      delay,\n      texts: '$$\\n',\n    },\n    {\n      delay,\n      texts: 'a^2',\n    },\n    {\n      delay,\n      texts: '+b^2',\n    },\n    {\n      delay,\n      texts: '=c^2\\n',\n    },\n    {\n      delay,\n      texts: '$$\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Multi-co',\n    },\n    {\n      delay,\n      texts: 'lumn lay',\n    },\n    {\n      delay,\n      texts: 'out feat',\n    },\n    {\n      delay,\n      texts: 'ures ena',\n    },\n    {\n      delay,\n      texts: 'ble rich',\n    },\n    {\n      delay,\n      texts: 'er page ',\n    },\n    {\n      delay,\n      texts: 'designs ',\n    },\n    {\n      delay,\n      texts: 'and cont',\n    },\n    {\n      delay,\n      texts: 'ent layo',\n    },\n    {\n      delay,\n      texts: 'uts.\\n\\n',\n    },\n    // {\n    //  delay,\n    //   texts: '<column_group layout=\"[50,50]\">\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '<column width=\"50%\">\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '  left\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '</column>\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '<column width=\"50%\">\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '  right\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '</column>\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '</column_group>\\n\\n',\n    // },\n    {\n      delay,\n      texts: 'PDF ',\n    },\n    {\n      delay,\n      texts: 'embedding ',\n    },\n    {\n      delay,\n      texts: 'makes ',\n    },\n    {\n      delay,\n      texts: 'document ',\n    },\n    {\n      delay,\n      texts: 'referencing ',\n    },\n    {\n      delay,\n      texts: 'simple ',\n    },\n    {\n      delay,\n      texts: 'and ',\n    },\n    {\n      delay,\n      texts: 'intuitive.\\n\\n',\n    },\n    {\n      delay,\n      texts: '<file ',\n    },\n    {\n      delay,\n      texts: 'name=\"sample.pdf\" ',\n    },\n    {\n      delay,\n      texts: 'align=\"center\" ',\n    },\n    {\n      delay,\n      texts:\n        'src=\"https://s26.q4cdn.com/900411403/files/doc_downloads/test.pdf\" width=\"80%\" isUpload=\"true\" />\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Audio ',\n    },\n    {\n      delay,\n      texts: 'players ',\n    },\n    {\n      delay,\n      texts: 'can ',\n    },\n    {\n      delay,\n      texts: 'be ',\n    },\n    {\n      delay,\n      texts: 'embedded ',\n    },\n    {\n      delay,\n      texts: 'directly ',\n    },\n    {\n      delay,\n      texts: 'into ',\n    },\n    {\n      delay,\n      texts: 'documents, ',\n    },\n    {\n      delay,\n      texts: 'supporting ',\n    },\n    {\n      delay,\n      texts: 'online ',\n    },\n    {\n      delay,\n      texts: 'audio ',\n    },\n    {\n      delay,\n      texts: 'resources.\\n\\n',\n    },\n    {\n      delay,\n      texts: '<audio ',\n    },\n    {\n      delay,\n      texts: 'align=\"center\" ',\n    },\n    {\n      delay,\n      texts:\n        'src=\"https://samplelib.com/lib/preview/mp3/sample-3s.mp3\" width=\"80%\" />\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Video ',\n    },\n    {\n      delay,\n      texts: 'playback ',\n    },\n    {\n      delay,\n      texts: 'features ',\n    },\n    {\n      delay,\n      texts: 'support ',\n    },\n    {\n      delay,\n      texts: 'embedding ',\n    },\n    {\n      delay,\n      texts: 'various ',\n    },\n    {\n      delay,\n      texts: 'online ',\n    },\n    {\n      delay,\n      texts: 'video ',\n    },\n    {\n      delay,\n      texts: 'resources, ',\n    },\n    {\n      delay,\n      texts: 'enriching ',\n    },\n    {\n      delay,\n      texts: 'document ',\n    },\n    {\n      delay,\n      texts: 'content.\\n\\n',\n    },\n    {\n      delay,\n      texts: '<video ',\n    },\n    {\n      delay,\n      texts: 'align=\"center\" ',\n    },\n    {\n      delay,\n      texts:\n        'src=\"https://videos.pexels.com/video-files/6769791/6769791-uhd_2560_1440_24fps.mp4\" width=\"80%\" isUpload=\"true\" />',\n    },\n  ],\n];\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\n\nimport { cn } from '@udecode/cn';\nimport { SlateElement } from '@udecode/plate';\n\nexport function CalloutElementStatic({\n  children,\n  className,\n  ...props\n}: SlateElementProps) {\n  return (\n    <SlateElement\n      className={cn('my-1 flex rounded-sm bg-muted p-4 pl-3', className)}\n      style={{\n        backgroundColor: props.element.backgroundColor as any,\n      }}\n      {...props}\n    >\n      <div className=\"flex w-full gap-2 rounded-md\">\n        <div\n          className=\"size-6 text-[18px] select-none\"\n          style={{\n            fontFamily:\n              '\"Apple Color Emoji\", \"Segoe UI Emoji\", NotoColorEmoji, \"Noto Color Emoji\", \"Segoe UI Symbol\", \"Android Emoji\", EmojiSymbols',\n          }}\n        >\n          <span data-plate-prevent-deserialization>\n            {(props.element.icon as any) || ''}\n          </span>\n        </div>\n        <div className=\"w-full\">{children}</div>\n      </div>\n    </SlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateLeafProps } from '@udecode/plate/react';\n\nimport { PlateLeaf } from '@udecode/plate/react';\n\nexport function KbdLeaf(props: PlateLeafProps) {\n  return (\n    <PlateLeaf\n      {...props}\n      as=\"kbd\"\n      className=\"rounded border border-border bg-muted px-1.5 py-0.5 font-mono text-sm shadow-[rgba(255,_255,_255,_0.1)_0px_0.5px_0px_0px_inset,_rgb(248,_249,_250)_0px_1px_5px_0px_inset,_rgb(193,_200,_205)_0px_0px_0px_0.5px,_rgb(193,_200,_205)_0px_2px_1px_-1px,_rgb(193,_200,_205)_0px_1px_0px_0px] dark:shadow-[rgba(255,_255,_255,_0.1)_0px_0.5px_0px_0px_inset,_rgb(26,_29,_30)_0px_1px_5px_0px_inset,_rgb(76,_81,_85)_0px_0px_0px_0.5px,_rgb(76,_81,_85)_0px_2px_1px_-1px,_rgb(76,_81,_85)_0px_1px_0px_0px]\"\n    >\n      {props.children}\n    </PlateLeaf>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { withProps } from '@udecode/cn';\nimport { BaseParagraphPlugin, SlateLeaf } from '@udecode/plate';\nimport { useAIChatEditor } from '@udecode/plate-ai/react';\nimport {\n  BaseBoldPlugin,\n  BaseCodePlugin,\n  BaseItalicPlugin,\n  BaseStrikethroughPlugin,\n  BaseSubscriptPlugin,\n  BaseSuperscriptPlugin,\n  BaseUnderlinePlugin,\n} from '@udecode/plate-basic-marks';\nimport { BaseBlockquotePlugin } from '@udecode/plate-block-quote';\nimport { BaseCalloutPlugin } from '@udecode/plate-callout';\nimport {\n  BaseCodeBlockPlugin,\n  BaseCodeLinePlugin,\n  BaseCodeSyntaxPlugin,\n} from '@udecode/plate-code-block';\nimport { BaseDatePlugin } from '@udecode/plate-date';\nimport {\n  BaseFontBackgroundColorPlugin,\n  BaseFontColorPlugin,\n  BaseFontFamilyPlugin,\n  BaseFontSizePlugin,\n  BaseFontWeightPlugin,\n} from '@udecode/plate-font';\nimport {\n  BaseHeadingPlugin,\n  BaseTocPlugin,\n  HEADING_KEYS,\n} from '@udecode/plate-heading';\nimport { BaseHighlightPlugin } from '@udecode/plate-highlight';\nimport { BaseHorizontalRulePlugin } from '@udecode/plate-horizontal-rule';\nimport { BaseIndentPlugin } from '@udecode/plate-indent';\nimport { BaseIndentListPlugin } from '@udecode/plate-indent-list';\nimport { BaseKbdPlugin } from '@udecode/plate-kbd';\nimport { BaseColumnItemPlugin, BaseColumnPlugin } from '@udecode/plate-layout';\nimport { BaseLinkPlugin } from '@udecode/plate-link';\nimport {\n  BaseEquationPlugin,\n  BaseInlineEquationPlugin,\n} from '@udecode/plate-math';\nimport {\n  BaseAudioPlugin,\n  BaseFilePlugin,\n  BaseImagePlugin,\n  BaseVideoPlugin,\n} from '@udecode/plate-media';\nimport { BaseMentionPlugin } from '@udecode/plate-mention';\nimport {\n  BaseTableCellHeaderPlugin,\n  BaseTableCellPlugin,\n  BaseTablePlugin,\n  BaseTableRowPlugin,\n} from '@udecode/plate-table';\nimport { usePlateEditor } from '@udecode/plate/react';\nimport { all, createLowlight } from 'lowlight';\n\nimport { markdownPlugin } from '@/components/editor/plugins/markdown-plugin';\nimport {\n  TodoLiStatic,\n  TodoMarkerStatic,\n} from '@/components/ui/indent-todo-marker-static';\n\nimport { BlockquoteElementStatic } from './blockquote-element-static';\nimport { CalloutElementStatic } from './callout-element-static';\nimport { CodeBlockElementStatic } from './code-block-element-static';\nimport { CodeLeafStatic } from './code-leaf-static';\nimport { CodeLineElementStatic } from './code-line-element-static';\nimport { CodeSyntaxLeafStatic } from './code-syntax-leaf-static';\nimport { ColumnElementStatic } from './column-element-static';\nimport { ColumnGroupElementStatic } from './column-group-element-static';\nimport { DateElement } from './date-element';\nimport { EditorStatic } from './editor-static';\nimport { EquationElementStatic } from './equation-element-static';\nimport { HeadingElementStatic } from './heading-element-static';\nimport { HighlightLeafStatic } from './highlight-leaf-static';\nimport { HrElementStatic } from './hr-element-static';\nimport { ImageElementStatic } from './image-element-static';\nimport { InlineEquationElementStatic } from './inline-equation-element-static';\nimport { KbdLeaf } from './kbd-leaf';\nimport { LinkElementStatic } from './link-element-static';\nimport { MediaAudioElementStatic } from './media-audio-element-static';\nimport { MediaFileElementStatic } from './media-file-element-static';\nimport { MediaVideoElementStatic } from './media-video-element-static';\nimport { MentionElementStatic } from './mention-element-static';\nimport { ParagraphElementStatic } from './paragraph-element-static';\nimport {\n  TableCellElementStatic,\n  TableCellHeaderStaticElement,\n} from './table-cell-element-static';\nimport { TableElementStatic } from './table-element-static';\nimport { TableRowElementStatic } from './table-row-element-static';\nimport { TocElementStatic } from './toc-element-static';\n\nconst components = {\n  [BaseAudioPlugin.key]: MediaAudioElementStatic,\n  [BaseBlockquotePlugin.key]: BlockquoteElementStatic,\n  [BaseBoldPlugin.key]: withProps(SlateLeaf, { as: 'strong' }),\n  [BaseCalloutPlugin.key]: CalloutElementStatic,\n  [BaseCodeBlockPlugin.key]: CodeBlockElementStatic,\n  [BaseCodeLinePlugin.key]: CodeLineElementStatic,\n  [BaseCodePlugin.key]: CodeLeafStatic,\n  [BaseCodeSyntaxPlugin.key]: CodeSyntaxLeafStatic,\n  [BaseColumnItemPlugin.key]: ColumnElementStatic,\n  [BaseColumnPlugin.key]: ColumnGroupElementStatic,\n  [BaseDatePlugin.key]: DateElement,\n  [BaseEquationPlugin.key]: EquationElementStatic,\n  [BaseFilePlugin.key]: MediaFileElementStatic,\n  [BaseHighlightPlugin.key]: HighlightLeafStatic,\n  [BaseHorizontalRulePlugin.key]: HrElementStatic,\n  [BaseImagePlugin.key]: ImageElementStatic,\n  [BaseInlineEquationPlugin.key]: InlineEquationElementStatic,\n  [BaseItalicPlugin.key]: withProps(SlateLeaf, { as: 'em' }),\n  [BaseKbdPlugin.key]: KbdLeaf,\n  [BaseLinkPlugin.key]: LinkElementStatic,\n  [BaseMentionPlugin.key]: MentionElementStatic,\n  [BaseParagraphPlugin.key]: ParagraphElementStatic,\n  [BaseStrikethroughPlugin.key]: withProps(SlateLeaf, { as: 's' }),\n  [BaseSubscriptPlugin.key]: withProps(SlateLeaf, { as: 'sub' }),\n  [BaseSuperscriptPlugin.key]: withProps(SlateLeaf, { as: 'sup' }),\n  [BaseTableCellHeaderPlugin.key]: TableCellHeaderStaticElement,\n  [BaseTableCellPlugin.key]: TableCellElementStatic,\n  [BaseTablePlugin.key]: TableElementStatic,\n  [BaseTableRowPlugin.key]: TableRowElementStatic,\n  [BaseTocPlugin.key]: TocElementStatic,\n  [BaseUnderlinePlugin.key]: withProps(SlateLeaf, { as: 'u' }),\n\n  [BaseVideoPlugin.key]: MediaVideoElementStatic,\n  [HEADING_KEYS.h1]: withProps(HeadingElementStatic, { variant: 'h1' }),\n\n  [HEADING_KEYS.h2]: withProps(HeadingElementStatic, { variant: 'h2' }),\n  [HEADING_KEYS.h3]: withProps(HeadingElementStatic, { variant: 'h3' }),\n\n  // [BaseCommentsPlugin.key]: CommentLeafStatic\n  // [BaseTogglePlugin.key]: ToggleElementStatic\n};\nconst lowlight = createLowlight(all);\n\nconst plugins = [\n  BaseColumnItemPlugin,\n  BaseColumnPlugin,\n  BaseBlockquotePlugin,\n  BaseSubscriptPlugin,\n  BaseSuperscriptPlugin,\n  BaseImagePlugin,\n  BaseKbdPlugin,\n  BaseBoldPlugin,\n  BaseCodeBlockPlugin.configure({ options: { lowlight } }),\n  BaseDatePlugin,\n  BaseEquationPlugin,\n  BaseInlineEquationPlugin,\n  BaseCodePlugin,\n  BaseItalicPlugin,\n  BaseStrikethroughPlugin,\n  BaseUnderlinePlugin,\n  BaseFontColorPlugin,\n  BaseFontSizePlugin,\n  BaseFontFamilyPlugin,\n  BaseFontWeightPlugin,\n  BaseFontBackgroundColorPlugin,\n  BaseHeadingPlugin,\n  BaseHorizontalRulePlugin,\n  BaseTablePlugin,\n  BaseTocPlugin,\n  BaseHighlightPlugin,\n  BaseLinkPlugin,\n  BaseMentionPlugin,\n  BaseParagraphPlugin,\n  BaseCalloutPlugin,\n  BaseIndentPlugin.extend({\n    inject: {\n      targetPlugins: [BaseParagraphPlugin.key],\n    },\n  }),\n  BaseIndentListPlugin.extend({\n    inject: {\n      targetPlugins: [BaseParagraphPlugin.key],\n    },\n    options: {\n      listStyleTypes: {\n        todo: {\n          liComponent: TodoLiStatic,\n          markerComponent: TodoMarkerStatic,\n          type: 'todo',\n        },\n      },\n    },\n  }),\n  markdownPlugin,\n];\n\nexport const AIChatEditor = React.memo(function AIChatEditor({\n  content,\n}: {\n  content: string;\n}) {\n  const aiEditor = usePlateEditor({\n    plugins,\n  });\n\n  useAIChatEditor(aiEditor, content);\n\n  return (\n    <EditorStatic variant=\"aiChat\" components={components} editor={aiEditor} />\n  );\n});\n","'use client';\n\nimport * as React from 'react';\n\nimport { type SlateEditor, NodeApi } from '@udecode/plate';\nimport { AIChatPlugin, AIPlugin } from '@udecode/plate-ai/react';\nimport { useIsSelecting } from '@udecode/plate-selection/react';\nimport {\n  type PlateEditor,\n  useEditorRef,\n  usePluginOption,\n} from '@udecode/plate/react';\nimport {\n  Album,\n  BadgeHelp,\n  BookOpenCheck,\n  Check,\n  CornerUpLeft,\n  FeatherIcon,\n  Languages,\n  ListEnd,\n  ListMinus,\n  ListPlus,\n  PenLine,\n  SmileIcon,\n  Wand,\n  X,\n} from 'lucide-react';\n\nimport { CommandGroup, CommandItem } from '@/components/ui/command';\n\nexport type EditorChatState =\n  | 'cursorCommand'\n  | 'cursorSuggestion'\n  | 'selectionCommand'\n  | 'selectionSuggestion';\n\nexport const aiChatItems = {\n  accept: {\n    icon: <Check />,\n    label: 'Accept',\n    value: 'accept',\n    onSelect: ({ editor }) => {\n      editor.getTransforms(AIChatPlugin).aiChat.accept();\n      editor.tf.focus({ edge: 'end' });\n    },\n  },\n  continueWrite: {\n    icon: <PenLine />,\n    label: 'Continue writing',\n    value: 'continueWrite',\n    onSelect: ({ editor }) => {\n      const ancestorNode = editor.api.block({ highest: true });\n\n      if (!ancestorNode) return;\n\n      const isEmpty = NodeApi.string(ancestorNode[0]).trim().length === 0;\n\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        mode: 'insert',\n        prompt: isEmpty\n          ? `<Document>\n{editor}\n</Document>\nStart writing a new paragraph AFTER <Document> ONLY ONE SENTENCE`\n          : 'Continue writing AFTER <Block> ONLY ONE SENTENCE. DONT REPEAT THE TEXT.',\n      });\n    },\n  },\n  discard: {\n    icon: <X />,\n    label: 'Discard',\n    shortcut: 'Escape',\n    value: 'discard',\n    onSelect: ({ editor }) => {\n      editor.getTransforms(AIPlugin).ai.undo();\n      editor.getApi(AIChatPlugin).aiChat.hide();\n    },\n  },\n  emojify: {\n    icon: <SmileIcon />,\n    label: 'Emojify',\n    value: 'emojify',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Emojify',\n      });\n    },\n  },\n  explain: {\n    icon: <BadgeHelp />,\n    label: 'Explain',\n    value: 'explain',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: {\n          default: 'Explain {editor}',\n          selecting: 'Explain',\n        },\n      });\n    },\n  },\n  fixSpelling: {\n    icon: <Check />,\n    label: 'Fix spelling & grammar',\n    value: 'fixSpelling',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Fix spelling and grammar',\n      });\n    },\n  },\n  generateMarkdownSample: {\n    icon: <BookOpenCheck />,\n    label: 'Generate Markdown sample',\n    value: 'generateMarkdownSample',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Generate a markdown sample',\n      });\n    },\n  },\n  generateMdxSample: {\n    icon: <BookOpenCheck />,\n    label: 'Generate MDX sample',\n    value: 'generateMdxSample',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Generate a mdx sample',\n      });\n    },\n  },\n  improveWriting: {\n    icon: <Wand />,\n    label: 'Improve writing',\n    value: 'improveWriting',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Improve the writing',\n      });\n    },\n  },\n  \n  insertBelow: {\n    icon: <ListEnd />,\n    label: 'Insert below',\n    value: 'insertBelow',\n    onSelect: ({ aiEditor, editor }) => {\n      void editor.getTransforms(AIChatPlugin).aiChat.insertBelow(aiEditor);\n    },\n  },  \n\n  makeLonger: {\n    icon: <ListPlus />,\n    label: 'Make longer',\n    value: 'makeLonger',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Make longer',\n      });\n    },\n  },\n  makeShorter: {\n    icon: <ListMinus />,\n    label: 'Make shorter',\n    value: 'makeShorter',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Make shorter',\n      });\n    },\n  },\n  replace: {\n    icon: <Check />,\n    label: 'Replace selection',\n    value: 'replace',\n    onSelect: ({ aiEditor, editor }) => {\n      void editor.getTransforms(AIChatPlugin).aiChat.replaceSelection(aiEditor);\n    },\n  },\n  simplifyLanguage: {\n    icon: <FeatherIcon />,\n    label: 'Simplify language',\n    value: 'simplifyLanguage',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Simplify the language',\n      });\n    },\n  },\n  summarize: {\n    icon: <Album />,\n    label: 'Add a summary',\n    value: 'summarize',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        mode: 'insert',\n        prompt: {\n          default: 'Summarize {editor}',\n          selecting: 'Summarize',\n        },\n      });\n    },\n  },\n  translate: {\n    icon: <Languages />,\n    label: 'Translate',\n    value: 'translate',\n    onSelect: ({ setTranslateMode }) => {\n      setTranslateMode?.(true); //\n    },\n  },\n\n\n  tryAgain: {\n    icon: <CornerUpLeft />,\n    label: 'Try again',\n    value: 'tryAgain',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.reload();\n    },\n  },\n} satisfies Record<\nstring,\n{\n  icon: React.ReactNode;\n  label: string;\n  value: string;\n  component?: React.ComponentType<{ menuState: EditorChatState }>;\n  filterItems?: boolean;\n  items?: { label: string; value: string }[];\n  shortcut?: string;\n  onSelect?: ({\n    aiEditor,\n    editor,\n    setTranslateMode,\n  }: {\n    aiEditor: SlateEditor;\n    editor: PlateEditor;\n    setTranslateMode?: (v: boolean) => void;\n  }) => void;\n}\n>;\n\nconst menuStateItems: Record<\n  EditorChatState,\n  {\n    items: (typeof aiChatItems)[keyof typeof aiChatItems][];\n    heading?: string;\n  }[]\n> = {\n  cursorCommand: [\n    {\n      items: [\n        aiChatItems.generateMdxSample,\n        aiChatItems.generateMarkdownSample,\n        aiChatItems.continueWrite,\n        aiChatItems.summarize,\n        aiChatItems.explain,\n      ],\n    },\n  ],\n  cursorSuggestion: [\n    {\n      items: [aiChatItems.accept, aiChatItems.discard, aiChatItems.tryAgain],\n    },\n  ],\n  selectionCommand: [\n    {\n      items: [\n        aiChatItems.improveWriting,\n        aiChatItems.translate, // 22\n        aiChatItems.emojify,\n        aiChatItems.makeLonger,\n        aiChatItems.makeShorter,\n        aiChatItems.fixSpelling,\n        aiChatItems.simplifyLanguage,\n      ],\n    },\n  ],\n  selectionSuggestion: [\n    {\n      items: [\n        aiChatItems.replace,\n        aiChatItems.insertBelow,\n        aiChatItems.discard,\n        aiChatItems.tryAgain,\n      ],\n    },\n  ],\n};\nexport const AIMenuItems = ({\n  setTranslateMode,\n  setValue,\n}: {\n  setTranslateMode: (v: boolean) => void;\n  setValue: (value: string) => void;\n}) => {\n\n  const editor = useEditorRef();\n  const { messages } = usePluginOption(AIChatPlugin, 'chat');\n  const aiEditor = usePluginOption(AIChatPlugin, 'aiEditor')!;\n  const isSelecting = useIsSelecting();\n\n  const menuState = React.useMemo(() => {\n    if (messages && messages.length > 0) {\n      return isSelecting ? 'selectionSuggestion' : 'cursorSuggestion';\n    }\n\n    return isSelecting ? 'selectionCommand' : 'cursorCommand';\n  }, [isSelecting, messages]);\n\n  const menuGroups = React.useMemo(() => {\n    const items = menuStateItems[menuState];\n    return items;\n  }, [menuState]);\n\n  React.useEffect(() => {\n    if (menuGroups.length > 0 && menuGroups[0].items.length > 0) {\n      setValue(menuGroups[0].items[0].value);\n    }\n  }, [menuGroups, setValue]);\n\n  return (\n    <>\n      {menuGroups.map((group, index) => (\n        <CommandGroup key={index} heading={group.heading}>\n          {group.items.map((menuItem) => (\n            <CommandItem\n              key={menuItem.value}\n              className=\"[&_svg]:text-muted-foreground\"\n              value={menuItem.value}\n              onSelect={() => {\n                menuItem.onSelect?.({\n                  aiEditor,\n                  editor: editor,\n                  setTranslateMode, \n                });\n              }}\n            >\n              {menuItem.icon}\n              <span>{menuItem.label}</span>\n            </CommandItem>\n          ))}\n        </CommandGroup>\n      ))}\n    </>\n  );\n};","'use client';\n\nimport * as React from 'react';\n\nimport { type NodeEntry, isHotkey } from '@udecode/plate';\nimport {\n  AIChatPlugin,\n  useEditorChat,\n  useLastAssistantMessage,\n} from '@udecode/plate-ai/react';\nimport {\n  BlockSelectionPlugin,\n  useIsSelecting,\n} from '@udecode/plate-selection/react';\nimport {\n  useEditorPlugin,\n  useHotkeys,\n  usePluginOption,\n} from '@udecode/plate/react';\nimport { Command as CommandPrimitive } from 'cmdk';\nimport { Loader2Icon } from 'lucide-react';\n\nimport { useChat } from '@/components/editor/use-chat';\nimport { Command, CommandList } from '@/components/ui/command';\nimport {\n  Popover,\n  PopoverAnchor,\n  PopoverContent,\n} from '@/components/ui/popover';\nimport { cn } from '@/lib/utils';\n\nimport { AIChatEditor } from './ai-chat-editor';\nimport { AIMenuItems } from './ai-menu-items';\n\nexport function AIMenu() {\n  const { api, editor } = useEditorPlugin(AIChatPlugin);\n  const open = usePluginOption(AIChatPlugin, 'open');\n  const mode = usePluginOption(AIChatPlugin, 'mode');\n  const streaming = usePluginOption(AIChatPlugin, 'streaming');\n  const isSelecting = useIsSelecting();\n\n  const [value, setValue] = React.useState('');\n\n  const chat = useChat();\n\n  const { input, messages, setInput, status } = chat;\n  const [anchorElement, setAnchorElement] = React.useState<HTMLElement | null>(\n    null\n  );\n\n  const [translateMode, setTranslateMode] = React.useState(false);\n  const [targetLanguage, setTargetLanguage] = React.useState('');\n\n  const content = useLastAssistantMessage()?.content;\n\n  React.useEffect(() => {\n    if (streaming) {\n      const anchor = api.aiChat.node({ anchor: true });\n      setTimeout(() => {\n        const anchorDom = editor.api.toDOMNode(anchor![0])!;\n        setAnchorElement(anchorDom);\n      }, 0);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [streaming]);\n\n  const setOpen = (open: boolean) => {\n    if (open) {\n      api.aiChat.show();\n    } else {\n      api.aiChat.hide();\n      setTranslateMode(false);\n      setTargetLanguage('');\n    }\n  };\n\n  const show = (anchorElement: HTMLElement) => {\n    setAnchorElement(anchorElement);\n    setOpen(true);\n  };\n\n  useEditorChat({\n    chat,\n    onOpenBlockSelection: (blocks: NodeEntry[]) => {\n      show(editor.api.toDOMNode(blocks.at(-1)![0])!);\n    },\n    onOpenChange: (open) => {\n      if (!open) {\n        setAnchorElement(null);\n        setInput('');\n        setTranslateMode(false);\n        setTargetLanguage('');\n      }\n    },\n    onOpenCursor: () => {\n      const [ancestor] = editor.api.block({ highest: true })!;\n\n      if (!editor.api.isAt({ end: true }) && !editor.api.isEmpty(ancestor)) {\n        editor\n          .getApi(BlockSelectionPlugin)\n          .blockSelection.set(ancestor.id as string);\n      }\n\n      show(editor.api.toDOMNode(ancestor)!);\n    },\n    onOpenSelection: () => {\n      show(editor.api.toDOMNode(editor.api.blocks().at(-1)![0])!);\n    },\n  });\n\n  useHotkeys(\n    'meta+j',\n    () => {\n      api.aiChat.show();\n    },\n    { enableOnContentEditable: true, enableOnFormTags: true }\n  );\n\n  useHotkeys('esc', () => {\n    api.aiChat.stop();\n    chat._abortFakeStream();\n    setTranslateMode(false);\n    setTargetLanguage('');\n  });\n\n  const isLoading = status === 'streaming' || status === 'submitted';\n\n  if (isLoading && mode === 'insert') {\n    return null;\n  }\n\n  return (\n    <Popover open={open} onOpenChange={setOpen} modal={false}>\n      <PopoverAnchor virtualRef={{ current: anchorElement! }} />\n\n      <PopoverContent\n        className=\"border-none bg-transparent p-0 shadow-none\"\n        style={{\n          width: anchorElement?.offsetWidth,\n        }}\n        onEscapeKeyDown={(e) => {\n          e.preventDefault();\n          api.aiChat.hide();\n          setTranslateMode(false);\n          setTargetLanguage('');\n        }}\n        align=\"center\"\n        side=\"bottom\"\n      >\n        <Command\n          className=\"w-full rounded-lg border shadow-md\"\n          value={value}\n          onValueChange={setValue}\n        >\n          {mode === 'chat' && isSelecting && content && (\n            <AIChatEditor content={content} />\n          )}\n\n          {isLoading ? (\n            <div className=\"flex grow items-center gap-2 p-2 text-sm text-muted-foreground select-none\">\n              <Loader2Icon className=\"size-4 animate-spin\" />\n              {messages.length > 1 ? 'Editing...' : 'Thinking...'}\n            </div>\n          ) : translateMode ? (\n            <CommandPrimitive.Input\n              className={cn(\n                'flex h-9 w-full min-w-0 border-input bg-transparent px-3 py-1 text-base transition-[color,box-shadow] outline-none placeholder:text-muted-foreground md:text-sm dark:bg-input/30',\n                'aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40',\n                'border-b focus-visible:ring-transparent'\n              )}\n              value={targetLanguage}\n              onKeyDown={e => {\n                if (isHotkey('enter')(e) && targetLanguage.trim()) {\n                  e.preventDefault();\n                  void editor.getApi(AIChatPlugin).aiChat.submit({\n                    prompt: `Translate the selected text to ${targetLanguage}`,\n                  });\n                  setTranslateMode(false);\n                  setTargetLanguage('');\n                 // setOpen(false);\n                }\n                if (isHotkey('esc')(e)) {\n                  setTranslateMode(false);\n                  setTargetLanguage('');\n                }\n              }}\n              onValueChange={setTargetLanguage}\n              placeholder=\"Enter target language (e.g. French)\"\n              autoFocus\n            />\n          ) : (\n            <CommandPrimitive.Input\n              className={cn(\n                'flex h-9 w-full min-w-0 border-input bg-transparent px-3 py-1 text-base transition-[color,box-shadow] outline-none placeholder:text-muted-foreground md:text-sm dark:bg-input/30',\n                'aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40',\n                'border-b focus-visible:ring-transparent'\n              )}\n              value={input}\n              onKeyDown={(e) => {\n                if (isHotkey('backspace')(e) && input.length === 0) {\n                  e.preventDefault();\n                  api.aiChat.hide();\n                }\n                if (isHotkey('enter')(e) && !e.shiftKey && !value) {\n                  e.preventDefault();\n                  void api.aiChat.submit();\n                }\n              }}\n              onValueChange={setInput}\n              placeholder=\"Ask AI anything...\"\n              data-plate-focus\n              autoFocus\n            />\n          )}\n\n          {!isLoading && !translateMode && (\n            <CommandList>\n              <AIMenuItems setTranslateMode={setTranslateMode} setValue={setValue} />\n            </CommandList>\n          )}\n        </Command>\n      </PopoverContent>\n    </Popover>\n  );\n}","'use client';\n\nimport * as React from 'react';\n\nimport { RangeApi } from '@udecode/plate';\nimport { AIChatPlugin } from '@udecode/plate-ai/react';\nimport {\n  type CursorData,\n  type CursorOverlayState,\n  useCursorOverlay,\n} from '@udecode/plate-selection/react';\nimport { usePluginOption } from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\n\nexport function Cursor({\n  id,\n  caretPosition,\n  data,\n  selection,\n  selectionRects,\n}: CursorOverlayState<CursorData>) {\n  const streaming = usePluginOption(AIChatPlugin, 'streaming');\n  const { style, selectionStyle = style } = data ?? ({} as CursorData);\n  const isCursor = RangeApi.isCollapsed(selection);\n\n  if (streaming) return null;\n\n  return (\n    <>\n      {selectionRects.map((position, i) => {\n        return (\n          <div\n            key={i}\n            className={cn(\n              'pointer-events-none absolute z-10',\n              id === 'selection' && 'bg-brand/25',\n              id === 'selection' && isCursor && 'bg-primary'\n            )}\n            style={{\n              ...selectionStyle,\n              ...position,\n            }}\n          />\n        );\n      })}\n      {caretPosition && (\n        <div\n          className={cn(\n            'pointer-events-none absolute z-10 w-0.5',\n            id === 'drag' && 'w-px bg-brand'\n          )}\n          style={{ ...caretPosition, ...style }}\n        />\n      )}\n    </>\n  );\n}\n\nexport function CursorOverlay() {\n  const { cursors } = useCursorOverlay();\n\n  return (\n    <>\n      {cursors.map((cursor) => (\n        <Cursor key={cursor.id} {...cursor} />\n      ))}\n    </>\n  );\n}\n","'use client';\n\nimport { CursorOverlayPlugin } from '@udecode/plate-selection/react';\n\nimport { CursorOverlay } from '@/components/ui/cursor-overlay';\n\nexport const cursorOverlayPlugin = CursorOverlayPlugin.configure({\n  render: {\n    afterEditable: () => <CursorOverlay />,\n  },\n});\n","'use client';\n\nimport * as React from 'react';\n\nimport type { AIChatPluginConfig } from '@udecode/plate-ai/react';\n\nimport { PathApi } from '@udecode/plate';\nimport { streamInsertChunk, withAIBatch } from '@udecode/plate-ai';\nimport { AIChatPlugin, AIPlugin, useChatChunk } from '@udecode/plate-ai/react';\nimport { usePluginOption } from '@udecode/plate/react';\n\nimport { markdownPlugin } from '@/components/editor/plugins/markdown-plugin';\nimport { AILoadingBar } from '@/components/ui/ai-loading-bar';\nimport { AIMenu } from '@/components/ui/ai-menu';\n\nimport { cursorOverlayPlugin } from './cursor-overlay-plugin';\n\nconst systemCommon = `\\\nYou are an advanced AI-powered note-taking assistant, designed to enhance productivity and creativity in note management.\nRespond directly to user prompts with clear, concise, and relevant content. Maintain a neutral, helpful tone.\n\nRules:\n- <Document> is the entire note the user is working on.\n- <Reminder> is a reminder of how you should reply to INSTRUCTIONS. It does not apply to questions.\n- Anything else is the user prompt.\n- Your response should be tailored to the user's prompt, providing precise assistance to optimize note management.\n- For INSTRUCTIONS: Follow the <Reminder> exactly. Provide ONLY the content to be inserted or replaced. No explanations or comments.\n- For QUESTIONS: Provide a helpful and concise answer. You may include brief explanations if necessary.\n- CRITICAL: DO NOT remove or modify the following custom MDX tags: <u>, <callout>, <kbd>, <toc>, <sub>, <sup>, <mark>, <del>, <date>, <span>, <column>, <column_group>, <file>, <audio>, <video> in <Selection> unless the user explicitly requests this change.\n- CRITICAL: Distinguish between INSTRUCTIONS and QUESTIONS. Instructions typically ask you to modify or add content. Questions ask for information or clarification.\n- CRITICAL: when asked to write in markdown, do not start with \\`\\`\\`markdown.\n`;\n\nconst systemDefault = `\\\n${systemCommon}\n- <Block> is the current block of text the user is working on.\n- Ensure your output can seamlessly fit into the existing <Block> structure.\n\n<Block>\n{block}\n</Block>\n`;\n\nconst systemSelecting = `\\\n${systemCommon}\n- <Block> is the block of text containing the user's selection, providing context.\n- Ensure your output can seamlessly fit into the existing <Block> structure.\n- <Selection> is the specific text the user has selected in the block and wants to modify or ask about.\n- Consider the context provided by <Block>, but only modify <Selection>. Your response should be a direct replacement for <Selection>.\n<Block>\n{block}\n</Block>\n<Selection>\n{selection}\n</Selection>\n`;\n\nconst systemBlockSelecting = `\\\n${systemCommon}\n- <Selection> represents the full blocks of text the user has selected and wants to modify or ask about.\n- Your response should be a direct replacement for the entire <Selection>.\n- Maintain the overall structure and formatting of the selected blocks, unless explicitly instructed otherwise.\n- CRITICAL: Provide only the content to replace <Selection>. Do not add additional blocks or change the block structure unless specifically requested.\n<Selection>\n{block}\n</Selection>\n`;\n\nconst userDefault = `<Reminder>\nCRITICAL: NEVER write <Block>.\n</Reminder>\n{prompt}`;\n\nconst userSelecting = `<Reminder>\nIf this is a question, provide a helpful and concise answer about <Selection>.\nIf this is an instruction, provide ONLY the text to replace <Selection>. No explanations.\nEnsure it fits seamlessly within <Block>. If <Block> is empty, write ONE random sentence.\nNEVER write <Block> or <Selection>.\n</Reminder>\n{prompt} about <Selection>`;\n\nconst userBlockSelecting = `<Reminder>\nIf this is a question, provide a helpful and concise answer about <Selection>.\nIf this is an instruction, provide ONLY the content to replace the entire <Selection>. No explanations.\nMaintain the overall structure unless instructed otherwise.\nNEVER write <Block> or <Selection>.\n</Reminder>\n{prompt} about <Selection>`;\n\nexport const PROMPT_TEMPLATES = {\n  systemBlockSelecting,\n  systemDefault,\n  systemSelecting,\n  userBlockSelecting,\n  userDefault,\n  userSelecting,\n};\n\nexport const aiPlugins = [\n  cursorOverlayPlugin,\n  markdownPlugin,\n  AIPlugin,\n  AIChatPlugin.configure({\n    options: {\n      promptTemplate: ({ isBlockSelecting, isSelecting }) => {\n        return isBlockSelecting\n          ? PROMPT_TEMPLATES.userBlockSelecting\n          : isSelecting\n            ? PROMPT_TEMPLATES.userSelecting\n            : PROMPT_TEMPLATES.userDefault;\n      },\n      systemTemplate: ({ isBlockSelecting, isSelecting }) => {\n        return isBlockSelecting\n          ? PROMPT_TEMPLATES.systemBlockSelecting\n          : isSelecting\n            ? PROMPT_TEMPLATES.systemSelecting\n            : PROMPT_TEMPLATES.systemDefault;\n      },\n    },\n    render: {\n      afterContainer: () => <AILoadingBar />,\n      afterEditable: () => <AIMenu />,\n    },\n  }).extend({\n    useHooks: ({ editor, getOption }) => {\n      const mode = usePluginOption(\n        { key: 'aiChat' } as AIChatPluginConfig,\n        'mode'\n      );\n\n      useChatChunk({\n        onChunk: ({ chunk, isFirst, nodes }) => {\n          if (isFirst && mode == 'insert') {\n            editor.tf.withoutSaving(() => {\n              editor.tf.insertNodes(\n                {\n                  children: [{ text: '' }],\n                  type: AIChatPlugin.key,\n                },\n                {\n                  at: PathApi.next(editor.selection!.focus.path.slice(0, 1)),\n                }\n              );\n            });\n            editor.setOption(AIChatPlugin, 'streaming', true);\n          }\n\n          if (mode === 'insert' && nodes.length > 0) {\n            withAIBatch(\n              editor,\n              () => {\n                if (!getOption('streaming')) return;\n                editor.tf.withScrolling(() => {\n                  streamInsertChunk(editor, chunk, {\n                    textProps: {\n                      ai: true,\n                    },\n                  });\n                });\n              },\n              { split: isFirst }\n            );\n          }\n        },\n        onFinish: () => {\n          editor.setOption(AIChatPlugin, 'streaming', false);\n          editor.setOption(AIChatPlugin, '_blockChunks', '');\n          editor.setOption(AIChatPlugin, '_blockPath', null);\n        },\n      });\n    },\n  }),\n] as const;\n","'use client';\n\nimport { AlignPlugin } from '@udecode/plate-alignment/react';\nimport { HEADING_LEVELS } from '@udecode/plate-heading';\nimport { ImagePlugin, MediaEmbedPlugin } from '@udecode/plate-media/react';\nimport { ParagraphPlugin } from '@udecode/plate/react';\n\nexport const alignPlugin = AlignPlugin.extend({\n  inject: {\n    targetPlugins: [\n      ParagraphPlugin.key,\n      ...HEADING_LEVELS,\n      MediaEmbedPlugin.key,\n      ImagePlugin.key,\n    ],\n  },\n});\n","'use client';\n\nimport type { AutoformatRule } from '@udecode/plate-autoformat';\n\nimport {\n  autoformatArrow,\n  autoformatLegal,\n  autoformatLegalHtml,\n  autoformatMath,\n  autoformatPunctuation,\n  autoformatSmartQuotes,\n} from '@udecode/plate-autoformat';\nimport { AutoformatPlugin } from '@udecode/plate-autoformat/react';\nimport {\n  BoldPlugin,\n  CodePlugin,\n  ItalicPlugin,\n  StrikethroughPlugin,\n  SubscriptPlugin,\n  SuperscriptPlugin,\n  UnderlinePlugin,\n} from '@udecode/plate-basic-marks/react';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { insertEmptyCodeBlock } from '@udecode/plate-code-block';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { HighlightPlugin } from '@udecode/plate-highlight/react';\nimport { HorizontalRulePlugin } from '@udecode/plate-horizontal-rule/react';\nimport {\n  INDENT_LIST_KEYS,\n  ListStyleType,\n  toggleIndentList,\n} from '@udecode/plate-indent-list';\nimport { openNextToggles, TogglePlugin } from '@udecode/plate-toggle/react';\nimport { ParagraphPlugin } from '@udecode/plate/react';\n\nconst autoformatMarks: AutoformatRule[] = [\n  {\n    match: '***',\n    mode: 'mark',\n    type: [BoldPlugin.key, ItalicPlugin.key],\n  },\n  {\n    match: '__*',\n    mode: 'mark',\n    type: [UnderlinePlugin.key, ItalicPlugin.key],\n  },\n  {\n    match: '__**',\n    mode: 'mark',\n    type: [UnderlinePlugin.key, BoldPlugin.key],\n  },\n  {\n    match: '___***',\n    mode: 'mark',\n    type: [UnderlinePlugin.key, BoldPlugin.key, ItalicPlugin.key],\n  },\n  {\n    match: '**',\n    mode: 'mark',\n    type: BoldPlugin.key,\n  },\n  {\n    match: '__',\n    mode: 'mark',\n    type: UnderlinePlugin.key,\n  },\n  {\n    match: '*',\n    mode: 'mark',\n    type: ItalicPlugin.key,\n  },\n  {\n    match: '_',\n    mode: 'mark',\n    type: ItalicPlugin.key,\n  },\n  {\n    match: '~~',\n    mode: 'mark',\n    type: StrikethroughPlugin.key,\n  },\n  {\n    match: '^',\n    mode: 'mark',\n    type: SuperscriptPlugin.key,\n  },\n  {\n    match: '~',\n    mode: 'mark',\n    type: SubscriptPlugin.key,\n  },\n  {\n    match: '==',\n    mode: 'mark',\n    type: HighlightPlugin.key,\n  },\n  {\n    match: '',\n    mode: 'mark',\n    type: HighlightPlugin.key,\n  },\n  {\n    match: '`',\n    mode: 'mark',\n    type: CodePlugin.key,\n  },\n];\n\nconst autoformatBlocks: AutoformatRule[] = [\n  {\n    match: '# ',\n    mode: 'block',\n    type: HEADING_KEYS.h1,\n  },\n  {\n    match: '## ',\n    mode: 'block',\n    type: HEADING_KEYS.h2,\n  },\n  {\n    match: '### ',\n    mode: 'block',\n    type: HEADING_KEYS.h3,\n  },\n  {\n    match: '#### ',\n    mode: 'block',\n    type: HEADING_KEYS.h4,\n  },\n  {\n    match: '##### ',\n    mode: 'block',\n    type: HEADING_KEYS.h5,\n  },\n  {\n    match: '###### ',\n    mode: 'block',\n    type: HEADING_KEYS.h6,\n  },\n  {\n    match: '> ',\n    mode: 'block',\n    type: BlockquotePlugin.key,\n  },\n  {\n    match: '```',\n    mode: 'block',\n    type: CodeBlockPlugin.key,\n    format: (editor) => {\n      insertEmptyCodeBlock(editor, {\n        defaultType: ParagraphPlugin.key,\n        insertNodesOptions: { select: true },\n      });\n    },\n  },\n  {\n    match: '+ ',\n    mode: 'block',\n    preFormat: openNextToggles,\n    type: TogglePlugin.key,\n  },\n  {\n    match: ['---', '-', '___ '],\n    mode: 'block',\n    type: HorizontalRulePlugin.key,\n    format: (editor) => {\n      editor.tf.setNodes({ type: HorizontalRulePlugin.key });\n      editor.tf.insertNodes({\n        children: [{ text: '' }],\n        type: ParagraphPlugin.key,\n      });\n    },\n  },\n];\n\nconst autoformatIndentLists: AutoformatRule[] = [\n  {\n    match: ['* ', '- '],\n    mode: 'block',\n    type: 'list',\n    format: (editor) => {\n      toggleIndentList(editor, {\n        listStyleType: ListStyleType.Disc,\n      });\n    },\n  },\n  {\n    match: [String.raw`^\\d+\\.$ `, String.raw`^\\d+\\)$ `],\n    matchByRegex: true,\n    mode: 'block',\n    type: 'list',\n    format: (editor, { matchString }) => {\n      toggleIndentList(editor, {\n        listRestartPolite: Number(matchString) || 1,\n        listStyleType: ListStyleType.Decimal,\n      });\n    },\n  },\n  {\n    match: ['[] '],\n    mode: 'block',\n    type: 'list',\n    format: (editor) => {\n      toggleIndentList(editor, {\n        listStyleType: INDENT_LIST_KEYS.todo,\n      });\n      editor.tf.setNodes({\n        checked: false,\n        listStyleType: INDENT_LIST_KEYS.todo,\n      });\n    },\n  },\n  {\n    match: ['[x] '],\n    mode: 'block',\n    type: 'list',\n    format: (editor) => {\n      toggleIndentList(editor, {\n        listStyleType: INDENT_LIST_KEYS.todo,\n      });\n      editor.tf.setNodes({\n        checked: true,\n        listStyleType: INDENT_LIST_KEYS.todo,\n      });\n    },\n  },\n];\n\nexport const autoformatPlugin = AutoformatPlugin.configure({\n  options: {\n    enableUndoOnDelete: true,\n    rules: [\n      ...autoformatBlocks,\n      ...autoformatMarks,\n      ...autoformatSmartQuotes,\n      ...autoformatPunctuation,\n      ...autoformatLegal,\n      ...autoformatLegalHtml,\n      ...autoformatArrow,\n      ...autoformatMath,\n      ...autoformatIndentLists,\n    ].map(\n      (rule): AutoformatRule => ({\n        ...rule,\n        query: (editor) =>\n          !editor.api.some({\n            match: { type: editor.getType(CodeBlockPlugin) },\n          }),\n      })\n    ),\n  },\n});\n","'use client';\n\nimport { BasicMarksPlugin } from '@udecode/plate-basic-marks/react';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { HeadingPlugin } from '@udecode/plate-heading/react';\nimport { all, createLowlight } from 'lowlight';\n\nconst lowlight = createLowlight(all);\n\nexport const basicNodesPlugins = [\n  HeadingPlugin.configure({ options: { levels: 3 } }),\n  BlockquotePlugin,\n  CodeBlockPlugin.configure({ options: { lowlight } }),\n  BasicMarksPlugin,\n] as const;\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction ContextMenu({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Root>) {\n  return <ContextMenuPrimitive.Root data-slot=\"context-menu\" {...props} />\n}\n\nfunction ContextMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Trigger>) {\n  return (\n    <ContextMenuPrimitive.Trigger data-slot=\"context-menu-trigger\" {...props} />\n  )\n}\n\nfunction ContextMenuGroup({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Group>) {\n  return (\n    <ContextMenuPrimitive.Group data-slot=\"context-menu-group\" {...props} />\n  )\n}\n\nfunction ContextMenuPortal({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Portal>) {\n  return (\n    <ContextMenuPrimitive.Portal data-slot=\"context-menu-portal\" {...props} />\n  )\n}\n\nfunction ContextMenuSub({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Sub>) {\n  return <ContextMenuPrimitive.Sub data-slot=\"context-menu-sub\" {...props} />\n}\n\nfunction ContextMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.RadioGroup>) {\n  return (\n    <ContextMenuPrimitive.RadioGroup\n      data-slot=\"context-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <ContextMenuPrimitive.SubTrigger\n      data-slot=\"context-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto\" />\n    </ContextMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction ContextMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.SubContent>) {\n  return (\n    <ContextMenuPrimitive.SubContent\n      data-slot=\"context-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Content>) {\n  return (\n    <ContextMenuPrimitive.Portal>\n      <ContextMenuPrimitive.Content\n        data-slot=\"context-menu-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </ContextMenuPrimitive.Portal>\n  )\n}\n\nfunction ContextMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <ContextMenuPrimitive.Item\n      data-slot=\"context-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.CheckboxItem>) {\n  return (\n    <ContextMenuPrimitive.CheckboxItem\n      data-slot=\"context-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <ContextMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </ContextMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </ContextMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction ContextMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.RadioItem>) {\n  return (\n    <ContextMenuPrimitive.RadioItem\n      data-slot=\"context-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <ContextMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </ContextMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </ContextMenuPrimitive.RadioItem>\n  )\n}\n\nfunction ContextMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <ContextMenuPrimitive.Label\n      data-slot=\"context-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"text-foreground px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Separator>) {\n  return (\n    <ContextMenuPrimitive.Separator\n      data-slot=\"context-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"context-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","'use client';\n\nimport * as React from 'react';\n\nexport function useIsTouchDevice() {\n  const [isTouchDevice, setIsTouchDevice] = React.useState(false);\n\n  React.useEffect(() => {\n    function onResize() {\n      setIsTouchDevice(\n        'ontouchstart' in window ||\n          navigator.maxTouchPoints > 0 ||\n          navigator.maxTouchPoints > 0\n      );\n    }\n\n    window.addEventListener('resize', onResize);\n    onResize();\n\n    return () => {\n      window.removeEventListener('resize', onResize);\n    };\n  }, []);\n\n  return isTouchDevice;\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { AIChatPlugin } from '@udecode/plate-ai/react';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { IndentListPlugin } from '@udecode/plate-indent-list/react';\nimport {\n  BLOCK_CONTEXT_MENU_ID,\n  BlockMenuPlugin,\n  BlockSelectionPlugin,\n} from '@udecode/plate-selection/react';\nimport {\n  ParagraphPlugin,\n  useEditorPlugin,\n  usePlateState,\n} from '@udecode/plate/react';\n\nimport {\n  ContextMenu,\n  ContextMenuContent,\n  ContextMenuGroup,\n  ContextMenuItem,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuTrigger,\n} from '@/components/ui/context-menu';\nimport { useIsTouchDevice } from '@/hooks/use-is-touch-device';\n\ntype Value = 'askAI' | null;\n\nexport function BlockContextMenu({ children }: { children: React.ReactNode }) {\n  const { api, editor } = useEditorPlugin(BlockMenuPlugin);\n  const [value, setValue] = React.useState<Value>(null);\n  const isTouch = useIsTouchDevice();\n  const [readOnly] = usePlateState('readOnly');\n\n  const handleTurnInto = React.useCallback(\n    (type: string) => {\n      editor\n        .getApi(BlockSelectionPlugin)\n        .blockSelection.getNodes()\n        .forEach(([node, path]) => {\n          if (node[IndentListPlugin.key]) {\n            editor.tf.unsetNodes([IndentListPlugin.key, 'indent'], {\n              at: path,\n            });\n          }\n\n          editor.tf.toggleBlock(type, { at: path });\n        });\n    },\n    [editor]\n  );\n\n  const handleAlign = React.useCallback(\n    (align: 'center' | 'left' | 'right') => {\n      editor\n        .getTransforms(BlockSelectionPlugin)\n        .blockSelection.setNodes({ align });\n    },\n    [editor]\n  );\n\n  if (isTouch) {\n    return children;\n  }\n\n  return (\n    <ContextMenu\n      onOpenChange={(open) => {\n        if (!open) {\n          // prevent unselect the block selection\n          setTimeout(() => {\n            api.blockMenu.hide();\n          }, 0);\n        }\n      }}\n      modal={false}\n    >\n      <ContextMenuTrigger\n        asChild\n        onContextMenu={(event) => {\n          const dataset = (event.target as HTMLElement).dataset;\n\n          const disabled = dataset?.slateEditor === 'true' || readOnly;\n\n          if (disabled) return event.preventDefault();\n\n          api.blockMenu.show(BLOCK_CONTEXT_MENU_ID, {\n            x: event.clientX,\n            y: event.clientY,\n          });\n        }}\n      >\n        <div className=\"w-full\">{children}</div>\n      </ContextMenuTrigger>\n      <ContextMenuContent\n        className=\"w-64\"\n        onCloseAutoFocus={(e) => {\n          e.preventDefault();\n          editor.getApi(BlockSelectionPlugin).blockSelection.focus();\n\n          if (value === 'askAI') {\n            editor.getApi(AIChatPlugin).aiChat.show();\n          }\n\n          setValue(null);\n        }}\n      >\n        <ContextMenuGroup>\n          <ContextMenuItem\n            onClick={() => {\n              setValue('askAI');\n            }}\n          >\n            Ask AI\n          </ContextMenuItem>\n          <ContextMenuItem\n            onClick={() => {\n              editor\n                .getTransforms(BlockSelectionPlugin)\n                .blockSelection.removeNodes();\n              editor.tf.focus();\n            }}\n          >\n            Delete\n          </ContextMenuItem>\n          <ContextMenuItem\n            onClick={() => {\n              editor\n                .getTransforms(BlockSelectionPlugin)\n                .blockSelection.duplicate();\n            }}\n          >\n            Duplicate\n            {/* <ContextMenuShortcut> + D</ContextMenuShortcut> */}\n          </ContextMenuItem>\n          <ContextMenuSub>\n            <ContextMenuSubTrigger>Turn into</ContextMenuSubTrigger>\n            <ContextMenuSubContent className=\"w-48\">\n              <ContextMenuItem\n                onClick={() => handleTurnInto(ParagraphPlugin.key)}\n              >\n                Paragraph\n              </ContextMenuItem>\n\n              <ContextMenuItem onClick={() => handleTurnInto(HEADING_KEYS.h1)}>\n                Heading 1\n              </ContextMenuItem>\n              <ContextMenuItem onClick={() => handleTurnInto(HEADING_KEYS.h2)}>\n                Heading 2\n              </ContextMenuItem>\n              <ContextMenuItem onClick={() => handleTurnInto(HEADING_KEYS.h3)}>\n                Heading 3\n              </ContextMenuItem>\n              <ContextMenuItem\n                onClick={() => handleTurnInto(BlockquotePlugin.key)}\n              >\n                Blockquote\n              </ContextMenuItem>\n            </ContextMenuSubContent>\n          </ContextMenuSub>\n        </ContextMenuGroup>\n\n        <ContextMenuGroup>\n          <ContextMenuItem\n            onClick={() =>\n              editor\n                .getTransforms(BlockSelectionPlugin)\n                .blockSelection.setIndent(1)\n            }\n          >\n            Indent\n          </ContextMenuItem>\n          <ContextMenuItem\n            onClick={() =>\n              editor\n                .getTransforms(BlockSelectionPlugin)\n                .blockSelection.setIndent(-1)\n            }\n          >\n            Outdent\n          </ContextMenuItem>\n          <ContextMenuSub>\n            <ContextMenuSubTrigger>Align</ContextMenuSubTrigger>\n            <ContextMenuSubContent className=\"w-48\">\n              <ContextMenuItem onClick={() => handleAlign('left')}>\n                Left\n              </ContextMenuItem>\n              <ContextMenuItem onClick={() => handleAlign('center')}>\n                Center\n              </ContextMenuItem>\n              <ContextMenuItem onClick={() => handleAlign('right')}>\n                Right\n              </ContextMenuItem>\n            </ContextMenuSubContent>\n          </ContextMenuSub>\n        </ContextMenuGroup>\n      </ContextMenuContent>\n    </ContextMenu>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { DndPlugin } from '@udecode/plate-dnd';\nimport { useBlockSelected } from '@udecode/plate-selection/react';\nimport { usePluginOption } from '@udecode/plate/react';\nimport { type VariantProps, cva } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\nexport const blockSelectionVariants = cva(\n  'pointer-events-none absolute inset-0 z-1 bg-brand/[.13] transition-opacity',\n  {\n    defaultVariants: {\n      active: true,\n    },\n    variants: {\n      active: {\n        false: 'opacity-0',\n        true: 'opacity-100',\n      },\n    },\n  }\n);\n\nexport function BlockSelection({\n  className,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof blockSelectionVariants>) {\n  const isBlockSelected = useBlockSelected();\n  const isDragging = usePluginOption(DndPlugin, 'isDragging');\n\n  if (!isBlockSelected) return null;\n\n  return (\n    <div\n      className={cn(\n        blockSelectionVariants({\n          active: isBlockSelected && !isDragging,\n        }),\n        className\n      )}\n      data-slot=\"block-selection\"\n      {...props}\n    />\n  );\n}\n","'use client';\n\nimport { BlockSelectionPlugin } from '@udecode/plate-selection/react';\n\nimport { BlockSelection } from '@/components/ui/block-selection';\n\nexport const blockSelectionPlugins = [\n  BlockSelectionPlugin.configure(({ editor }) => ({\n    options: {\n      enableContextMenu: true,\n      isSelectable: (element, path) => {\n        return (\n          !['code_line', 'column', 'td'].includes(element.type) &&\n          !editor.api.block({ above: true, at: path, match: { type: 'tr' } })\n        );\n      },\n    },\n    render: {\n      belowRootNodes: (props) => {\n        if (!props.attributes.className?.includes('slate-selectable'))\n          return null;\n\n        return <BlockSelection />;\n      },\n    },\n  })),\n] as const;\n\nexport const blockSelectionReadOnlyPlugin = BlockSelectionPlugin.configure({\n  api: {},\n  extendEditor: null,\n  handlers: {},\n  options: {},\n  render: {},\n  useHooks: null,\n});\n","'use client';\n\nimport { BlockMenuPlugin } from '@udecode/plate-selection/react';\n\nimport { BlockContextMenu } from '@/components/ui/block-context-menu';\n\nimport { blockSelectionPlugins } from './block-selection-plugins';\n\nexport const blockMenuPlugins = [\n  ...blockSelectionPlugins,\n  BlockMenuPlugin.configure({\n    render: { aboveEditable: BlockContextMenu },\n  }),\n] as const;\n","'use client';\n\nimport { HorizontalRulePlugin } from '@udecode/plate-horizontal-rule/react';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  MediaEmbedPlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport { DeletePlugin, SelectOnBackspacePlugin } from '@udecode/plate-select';\n\nexport const deletePlugins = [\n  SelectOnBackspacePlugin.configure({\n    options: {\n      query: {\n        allow: [\n          ImagePlugin.key,\n          VideoPlugin.key,\n          AudioPlugin.key,\n          FilePlugin.key,\n          MediaEmbedPlugin.key,\n          HorizontalRulePlugin.key,\n        ],\n      },\n    },\n  }),\n  DeletePlugin,\n] as const;\n","'use client';\n\nimport * as React from 'react';\n\nimport { isType } from '@udecode/plate';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { useDraggable, useDropLine } from '@udecode/plate-dnd';\nimport { ExcalidrawPlugin } from '@udecode/plate-excalidraw/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { ColumnItemPlugin, ColumnPlugin } from '@udecode/plate-layout/react';\nimport {\n  ImagePlugin,\n  MediaEmbedPlugin,\n  PlaceholderPlugin,\n} from '@udecode/plate-media/react';\nimport { BlockSelectionPlugin } from '@udecode/plate-selection/react';\nimport {\n  TableCellPlugin,\n  TablePlugin,\n  TableRowPlugin,\n} from '@udecode/plate-table/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport {\n  type PlateElementProps,\n  type RenderNodeWrapper,\n  MemoizedChildren,\n  ParagraphPlugin,\n  useEditorRef,\n  useElement,\n  usePath,\n  usePluginOption,\n} from '@udecode/plate/react';\nimport { useReadOnly, useSelected } from '@udecode/plate/react';\nimport { GripVertical } from 'lucide-react';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from '@/components/ui/tooltip';\nimport { cn } from '@/lib/utils';\nimport { STRUCTURAL_TYPES } from '@/components/editor/transforms';\n\nconst UNDRAGGABLE_KEYS = [\n  ColumnItemPlugin.key,\n  TableRowPlugin.key,\n  TableCellPlugin.key,\n];\n\nexport const DraggableAboveNodes: RenderNodeWrapper = (props) => {\n  const { editor, element, path } = props;\n  const readOnly = useReadOnly();\n\n  const enabled = React.useMemo(() => {\n    if (readOnly) return false;\n    if (path.length === 1 && !isType(editor, element, UNDRAGGABLE_KEYS)) {\n      return true;\n    }\n    if (path.length === 3 && !isType(editor, element, UNDRAGGABLE_KEYS)) {\n      const block = editor.api.some({\n        at: path,\n        match: {\n          type: editor.getType(ColumnPlugin),\n        },\n      });\n\n      if (block) {\n        return true;\n      }\n    }\n    if (path.length === 4 && !isType(editor, element, UNDRAGGABLE_KEYS)) {\n      const block = editor.api.some({\n        at: path,\n        match: {\n          type: editor.getType(TablePlugin),\n        },\n      });\n\n      if (block) {\n        return true;\n      }\n    }\n\n    return false;\n  }, [editor, element, path, readOnly]);\n\n  if (!enabled) return;\n\n  return (props) => <Draggable {...props} />;\n};\n\nexport function Draggable(props: PlateElementProps) {\n  const { children, editor, element, path } = props;\n  const blockSelectionApi = editor.getApi(BlockSelectionPlugin).blockSelection;\n  const { isDragging, previewRef, handleRef } = useDraggable({\n    element,\n    onDropHandler: (_, { dragItem }) => {\n      const id = (dragItem as { id: string }).id;\n\n      if (blockSelectionApi && id) {\n        blockSelectionApi.set(id);\n      }\n    },\n  });\n\n  const isInColumn = path.length === 3;\n  const isInTable = path.length === 4;\n\n  return (\n    <div\n      className={cn(\n        'relative',\n        isDragging && 'opacity-50',\n        STRUCTURAL_TYPES.includes(element.type) ? 'group/structural' : 'group'\n      )}\n    >\n      {!isInTable && (\n        <Gutter>\n          <div\n            className={cn(\n              'slate-blockToolbarWrapper',\n              'flex h-[1.5em]',\n              isType(editor, element, [\n                HEADING_KEYS.h1,\n                HEADING_KEYS.h2,\n                HEADING_KEYS.h3,\n                HEADING_KEYS.h4,\n                HEADING_KEYS.h5,\n              ]) && 'h-[1.3em]',\n              isInColumn && 'h-4'\n            )}\n          >\n            <div\n              className={cn(\n                'slate-blockToolbar',\n                'pointer-events-auto mr-1 flex items-center',\n                isInColumn && 'mr-1.5'\n              )}\n            >\n              <Button\n                ref={handleRef}\n                variant=\"ghost\"\n                className=\"h-6 w-4.5 p-0\"\n                data-plate-prevent-deselect\n              >\n                <DragHandle />\n              </Button>\n            </div>\n          </div>\n        </Gutter>\n      )}\n\n      <div ref={previewRef} className=\"slate-blockWrapper\">\n        <MemoizedChildren>{children}</MemoizedChildren>\n        <DropLine />\n      </div>\n    </div>\n  );\n}\n\nfunction Gutter({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  const editor = useEditorRef();\n  const element = useElement();\n  const path = usePath();\n  const isSelectionAreaVisible = usePluginOption(\n    BlockSelectionPlugin,\n    'isSelectionAreaVisible'\n  );\n  const selected = useSelected();\n\n  const isNodeType = (keys: string[] | string) => isType(editor, element, keys);\n\n  const isInColumn = path.length === 3;\n\n  return (\n    <div\n      {...props}\n      className={cn(\n        'slate-gutterLeft',\n        'absolute top-0 z-50 flex h-full -translate-x-full cursor-text hover:opacity-100 sm:opacity-0',\n        STRUCTURAL_TYPES.includes(element.type)\n          ? 'group-hover/structural:opacity-100'\n          : 'group-hover:opacity-100',\n        isSelectionAreaVisible && 'hidden',\n        !selected && 'opacity-0',\n        isNodeType(HEADING_KEYS.h1) && 'pb-1 text-[1.875em]',\n        isNodeType(HEADING_KEYS.h2) && 'pb-1 text-[1.5em]',\n        isNodeType(HEADING_KEYS.h3) && 'pt-[2px] pb-1 text-[1.25em]',\n        isNodeType([HEADING_KEYS.h4, HEADING_KEYS.h5]) &&\n          'pt-1 pb-0 text-[1.1em]',\n        isNodeType(HEADING_KEYS.h6) && 'pb-0',\n        isNodeType(ParagraphPlugin.key) && 'pt-1 pb-0',\n        isNodeType(['ul', 'ol']) && 'pb-0',\n        isNodeType(BlockquotePlugin.key) && 'pb-0',\n        isNodeType(CodeBlockPlugin.key) && 'pt-6 pb-0',\n        isNodeType([\n          ImagePlugin.key,\n          MediaEmbedPlugin.key,\n          ExcalidrawPlugin.key,\n          TogglePlugin.key,\n          ColumnPlugin.key,\n        ]) && 'py-0',\n        isNodeType([PlaceholderPlugin.key, TablePlugin.key]) && 'pt-3 pb-0',\n        isInColumn && 'mt-2 h-4 pt-0',\n        className\n      )}\n      contentEditable={false}\n    >\n      {children}\n    </div>\n  );\n}\n\nconst DragHandle = React.memo(function DragHandle() {\n  const editor = useEditorRef();\n  const element = useElement();\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>\n        <div\n          className=\"flex size-full items-center justify-center\"\n          onClick={() => {\n            editor\n              .getApi(BlockSelectionPlugin)\n              .blockSelection.set(element.id as string);\n          }}\n          role=\"button\"\n        >\n          <GripVertical className=\"text-muted-foreground\" />\n        </div>\n      </TooltipTrigger>\n      <TooltipContent>Drag to move</TooltipContent>\n    </Tooltip>\n  );\n});\n\nconst DropLine = React.memo(function DropLine({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  const { dropLine } = useDropLine();\n\n  if (!dropLine) return null;\n\n  return (\n    <div\n      {...props}\n      className={cn(\n        'slate-dropLine',\n        'absolute inset-x-0 h-0.5 opacity-100 transition-opacity',\n        'bg-brand/50',\n        dropLine === 'top' && '-top-px',\n        dropLine === 'bottom' && '-bottom-px',\n        className\n      )}\n    />\n  );\n});\n","'use client';\n\nimport { DndPlugin } from '@udecode/plate-dnd';\nimport { PlaceholderPlugin } from '@udecode/plate-media/react';\nimport { NodeIdPlugin } from '@udecode/plate-node-id';\n\nimport { DraggableAboveNodes } from '@/components/ui/draggable';\n\nexport const dndPlugins = [\n  NodeIdPlugin,\n  DndPlugin.configure({\n    options: {\n      enableScroller: true,\n      onDropFiles: ({ dragItem, editor, target }) => {\n        editor\n          .getTransforms(PlaceholderPlugin)\n          .insert.media(dragItem.files, { at: target, nextBlock: false });\n      },\n    },\n    render: {\n      aboveNodes: DraggableAboveNodes,\n    },\n  }),\n] as const;\n","'use client';\n\nimport {\n  EquationPlugin,\n  InlineEquationPlugin,\n} from '@udecode/plate-math/react';\n\nexport const equationPlugins = [InlineEquationPlugin, EquationPlugin];\n","'use client';\n\nimport { ExitBreakPlugin } from '@udecode/plate-break/react';\nimport { HEADING_LEVELS } from '@udecode/plate-heading';\n\nexport const exitBreakPlugin = ExitBreakPlugin.configure({\n  options: {\n    rules: [\n      {\n        hotkey: 'mod+enter',\n      },\n      {\n        before: true,\n        hotkey: 'mod+shift+enter',\n      },\n      {\n        hotkey: 'enter',\n        level: 1,\n        query: {\n          allow: HEADING_LEVELS,\n          end: true,\n          start: true,\n        },\n        relative: true,\n      },\n    ],\n  },\n});\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { CheckIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        \"peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n","'use client';\n\nimport * as React from 'react';\n\nimport type { SlateRenderElementProps } from '@udecode/plate';\n\nimport {\n  useIndentTodoListElement,\n  useIndentTodoListElementState,\n} from '@udecode/plate-indent-list/react';\nimport { useReadOnly } from '@udecode/plate/react';\n\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { cn } from '@/lib/utils';\n\nexport function TodoMarker(props: Omit<SlateRenderElementProps, 'children'>) {\n  const state = useIndentTodoListElementState({ element: props.element });\n  const { checkboxProps } = useIndentTodoListElement(state);\n  const readOnly = useReadOnly();\n\n  return (\n    <div contentEditable={false}>\n      <Checkbox\n        className={cn(\n          'absolute top-1 -left-6',\n          readOnly && 'pointer-events-none'\n        )}\n        {...checkboxProps}\n      />\n    </div>\n  );\n}\n\nexport function TodoLi(props: SlateRenderElementProps) {\n  return (\n    <li\n      className={cn(\n        'list-none',\n        (props.element.checked as boolean) &&\n          'text-muted-foreground line-through'\n      )}\n    >\n      {props.children}\n    </li>\n  );\n}\n","'use client';\n\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { HEADING_LEVELS } from '@udecode/plate-heading';\nimport { IndentListPlugin } from '@udecode/plate-indent-list/react';\nimport { IndentPlugin } from '@udecode/plate-indent/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport { ParagraphPlugin } from '@udecode/plate/react';\n\nimport { FireLiComponent, FireMarker } from '@/components/ui/indent-fire-marker';\nimport { TodoLi, TodoMarker } from '@/components/ui/indent-todo-marker';\n\nexport const indentListPlugins = [\n  IndentPlugin.extend({\n    inject: {\n      targetPlugins: [\n        ParagraphPlugin.key,\n        ...HEADING_LEVELS,\n        BlockquotePlugin.key,\n        CodeBlockPlugin.key,\n        TogglePlugin.key,\n      ],\n    },\n  }),\n  IndentListPlugin.extend({\n    inject: {\n      targetPlugins: [\n        ParagraphPlugin.key,\n        ...HEADING_LEVELS,\n        BlockquotePlugin.key,\n        CodeBlockPlugin.key,\n        TogglePlugin.key,\n      ],\n    },\n    options: {\n      listStyleTypes: {\n        fire: {\n          liComponent: FireLiComponent,\n          markerComponent: FireMarker,\n          type: 'fire',\n        },\n        todo: {\n          liComponent: TodoLi,\n          markerComponent: TodoMarker,\n          type: 'todo',\n        },\n      },\n    },\n  }),\n];\n","'use client';\n\nimport { HEADING_LEVELS } from '@udecode/plate-heading';\nimport { LineHeightPlugin } from '@udecode/plate-line-height/react';\nimport { ParagraphPlugin } from '@udecode/plate/react';\n\nexport const lineHeightPlugin = LineHeightPlugin.configure({\n  inject: {\n    nodeProps: {\n      defaultNodeValue: 1.5,\n      validNodeValues: [1, 1.2, 1.5, 2, 3],\n    },\n    targetPlugins: [ParagraphPlugin.key, ...HEADING_LEVELS],\n  },\n});\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  type UseVirtualFloatingOptions,\n  flip,\n  offset,\n} from '@udecode/plate-floating';\nimport { type TLinkElement, getLinkAttributes } from '@udecode/plate-link';\nimport {\n  type LinkFloatingToolbarState,\n  FloatingLinkUrlInput,\n  LinkPlugin,\n  useFloatingLinkEdit,\n  useFloatingLinkEditState,\n  useFloatingLinkInsert,\n  useFloatingLinkInsertState,\n} from '@udecode/plate-link/react';\nimport {\n  useEditorRef,\n  useEditorSelection,\n  useFormInputProps,\n  usePluginOption,\n} from '@udecode/plate/react';\nimport { cva } from 'class-variance-authority';\nimport { ExternalLink, Link, Text, Unlink } from 'lucide-react';\n\nimport { buttonVariants } from '@/components/ui/button';\nimport { Separator } from '@/components/ui/separator';\n\nconst popoverVariants = cva(\n  'z-50 w-auto rounded-md border bg-popover p-1 text-popover-foreground shadow-md outline-hidden'\n);\n\nconst inputVariants = cva(\n  'flex h-[28px] w-full rounded-md border-none bg-transparent px-1.5 py-1 text-base placeholder:text-muted-foreground focus-visible:ring-transparent focus-visible:outline-none md:text-sm'\n);\n\nexport function LinkFloatingToolbar({\n  state,\n}: {\n  state?: LinkFloatingToolbarState;\n}) {\n  const activeCommentId = usePluginOption({ key: 'comment' }, 'activeId');\n  const activeSuggestionId = usePluginOption({ key: 'suggestion' }, 'activeId');\n\n  const floatingOptions: UseVirtualFloatingOptions = React.useMemo(() => {\n    return {\n      middleware: [\n        offset(8),\n        flip({\n          fallbackPlacements: ['bottom-end', 'top-start', 'top-end'],\n          padding: 12,\n        }),\n      ],\n      placement:\n        activeSuggestionId || activeCommentId ? 'top-start' : 'bottom-start',\n    };\n  }, [activeCommentId, activeSuggestionId]);\n\n  const insertState = useFloatingLinkInsertState({\n    ...state,\n    floatingOptions: {\n      ...floatingOptions,\n      ...state?.floatingOptions,\n    },\n  });\n  const {\n    hidden,\n    props: insertProps,\n    ref: insertRef,\n    textInputProps,\n  } = useFloatingLinkInsert(insertState);\n\n  const editState = useFloatingLinkEditState({\n    ...state,\n    floatingOptions: {\n      ...floatingOptions,\n      ...state?.floatingOptions,\n    },\n  });\n  const {\n    editButtonProps,\n    props: editProps,\n    ref: editRef,\n    unlinkButtonProps,\n  } = useFloatingLinkEdit(editState);\n  const inputProps = useFormInputProps({\n    preventDefaultOnEnterKeydown: true,\n  });\n\n  if (hidden) return null;\n\n  const input = (\n    <div className=\"flex w-[330px] flex-col\" {...inputProps}>\n      <div className=\"flex items-center\">\n        <div className=\"flex items-center pr-1 pl-2 text-muted-foreground\">\n          <Link className=\"size-4\" />\n        </div>\n\n        <FloatingLinkUrlInput\n          className={inputVariants()}\n          placeholder=\"Paste link\"\n          data-plate-focus\n        />\n      </div>\n      <Separator className=\"my-1\" />\n      <div className=\"flex items-center\">\n        <div className=\"flex items-center pr-1 pl-2 text-muted-foreground\">\n          <Text className=\"size-4\" />\n        </div>\n        <input\n          className={inputVariants()}\n          placeholder=\"Text to display\"\n          data-plate-focus\n          {...textInputProps}\n        />\n      </div>\n    </div>\n  );\n\n  const editContent = editState.isEditing ? (\n    input\n  ) : (\n    <div className=\"box-content flex items-center\">\n      <button\n        className={buttonVariants({ size: 'sm', variant: 'ghost' })}\n        type=\"button\"\n        {...editButtonProps}\n      >\n        Edit link\n      </button>\n\n      <Separator orientation=\"vertical\" />\n\n      <LinkOpenButton />\n\n      <Separator orientation=\"vertical\" />\n\n      <button\n        className={buttonVariants({\n          size: 'icon',\n          variant: 'ghost',\n        })}\n        type=\"button\"\n        {...unlinkButtonProps}\n      >\n        <Unlink width={18} />\n      </button>\n    </div>\n  );\n\n  return (\n    <>\n      <div ref={insertRef} className={popoverVariants()} {...insertProps}>\n        {input}\n      </div>\n\n      <div ref={editRef} className={popoverVariants()} {...editProps}>\n        {editContent}\n      </div>\n    </>\n  );\n}\n\nfunction LinkOpenButton() {\n  const editor = useEditorRef();\n  const selection = useEditorSelection();\n\n  const attributes = React.useMemo(\n    () => {\n      const entry = editor.api.node<TLinkElement>({\n        match: { type: editor.getType(LinkPlugin) },\n      });\n      if (!entry) {\n        return {};\n      }\n      const [element] = entry;\n      return getLinkAttributes(editor, element);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [editor, selection]\n  );\n\n  return (\n    <a\n      {...attributes}\n      className={buttonVariants({\n        size: 'icon',\n        variant: 'ghost',\n      })}\n      onMouseOver={(e) => {\n        e.stopPropagation();\n      }}\n      aria-label=\"Open link in a new tab\"\n      target=\"_blank\"\n    >\n      <ExternalLink width={18} />\n    </a>\n  );\n}\n","'use client';\n\nimport { LinkPlugin } from '@udecode/plate-link/react';\n\nimport { LinkFloatingToolbar } from '@/components/ui/link-floating-toolbar';\n\nexport const linkPlugin = LinkPlugin.extend({\n  render: { afterEditable: () => <LinkFloatingToolbar /> },\n});\n","'use client';\n\nimport {\n  PreviewImage,\n  useImagePreview,\n  useImagePreviewValue,\n  useScaleInput,\n} from '@udecode/plate-media/react';\nimport { useEditorRef } from '@udecode/plate/react';\nimport { cva } from 'class-variance-authority';\nimport { ArrowLeft, ArrowRight, Download, Minus, Plus, X } from 'lucide-react';\n\nimport { cn } from '@/lib/utils';\n\nconst toolButtonVariants = cva('rounded bg-[rgba(0,0,0,0.5)] px-1', {\n  defaultVariants: {\n    variant: 'default',\n  },\n  variants: {\n    variant: {\n      default: 'text-white',\n      disabled: 'cursor-not-allowed text-gray-400',\n    },\n  },\n});\n\nconst SCROLL_SPEED = 4;\n\nexport const ImagePreview = () => {\n  const editor = useEditorRef();\n  const isOpen = useImagePreviewValue('isOpen', editor.id);\n  const scale = useImagePreviewValue('scale');\n  const isEditingScale = useImagePreviewValue('isEditingScale');\n  const {\n    closeProps,\n    currentUrlIndex,\n    maskLayerProps,\n    nextDisabled,\n    nextProps,\n    prevDisabled,\n    prevProps,\n    scaleTextProps,\n    zommOutProps,\n    zoomInDisabled,\n    zoomInProps,\n    zoomOutDisabled,\n  } = useImagePreview({ scrollSpeed: SCROLL_SPEED });\n\n  return (\n    <div\n      className={cn(\n        'fixed top-0 left-0 z-50 h-screen w-screen select-none',\n        !isOpen && 'hidden'\n      )}\n      onContextMenu={(e) => e.stopPropagation()}\n      {...maskLayerProps}\n    >\n      <div className=\"absolute inset-0 size-full bg-black opacity-30\"></div>\n      <div className=\"absolute inset-0 size-full bg-black opacity-30\"></div>\n      <div className=\"absolute inset-0 flex items-center justify-center\">\n        <div className=\"relative flex max-h-screen w-full items-center\">\n          <PreviewImage\n            className={cn(\n              'mx-auto block max-h-[calc(100vh-4rem)] w-auto object-contain transition-transform'\n            )}\n          />\n          <div\n            className=\"absolute bottom-0 left-1/2 z-40 flex w-fit -translate-x-1/2 justify-center gap-4 p-2 text-center text-white\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"flex gap-1\">\n              <button\n                {...prevProps}\n                className={cn(\n                  toolButtonVariants({\n                    variant: prevDisabled ? 'disabled' : 'default',\n                  })\n                )}\n                type=\"button\"\n              >\n                <ArrowLeft />\n              </button>\n              {(currentUrlIndex ?? 0) + 1}\n              <button\n                {...nextProps}\n                className={cn(\n                  toolButtonVariants({\n                    variant: nextDisabled ? 'disabled' : 'default',\n                  })\n                )}\n                type=\"button\"\n              >\n                <ArrowRight />\n              </button>\n            </div>\n            <div className=\"flex\">\n              <button\n                className={cn(\n                  toolButtonVariants({\n                    variant: zoomOutDisabled ? 'disabled' : 'default',\n                  })\n                )}\n                {...zommOutProps}\n                type=\"button\"\n              >\n                <Minus className=\"size-4\" />\n              </button>\n              <div className=\"mx-px\">\n                {isEditingScale ? (\n                  <>\n                    <ScaleInput className=\"w-10 rounded px-1 text-slate-500 outline\" />{' '}\n                    <span>%</span>\n                  </>\n                ) : (\n                  <span {...scaleTextProps}>{scale * 100 + '%'}</span>\n                )}\n              </div>\n              <button\n                className={cn(\n                  toolButtonVariants({\n                    variant: zoomInDisabled ? 'disabled' : 'default',\n                  })\n                )}\n                {...zoomInProps}\n                type=\"button\"\n              >\n                <Plus className=\"size-4\" />\n              </button>\n            </div>\n            {/* TODO: downLoad the image */}\n            <button className={cn(toolButtonVariants())} type=\"button\">\n              <Download className=\"size-4\" />\n            </button>\n            <button\n              {...closeProps}\n              className={cn(toolButtonVariants())}\n              type=\"button\"\n            >\n              <X className=\"size-4\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport function ScaleInput(props: React.ComponentProps<'input'>) {\n  const { props: scaleInputProps, ref } = useScaleInput();\n\n  return <input {...scaleInputProps} {...props} ref={ref} />;\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { PlaceholderPlugin, UploadErrorCode } from '@udecode/plate-media/react';\nimport { usePluginOption } from '@udecode/plate/react';\nimport { toast } from 'sonner';\n\nexport const useUploadErrorToast = () => {\n  const uploadError = usePluginOption(PlaceholderPlugin, 'error');\n\n  React.useEffect(() => {\n    if (!uploadError) return;\n\n    const { code, data } = uploadError;\n\n    switch (code) {\n      case UploadErrorCode.INVALID_FILE_SIZE: {\n        toast.error(\n          `The size of files ${data.files\n            .map((f) => f.name)\n            .join(', ')} is invalid`\n        );\n\n        break;\n      }\n      case UploadErrorCode.INVALID_FILE_TYPE: {\n        toast.error(\n          `The type of files ${data.files\n            .map((f) => f.name)\n            .join(', ')} is invalid`\n        );\n\n        break;\n      }\n      case UploadErrorCode.TOO_LARGE: {\n        toast.error(\n          `The size of files ${data.files\n            .map((f) => f.name)\n            .join(', ')} is too large than ${data.maxFileSize}`\n        );\n\n        break;\n      }\n      case UploadErrorCode.TOO_LESS_FILES: {\n        toast.error(\n          `The mini um number of files is ${data.minFileCount} for ${data.fileType}`\n        );\n\n        break;\n      }\n      case UploadErrorCode.TOO_MANY_FILES: {\n        toast.error(\n          `The maximum number of files is ${data.maxFileCount} ${\n            data.fileType ? `for ${data.fileType}` : ''\n          }`\n        );\n\n        break;\n      }\n    }\n  }, [uploadError]);\n};\n\nexport const MediaUploadToast = () => {\n  useUploadErrorToast();\n\n  return null;\n};\n","'use client';\n\nimport { CaptionPlugin } from '@udecode/plate-caption/react';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  MediaEmbedPlugin,\n  PlaceholderPlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\n\nimport { ImagePreview } from '@/components/ui/image-preview';\nimport { MediaUploadToast } from '@/components/ui/media-upload-toast';\n\nexport const mediaPlugins = [\n  ImagePlugin.extend({\n    options: { disableUploadInsert: true },\n    render: { afterEditable: ImagePreview },\n  }),\n  MediaEmbedPlugin,\n  VideoPlugin,\n  AudioPlugin,\n  FilePlugin,\n  CaptionPlugin.configure({\n    options: {\n      plugins: [\n        ImagePlugin,\n        VideoPlugin,\n        AudioPlugin,\n        FilePlugin,\n        MediaEmbedPlugin,\n      ],\n    },\n  }),\n  PlaceholderPlugin.configure({\n    options: { disableEmptyPlaceholder: true },\n    render: { afterEditable: MediaUploadToast },\n  }),\n] as const;\n","'use client';\n\nimport { MentionPlugin } from '@udecode/plate-mention/react';\n\nexport const mentionPlugin = MentionPlugin.configure({\n  options: { triggerPreviousCharPattern: /^$|^[\\s\"']$/ },\n});\n","'use client';\n\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport {\n  isCodeBlockEmpty,\n  isSelectionAtCodeBlockStart,\n  unwrapCodeBlock,\n} from '@udecode/plate-code-block';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { HEADING_LEVELS } from '@udecode/plate-heading';\nimport { INDENT_LIST_KEYS, ListStyleType } from '@udecode/plate-indent-list';\nimport { ResetNodePlugin } from '@udecode/plate-reset-node/react';\nimport { ParagraphPlugin } from '@udecode/plate/react';\n\nconst resetBlockTypesCommonRule = {\n  defaultType: ParagraphPlugin.key,\n  types: [\n    ...HEADING_LEVELS,\n    BlockquotePlugin.key,\n    INDENT_LIST_KEYS.todo,\n    ListStyleType.Disc,\n    ListStyleType.Decimal,\n    CalloutPlugin.key,\n  ],\n};\n\nconst resetBlockTypesCodeBlockRule = {\n  defaultType: ParagraphPlugin.key,\n  types: [CodeBlockPlugin.key],\n  onReset: unwrapCodeBlock,\n};\n\nexport const resetBlockTypePlugin = ResetNodePlugin.configure({\n  options: {\n    rules: [\n      {\n        ...resetBlockTypesCommonRule,\n        hotkey: 'Enter',\n        predicate: (editor) =>\n          editor.api.isEmpty(editor.selection, { block: true }),\n      },\n      {\n        ...resetBlockTypesCommonRule,\n        hotkey: 'Backspace',\n        predicate: (editor) => editor.api.isAt({ start: true }),\n      },\n      {\n        ...resetBlockTypesCodeBlockRule,\n        hotkey: 'Enter',\n        predicate: isCodeBlockEmpty,\n      },\n      {\n        ...resetBlockTypesCodeBlockRule,\n        hotkey: 'Backspace',\n        predicate: isSelectionAtCodeBlockStart,\n      },\n    ],\n  },\n});\n","'use client';\n\nimport { CodePlugin, SkipMarkPlugin } from '@udecode/plate-basic-marks/react';\nimport { CommentsPlugin } from '@udecode/plate-comments/react';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\n\nexport const skipMarkPlugin = SkipMarkPlugin.configure({\n  options: {\n    query: {\n      allow: [SuggestionPlugin.key, CodePlugin.key, CommentsPlugin.key],\n    },\n  },\n});\n","'use client';\n\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { SoftBreakPlugin } from '@udecode/plate-break/react';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport {\n  TableCellHeaderPlugin,\n  TableCellPlugin,\n} from '@udecode/plate-table/react';\n\nexport const softBreakPlugin = SoftBreakPlugin.configure({\n  options: {\n    rules: [\n      { hotkey: 'shift+enter' },\n      {\n        hotkey: 'enter',\n        query: {\n          allow: [\n            CodeBlockPlugin.key,\n            BlockquotePlugin.key,\n            TableCellPlugin.key,\n            TableCellHeaderPlugin.key,\n            CalloutPlugin.key,\n          ],\n        },\n      },\n    ],\n  },\n});\n","'use client';\n\nimport { TablePlugin } from '@udecode/plate-table/react';\n\nexport const tablePlugin = TablePlugin.configure({\n  options: {},\n});\n","'use client';\n\nimport { TocPlugin } from '@udecode/plate-heading/react';\n\nexport const tocPlugin = TocPlugin.configure({\n  options: {\n    // isScroll: true,\n    topOffset: 80,\n  },\n});\n","'use client';\n\nimport emojiMartData from '@emoji-mart/data';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { DatePlugin } from '@udecode/plate-date/react';\nimport { DocxPlugin } from '@udecode/plate-docx';\nimport { EmojiPlugin } from '@udecode/plate-emoji/react';\nimport {\n  FontBackgroundColorPlugin,\n  FontColorPlugin,\n  FontSizePlugin,\n} from '@udecode/plate-font/react';\nimport { HighlightPlugin } from '@udecode/plate-highlight/react';\nimport { HorizontalRulePlugin } from '@udecode/plate-horizontal-rule/react';\nimport { JuicePlugin } from '@udecode/plate-juice';\nimport { KbdPlugin } from '@udecode/plate-kbd/react';\nimport { ColumnPlugin } from '@udecode/plate-layout/react';\nimport { SlashPlugin } from '@udecode/plate-slash-command/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport { TrailingBlockPlugin } from '@udecode/plate-trailing-block';\n\nimport { FixedToolbarPlugin } from '@/components/editor/plugins/fixed-toolbar-plugin';\nimport { FloatingToolbarPlugin } from '@/components/editor/plugins/floating-toolbar-plugin';\nimport { SuggestionBelowNodes } from '@/components/ui/suggestion-line-break';\n\nimport { aiPlugins } from './ai-plugins';\nimport { alignPlugin } from './align-plugin';\nimport { autoformatPlugin } from './autoformat-plugin';\nimport { basicNodesPlugins } from './basic-nodes-plugins';\nimport { blockMenuPlugins } from './block-menu-plugins';\nimport { commentsPlugin } from './comments-plugin';\nimport { cursorOverlayPlugin } from './cursor-overlay-plugin';\nimport { deletePlugins } from './delete-plugins';\nimport { discussionPlugin } from './discussion-plugin';\nimport { dndPlugins } from './dnd-plugins';\nimport { equationPlugins } from './equation-plugins';\nimport { exitBreakPlugin } from './exit-break-plugin';\nimport { indentListPlugins } from './indent-list-plugins';\nimport { lineHeightPlugin } from './line-height-plugin';\nimport { linkPlugin } from './link-plugin';\nimport { markdownPlugin } from './markdown-plugin';\nimport { mediaPlugins } from './media-plugins';\nimport { mentionPlugin } from './mention-plugin';\nimport { resetBlockTypePlugin } from './reset-block-type-plugin';\nimport { skipMarkPlugin } from './skip-mark-plugin';\nimport { softBreakPlugin } from './soft-break-plugin';\nimport { suggestionPlugin } from './suggestion-plugin';\nimport { tablePlugin } from './table-plugin';\nimport { tocPlugin } from './toc-plugin';\n\nexport const viewPlugins = [\n  ...basicNodesPlugins,\n  HorizontalRulePlugin,\n  linkPlugin,\n  DatePlugin,\n  mentionPlugin,\n  tablePlugin,\n  TogglePlugin,\n  tocPlugin,\n  ...mediaPlugins,\n  ...equationPlugins,\n  CalloutPlugin,\n  ColumnPlugin,\n\n  // Marks\n  FontColorPlugin,\n  FontBackgroundColorPlugin,\n  FontSizePlugin,\n  HighlightPlugin,\n  KbdPlugin,\n  skipMarkPlugin,\n\n  // Block Style\n  alignPlugin,\n  ...indentListPlugins,\n  lineHeightPlugin,\n\n  // Collaboration\n  discussionPlugin,\n  commentsPlugin,\n  suggestionPlugin.configure({\n    render: { belowNodes: SuggestionBelowNodes as any },\n  }),\n] as const;\n\nexport const editorPlugins = [\n  // AI\n  ...aiPlugins,\n\n  // Nodes\n  ...viewPlugins,\n\n  // Functionality\n  SlashPlugin.extend({\n    options: {\n      triggerQuery(editor) {\n        return !editor.api.some({\n          match: { type: editor.getType(CodeBlockPlugin) },\n        });\n      },\n    },\n  }),\n  autoformatPlugin,\n  cursorOverlayPlugin,\n  ...blockMenuPlugins,\n  ...dndPlugins,\n  EmojiPlugin.configure({ options: { data: emojiMartData as any } }),\n  exitBreakPlugin,\n  resetBlockTypePlugin,\n  ...deletePlugins,\n  softBreakPlugin,\n  TrailingBlockPlugin,\n\n  // Deserialization\n  DocxPlugin,\n  markdownPlugin,\n  JuicePlugin,\n\n  // UI\n  FixedToolbarPlugin,\n  FloatingToolbarPlugin,\n];\n","'use client';\n\nimport { type PlateElementProps, PlateElement } from '@udecode/plate/react';\n\nexport function BlockquoteElement(props: PlateElementProps) {\n  return (\n    <PlateElement\n      as=\"blockquote\"\n      className=\"my-1 border-l-2 pl-6 italic\"\n      {...props}\n    />\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { cn } from '@udecode/cn';\nimport { useCalloutEmojiPicker } from '@udecode/plate-callout/react';\nimport { useEmojiDropdownMenuState } from '@udecode/plate-emoji/react';\nimport { PlateElement } from '@udecode/plate/react';\n\nimport { Button } from '@/components/ui/button';\n\nimport { emojiCategoryIcons, emojiSearchIcons } from './emoji-icons';\nimport { EmojiPicker } from './emoji-picker';\nimport { EmojiToolbarDropdown } from './emoji-toolbar-dropdown';\n\nexport function CalloutElement({\n  attributes,\n  children,\n  className,\n  ...props\n}: React.ComponentProps<typeof PlateElement>) {\n  const { emojiPickerState, isOpen, setIsOpen } = useEmojiDropdownMenuState({\n    closeOnSelect: true,\n  });\n\n  const { emojiToolbarDropdownProps, props: calloutProps } =\n    useCalloutEmojiPicker({\n      isOpen,\n      setIsOpen,\n    });\n\n  return (\n    <PlateElement\n      className={cn('my-1 flex rounded-sm bg-muted p-4 pl-3', className)}\n      style={{\n        backgroundColor: props.element.backgroundColor as any,\n      }}\n      attributes={{\n        ...attributes,\n        'data-plate-open-context-menu': true,\n      }}\n      {...props}\n    >\n      <div className=\"flex w-full gap-2 rounded-md\">\n        <EmojiToolbarDropdown\n          {...emojiToolbarDropdownProps}\n          control={\n            <Button\n              variant=\"ghost\"\n              className=\"size-6 p-1 text-[18px] select-none hover:bg-muted-foreground/15\"\n              style={{\n                fontFamily:\n                  '\"Apple Color Emoji\", \"Segoe UI Emoji\", NotoColorEmoji, \"Noto Color Emoji\", \"Segoe UI Symbol\", \"Android Emoji\", EmojiSymbols',\n              }}\n              contentEditable={false}\n            >\n              {(props.element.icon as any) || ''}\n            </Button>\n          }\n        >\n          <EmojiPicker\n            {...emojiPickerState}\n            {...calloutProps}\n            icons={{\n              categories: emojiCategoryIcons,\n              search: emojiSearchIcons,\n            }}\n          />\n        </EmojiToolbarDropdown>\n        <div className=\"w-full\">{children}</div>\n      </div>\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TCodeBlockElement } from '@udecode/plate-code-block';\n\nimport { useEditorRef, useElement, useReadOnly } from '@udecode/plate/react';\nimport { Check } from 'lucide-react';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from '@/components/ui/command';\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover';\nimport { cn } from '@/lib/utils';\n\nconst languages: { label: string; value: string }[] = [\n  { label: 'Auto', value: 'auto' },\n  { label: 'Plain Text', value: 'plaintext' },\n  { label: 'ABAP', value: 'abap' },\n  { label: 'Agda', value: 'agda' },\n  { label: 'Arduino', value: 'arduino' },\n  { label: 'ASCII Art', value: 'ascii' },\n  { label: 'Assembly', value: 'x86asm' },\n  { label: 'Bash', value: 'bash' },\n  { label: 'BASIC', value: 'basic' },\n  { label: 'BNF', value: 'bnf' },\n  { label: 'C', value: 'c' },\n  { label: 'C#', value: 'csharp' },\n  { label: 'C++', value: 'cpp' },\n  { label: 'Clojure', value: 'clojure' },\n  { label: 'CoffeeScript', value: 'coffeescript' },\n  { label: 'Coq', value: 'coq' },\n  { label: 'CSS', value: 'css' },\n  { label: 'Dart', value: 'dart' },\n  { label: 'Dhall', value: 'dhall' },\n  { label: 'Diff', value: 'diff' },\n  { label: 'Docker', value: 'dockerfile' },\n  { label: 'EBNF', value: 'ebnf' },\n  { label: 'Elixir', value: 'elixir' },\n  { label: 'Elm', value: 'elm' },\n  { label: 'Erlang', value: 'erlang' },\n  { label: 'F#', value: 'fsharp' },\n  { label: 'Flow', value: 'flow' },\n  { label: 'Fortran', value: 'fortran' },\n  { label: 'Gherkin', value: 'gherkin' },\n  { label: 'GLSL', value: 'glsl' },\n  { label: 'Go', value: 'go' },\n  { label: 'GraphQL', value: 'graphql' },\n  { label: 'Groovy', value: 'groovy' },\n  { label: 'Haskell', value: 'haskell' },\n  { label: 'HCL', value: 'hcl' },\n  { label: 'HTML', value: 'html' },\n  { label: 'Idris', value: 'idris' },\n  { label: 'Java', value: 'java' },\n  { label: 'JavaScript', value: 'javascript' },\n  { label: 'JSON', value: 'json' },\n  { label: 'Julia', value: 'julia' },\n  { label: 'Kotlin', value: 'kotlin' },\n  { label: 'LaTeX', value: 'latex' },\n  { label: 'Less', value: 'less' },\n  { label: 'Lisp', value: 'lisp' },\n  { label: 'LiveScript', value: 'livescript' },\n  { label: 'LLVM IR', value: 'llvm' },\n  { label: 'Lua', value: 'lua' },\n  { label: 'Makefile', value: 'makefile' },\n  { label: 'Markdown', value: 'markdown' },\n  { label: 'Markup', value: 'markup' },\n  { label: 'MATLAB', value: 'matlab' },\n  { label: 'Mathematica', value: 'mathematica' },\n  { label: 'Mermaid', value: 'mermaid' },\n  { label: 'Nix', value: 'nix' },\n  { label: 'Notion Formula', value: 'notion' },\n  { label: 'Objective-C', value: 'objectivec' },\n  { label: 'OCaml', value: 'ocaml' },\n  { label: 'Pascal', value: 'pascal' },\n  { label: 'Perl', value: 'perl' },\n  { label: 'PHP', value: 'php' },\n  { label: 'PowerShell', value: 'powershell' },\n  { label: 'Prolog', value: 'prolog' },\n  { label: 'Protocol Buffers', value: 'protobuf' },\n  { label: 'PureScript', value: 'purescript' },\n  { label: 'Python', value: 'python' },\n  { label: 'R', value: 'r' },\n  { label: 'Racket', value: 'racket' },\n  { label: 'Reason', value: 'reasonml' },\n  { label: 'Ruby', value: 'ruby' },\n  { label: 'Rust', value: 'rust' },\n  { label: 'Sass', value: 'scss' },\n  { label: 'Scala', value: 'scala' },\n  { label: 'Scheme', value: 'scheme' },\n  { label: 'SCSS', value: 'scss' },\n  { label: 'Shell', value: 'shell' },\n  { label: 'Smalltalk', value: 'smalltalk' },\n  { label: 'Solidity', value: 'solidity' },\n  { label: 'SQL', value: 'sql' },\n  { label: 'Swift', value: 'swift' },\n  { label: 'TOML', value: 'toml' },\n  { label: 'TypeScript', value: 'typescript' },\n  { label: 'VB.Net', value: 'vbnet' },\n  { label: 'Verilog', value: 'verilog' },\n  { label: 'VHDL', value: 'vhdl' },\n  { label: 'Visual Basic', value: 'vbnet' },\n  { label: 'WebAssembly', value: 'wasm' },\n  { label: 'XML', value: 'xml' },\n  { label: 'YAML', value: 'yaml' },\n];\n\nexport function CodeBlockCombobox() {\n  const [open, setOpen] = React.useState(false);\n  const readOnly = useReadOnly();\n  const editor = useEditorRef();\n  const element = useElement<TCodeBlockElement>();\n  const value = element.lang || 'plaintext';\n  const [searchValue, setSearchValue] = React.useState('');\n\n  const items = React.useMemo(\n    () =>\n      languages.filter(\n        (language) =>\n          !searchValue ||\n          language.label.toLowerCase().includes(searchValue.toLowerCase())\n      ),\n    [searchValue]\n  );\n\n  if (readOnly) return null;\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          size=\"sm\"\n          variant=\"ghost\"\n          className=\"h-6 justify-between gap-1 px-2 text-xs text-muted-foreground select-none\"\n          aria-expanded={open}\n          role=\"combobox\"\n        >\n          {languages.find((language) => language.value === value)?.label ??\n            'Plain Text'}\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent\n        className=\"w-[200px] p-0\"\n        onCloseAutoFocus={() => setSearchValue('')}\n      >\n        <Command shouldFilter={false}>\n          <CommandInput\n            className=\"h-9\"\n            value={searchValue}\n            onValueChange={(value) => setSearchValue(value)}\n            placeholder=\"Search language...\"\n          />\n          <CommandEmpty>No language found.</CommandEmpty>\n\n          <CommandList className=\"h-[344px] overflow-y-auto\">\n            <CommandGroup>\n              {items.map((language) => (\n                <CommandItem\n                  key={language.label}\n                  className=\"cursor-pointer\"\n                  value={language.value}\n                  onSelect={(value) => {\n                    editor.tf.setNodes<TCodeBlockElement>(\n                      { lang: value },\n                      { at: element }\n                    );\n                    setSearchValue(value);\n                    setOpen(false);\n                  }}\n                >\n                  <Check\n                    className={cn(\n                      value === language.value ? 'opacity-100' : 'opacity-0'\n                    )}\n                  />\n                  {language.label}\n                </CommandItem>\n              ))}\n            </CommandGroup>\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { NodeApi } from '@udecode/plate';\nimport {\n  type TCodeBlockElement,\n  formatCodeBlock,\n  isLangSupported,\n} from '@udecode/plate-code-block';\nimport { type PlateElementProps, PlateElement } from '@udecode/plate/react';\nimport { BracesIcon, CheckIcon, CopyIcon } from 'lucide-react';\n\nimport { Button } from '@/components/ui/button';\n\nimport { CodeBlockCombobox } from './code-block-combobox';\n\nexport function CodeBlockElement(props: PlateElementProps<TCodeBlockElement>) {\n  const { editor, element } = props;\n\n  return (\n    <PlateElement\n      className=\"py-1 **:[.hljs-addition]:bg-[#f0fff4] **:[.hljs-addition]:text-[#22863a] **:[.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable]:text-[#005cc5] **:[.hljs-built_in,.hljs-symbol]:text-[#e36209] **:[.hljs-bullet]:text-[#735c0f] **:[.hljs-comment,.hljs-code,.hljs-formula]:text-[#6a737d] **:[.hljs-deletion]:bg-[#ffeef0] **:[.hljs-deletion]:text-[#b31d28] **:[.hljs-emphasis]:italic **:[.hljs-keyword,.hljs-doctag,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_]:text-[#d73a49] **:[.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo]:text-[#22863a] **:[.hljs-regexp,.hljs-string,.hljs-meta_.hljs-string]:text-[#032f62] **:[.hljs-section]:font-bold **:[.hljs-section]:text-[#005cc5] **:[.hljs-strong]:font-bold **:[.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_]:text-[#6f42c1]\"\n      {...props}\n    >\n      <div className=\"relative rounded-md bg-muted/50\">\n        <pre className=\"overflow-x-auto p-8 pr-4 font-mono text-sm leading-[normal] [tab-size:2] print:break-inside-avoid\">\n          <code>{props.children}</code>\n        </pre>\n\n        <div\n          className=\"absolute top-1 right-1 z-10 flex gap-0.5 select-none\"\n          contentEditable={false}\n        >\n          {isLangSupported(element.lang) && (\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              className=\"size-6 text-xs\"\n              onClick={() => formatCodeBlock(editor, { element })}\n              title=\"Format code\"\n            >\n              <BracesIcon className=\"!size-3.5 text-muted-foreground\" />\n            </Button>\n          )}\n\n          <CodeBlockCombobox />\n\n          <CopyButton\n            size=\"icon\"\n            variant=\"ghost\"\n            className=\"size-6 gap-1 text-xs text-muted-foreground\"\n            value={() => NodeApi.string(element)}\n          />\n        </div>\n      </div>\n    </PlateElement>\n  );\n}\n\nfunction CopyButton({\n  value,\n  ...props\n}: { value: (() => string) | string } & Omit<\n  React.ComponentProps<typeof Button>,\n  'value'\n>) {\n  const [hasCopied, setHasCopied] = React.useState(false);\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      setHasCopied(false);\n    }, 2000);\n  }, [hasCopied]);\n\n  return (\n    <Button\n      onClick={() => {\n        void navigator.clipboard.writeText(\n          typeof value === 'function' ? value() : value\n        );\n        setHasCopied(true);\n      }}\n      {...props}\n    >\n      <span className=\"sr-only\">Copy</span>\n      {hasCopied ? (\n        <CheckIcon className=\"!size-3\" />\n      ) : (\n        <CopyIcon className=\"!size-3\" />\n      )}\n    </Button>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateLeafProps } from '@udecode/plate/react';\n\nimport { PlateLeaf } from '@udecode/plate/react';\n\nexport function CodeLeaf(props: PlateLeafProps) {\n  return (\n    <PlateLeaf\n      {...props}\n      as=\"code\"\n      className=\"rounded-md bg-muted px-[0.3em] py-[0.2em] font-mono text-sm whitespace-pre-wrap\"\n    >\n      {props.children}\n    </PlateLeaf>\n  );\n}\n","'use client';\n\nimport { type PlateElementProps, PlateElement } from '@udecode/plate/react';\n\nexport function CodeLineElement(props: PlateElementProps) {\n  return <PlateElement {...props} />;\n}\n","'use client';\n\nimport { type PlateLeafProps, PlateLeaf } from '@udecode/plate/react';\n\nexport function CodeSyntaxLeaf(props: PlateLeafProps) {\n  const tokenClassName = props.leaf.className as string;\n\n  return <PlateLeaf className={tokenClassName} {...props} />;\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TColumnElement } from '@udecode/plate-layout';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { useComposedRef } from '@udecode/cn';\nimport { PathApi } from '@udecode/plate';\nimport { useDraggable, useDropLine } from '@udecode/plate-dnd';\nimport { ResizableProvider } from '@udecode/plate-resizable';\nimport { BlockSelectionPlugin } from '@udecode/plate-selection/react';\nimport {\n  PlateElement,\n  usePluginOption,\n  useReadOnly,\n  withHOC,\n} from '@udecode/plate/react';\nimport { GripHorizontal } from 'lucide-react';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip';\nimport { cn } from '@/lib/utils';\n\nexport const ColumnElement = withHOC(\n  ResizableProvider,\n  function ColumnElement(props: PlateElementProps<TColumnElement>) {\n    const { width } = props.element;\n    const readOnly = useReadOnly();\n    const isSelectionAreaVisible = usePluginOption(\n      BlockSelectionPlugin,\n      'isSelectionAreaVisible'\n    );\n\n    const { isDragging, previewRef, handleRef } = useDraggable({\n      element: props.element,\n      orientation: 'horizontal',\n      type: 'column',\n      canDropNode: ({ dragEntry, dropEntry }) =>\n        PathApi.equals(\n          PathApi.parent(dragEntry[1]),\n          PathApi.parent(dropEntry[1])\n        ),\n    });\n\n    return (\n      <div className=\"group/column relative\" style={{ width: width ?? '100%' }}>\n        {!readOnly && !isSelectionAreaVisible && (\n          <div\n            ref={handleRef}\n            className={cn(\n              'absolute top-2 left-1/2 z-50 -translate-x-1/2 -translate-y-1/2',\n              'pointer-events-auto flex items-center',\n              'opacity-0 transition-opacity group-hover/column:opacity-100'\n            )}\n          >\n            <ColumnDragHandle />\n          </div>\n        )}\n\n        <PlateElement\n          {...props}\n          ref={useComposedRef(props.ref, previewRef)}\n          className=\"h-full px-2 pt-2 group-first/column:pl-0 group-last/column:pr-0\"\n        >\n          <div\n            className={cn(\n              'relative h-full border border-transparent p-1.5',\n              !readOnly && 'rounded-lg border-dashed border-border',\n              isDragging && 'opacity-50'\n            )}\n          >\n            {props.children}\n\n            {!readOnly && !isSelectionAreaVisible && <DropLine />}\n          </div>\n        </PlateElement>\n      </div>\n    );\n  }\n);\n\nconst ColumnDragHandle = React.memo(function ColumnDragHandle() {\n  return (\n    <TooltipProvider>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <Button variant=\"ghost\" className=\"h-5 !px-1\">\n            <GripHorizontal\n              className=\"text-muted-foreground\"\n              onClick={(event) => {\n                event.stopPropagation();\n                event.preventDefault();\n              }}\n            />\n          </Button>\n        </TooltipTrigger>\n\n        <TooltipContent>Drag to move column</TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  );\n});\n\nfunction DropLine() {\n  const { dropLine } = useDropLine({ orientation: 'horizontal' });\n\n  if (!dropLine) return null;\n\n  return (\n    <div\n      className={cn(\n        'slate-dropLine',\n        'absolute bg-brand/50',\n        dropLine === 'left' &&\n          'inset-y-0 left-[-10.5px] w-1 group-first/column:-left-1',\n        dropLine === 'right' &&\n          'inset-y-0 right-[-11px] w-1 group-last/column:-right-1'\n      )}\n    />\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TColumnElement } from '@udecode/plate-layout';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { setColumns } from '@udecode/plate-layout';\nimport { useDebouncePopoverOpen } from '@udecode/plate-layout/react';\nimport {\n  PlateElement,\n  useEditorRef,\n  useElement,\n  useReadOnly,\n  useRemoveNodeButton,\n} from '@udecode/plate/react';\nimport { type LucideProps, Trash2Icon } from 'lucide-react';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Popover,\n  PopoverAnchor,\n  PopoverContent,\n} from '@/components/ui/popover';\nimport { Separator } from '@/components/ui/separator';\n\nexport function ColumnGroupElement(props: PlateElementProps) {\n  return (\n    <PlateElement className=\"mb-2\" {...props}>\n      <ColumnFloatingToolbar>\n        <div className=\"flex size-full rounded\">{props.children}</div>\n      </ColumnFloatingToolbar>\n    </PlateElement>\n  );\n}\n\nexport function ColumnFloatingToolbar({ children }: React.PropsWithChildren) {\n  const editor = useEditorRef();\n  const readOnly = useReadOnly();\n  const element = useElement<TColumnElement>();\n\n  const { props: buttonProps } = useRemoveNodeButton({ element });\n\n  const isOpen = useDebouncePopoverOpen();\n\n  const onColumnChange = (widths: string[]) => {\n    setColumns(editor, {\n      at: element,\n      widths,\n    });\n  };\n\n  if (readOnly) return <>{children}</>;\n\n  return (\n    <Popover open={isOpen} modal={false}>\n      <PopoverAnchor>{children}</PopoverAnchor>\n      <PopoverContent\n        className=\"w-auto p-1\"\n        onOpenAutoFocus={(e) => e.preventDefault()}\n        align=\"center\"\n        side=\"top\"\n        sideOffset={10}\n      >\n        <div className=\"box-content flex h-8 items-center\">\n          <Button\n            variant=\"ghost\"\n            className=\"size-8\"\n            onClick={() => onColumnChange(['50%', '50%'])}\n          >\n            <DoubleColumnOutlined />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            className=\"size-8\"\n            onClick={() => onColumnChange(['33%', '33%', '33%'])}\n          >\n            <ThreeColumnOutlined />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            className=\"size-8\"\n            onClick={() => onColumnChange(['70%', '30%'])}\n          >\n            <RightSideDoubleColumnOutlined />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            className=\"size-8\"\n            onClick={() => onColumnChange(['30%', '70%'])}\n          >\n            <LeftSideDoubleColumnOutlined />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            className=\"size-8\"\n            onClick={() => onColumnChange(['25%', '50%', '25%'])}\n          >\n            <DoubleSideDoubleColumnOutlined />\n          </Button>\n\n          <Separator orientation=\"vertical\" className=\"mx-1 h-6\" />\n          <Button variant=\"ghost\" className=\"size-8\" {...buttonProps}>\n            <Trash2Icon />\n          </Button>\n        </div>\n      </PopoverContent>\n    </Popover>\n  );\n}\n\nconst DoubleColumnOutlined = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    width=\"16\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M8.5 3H13V13H8.5V3ZM7.5 2H8.5H13C13.5523 2 14 2.44772 14 3V13C14 13.5523 13.5523 14 13 14H8.5H7.5H3C2.44772 14 2 13.5523 2 13V3C2 2.44772 2.44772 2 3 2H7.5ZM7.5 13H3L3 3H7.5V13Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n\nconst ThreeColumnOutlined = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    width=\"16\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M9.25 3H6.75V13H9.25V3ZM9.25 2H6.75H5.75H3C2.44772 2 2 2.44772 2 3V13C2 13.5523 2.44772 14 3 14H5.75H6.75H9.25H10.25H13C13.5523 14 14 13.5523 14 13V3C14 2.44772 13.5523 2 13 2H10.25H9.25ZM10.25 3V13H13V3H10.25ZM3 13H5.75V3H3L3 13Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n\nconst RightSideDoubleColumnOutlined = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    width=\"16\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M11.25 3H13V13H11.25V3ZM10.25 2H11.25H13C13.5523 2 14 2.44772 14 3V13C14 13.5523 13.5523 14 13 14H11.25H10.25H3C2.44772 14 2 13.5523 2 13V3C2 2.44772 2.44772 2 3 2H10.25ZM10.25 13H3L3 3H10.25V13Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n\nconst LeftSideDoubleColumnOutlined = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    width=\"16\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M5.75 3H13V13H5.75V3ZM4.75 2H5.75H13C13.5523 2 14 2.44772 14 3V13C14 13.5523 13.5523 14 13 14H5.75H4.75H3C2.44772 14 2 13.5523 2 13V3C2 2.44772 2.44772 2 3 2H4.75ZM4.75 13H3L3 3H4.75V13Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n\nconst DoubleSideDoubleColumnOutlined = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    width=\"16\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M10.25 3H5.75V13H10.25V3ZM10.25 2H5.75H4.75H3C2.44772 2 2 2.44772 2 3V13C2 13.5523 2.44772 14 3 14H4.75H5.75H10.25H11.25H13C13.5523 14 14 13.5523 14 13V3C14 2.44772 13.5523 2 13 2H11.25H10.25ZM11.25 3V13H13V3H11.25ZM3 13H4.75V3H3L3 13Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TCommentText } from '@udecode/plate-comments';\nimport type { PlateLeafProps } from '@udecode/plate/react';\n\nimport { getCommentCount } from '@udecode/plate-comments';\nimport {\n  PlateLeaf,\n  useEditorPlugin,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\nimport { commentsPlugin } from '@/components/editor/plugins/comments-plugin';\n\nexport function CommentLeaf(props: PlateLeafProps<TCommentText>) {\n  const { children, leaf } = props;\n\n  const { api, setOption } = useEditorPlugin(commentsPlugin);\n  const hoverId = usePluginOption(commentsPlugin, 'hoverId');\n  const activeId = usePluginOption(commentsPlugin, 'activeId');\n\n  const isOverlapping = getCommentCount(leaf) > 1;\n  const currentId = api.comment.nodeId(leaf);\n  const isActive = activeId === currentId;\n  const isHover = hoverId === currentId;\n\n  return (\n    <PlateLeaf\n      {...props}\n      className={cn(\n        'border-b-2 border-b-highlight/[.36] bg-highlight/[.13] transition-colors duration-200',\n        (isHover || isActive) && 'border-b-highlight bg-highlight/25',\n        isOverlapping && 'border-b-2 border-b-highlight/[.7] bg-highlight/25',\n        (isHover || isActive) &&\n          isOverlapping &&\n          'border-b-highlight bg-highlight/45'\n      )}\n      attributes={{\n        ...props.attributes,\n        onClick: () => setOption('activeId', currentId ?? null),\n        onMouseEnter: () => setOption('hoverId', currentId ?? null),\n        onMouseLeave: () => setOption('hoverId', null),\n      }}\n    >\n      {children}\n    </PlateLeaf>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TEquationElement } from '@udecode/plate-math';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { useEquationElement } from '@udecode/plate-math/react';\nimport { PlateElement, useSelected } from '@udecode/plate/react';\nimport { RadicalIcon } from 'lucide-react';\n\nimport { Popover, PopoverTrigger } from '@/components/ui/popover';\nimport { cn } from '@/lib/utils';\n\nimport { EquationPopoverContent } from './equation-popover';\n\nexport function EquationElement(props: PlateElementProps<TEquationElement>) {\n  const selected = useSelected();\n  const [open, setOpen] = React.useState(selected);\n  const katexRef = React.useRef<HTMLDivElement | null>(null);\n\n  useEquationElement({\n    element: props.element,\n    katexRef: katexRef,\n    options: {\n      displayMode: true,\n      errorColor: '#cc0000',\n      fleqn: false,\n      leqno: false,\n      macros: { '\\\\f': '#1f(#2)' },\n      output: 'htmlAndMathml',\n      strict: 'warn',\n      throwOnError: false,\n      trust: false,\n    },\n  });\n\n  return (\n    <PlateElement className=\"my-1\" {...props}>\n      <Popover open={open} onOpenChange={setOpen} modal={false}>\n        <PopoverTrigger asChild>\n          <div\n            className={cn(\n              'group flex cursor-pointer items-center justify-center rounded-sm select-none hover:bg-primary/10 data-[selected=true]:bg-primary/10',\n              props.element.texExpression.length === 0\n                ? 'bg-muted p-3 pr-9'\n                : 'px-2 py-1'\n            )}\n            data-selected={selected}\n            contentEditable={false}\n            role=\"button\"\n          >\n            {props.element.texExpression.length > 0 ? (\n              <span ref={katexRef} />\n            ) : (\n              <div className=\"flex h-7 w-full items-center gap-2 text-sm whitespace-nowrap text-muted-foreground\">\n                <RadicalIcon className=\"size-6 text-muted-foreground/80\" />\n                <div>Add a Tex equation</div>\n              </div>\n            )}\n          </div>\n        </PopoverTrigger>\n\n        <EquationPopoverContent\n          open={open}\n          placeholder={`f(x) = \\\\begin{cases}\\n  x^2, &\\\\quad x > 0 \\\\\\\\\\n  0, &\\\\quad x = 0 \\\\\\\\\\n  -x^2, &\\\\quad x < 0\\n\\\\end{cases}`}\n          isInline={false}\n          setOpen={setOpen}\n        />\n      </Popover>\n\n      {props.children}\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TExcalidrawElement } from '@udecode/plate-excalidraw';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { useExcalidrawElement } from '@udecode/plate-excalidraw/react';\nimport { PlateElement } from '@udecode/plate/react';\n\nexport function ExcalidrawElement(\n  props: PlateElementProps<TExcalidrawElement>\n) {\n  const { children, element } = props;\n\n  const { Excalidraw, excalidrawProps } = useExcalidrawElement({\n    element,\n  });\n\n  return (\n    <PlateElement {...props}>\n      <div contentEditable={false}>\n        <div className=\"mx-auto aspect-video h-[600px] w-[min(100%,600px)] overflow-hidden rounded-sm border\">\n          {Excalidraw && <Excalidraw {...(excalidrawProps as any)} />}\n        </div>\n      </div>\n      {children}\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { PlateElement } from '@udecode/plate/react';\nimport { type VariantProps, cva } from 'class-variance-authority';\n\nconst headingVariants = cva('relative mb-1', {\n  variants: {\n    variant: {\n      h1: 'mt-[1.6em] pb-1 font-heading text-4xl font-bold',\n      h2: 'mt-[1.4em] pb-px font-heading text-2xl font-semibold tracking-tight',\n      h3: 'mt-[1em] pb-px font-heading text-xl font-semibold tracking-tight',\n      h4: 'mt-[0.75em] font-heading text-lg font-semibold tracking-tight',\n      h5: 'mt-[0.75em] text-lg font-semibold tracking-tight',\n      h6: 'mt-[0.75em] text-base font-semibold tracking-tight',\n    },\n  },\n});\n\nexport function HeadingElement({\n  variant = 'h1',\n  ...props\n}: PlateElementProps & VariantProps<typeof headingVariants>) {\n  return (\n    <PlateElement\n      as={variant!}\n      className={headingVariants({ variant })}\n      {...props}\n    >\n      {props.children}\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateLeafProps } from '@udecode/plate/react';\n\nimport { PlateLeaf } from '@udecode/plate/react';\n\nexport function HighlightLeaf(props: PlateLeafProps) {\n  return (\n    <PlateLeaf {...props} as=\"mark\" className=\"bg-highlight/30 text-inherit\">\n      {props.children}\n    </PlateLeaf>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport {\n  PlateElement,\n  useFocused,\n  useReadOnly,\n  useSelected,\n} from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\n\nexport function HrElement(props: PlateElementProps) {\n  const readOnly = useReadOnly();\n  const selected = useSelected();\n  const focused = useFocused();\n\n  return (\n    <PlateElement {...props}>\n      <div className=\"py-6\" contentEditable={false}>\n        <hr\n          className={cn(\n            'h-0.5 rounded-sm border-none bg-muted bg-clip-content',\n            selected && focused && 'ring-2 ring-ring ring-offset-2',\n            !readOnly && 'cursor-pointer'\n          )}\n        />\n      </div>\n      {props.children}\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { VariantProps } from 'class-variance-authority';\n\nimport { createPrimitiveComponent } from '@udecode/cn';\nimport {\n  Caption as CaptionPrimitive,\n  CaptionTextarea as CaptionTextareaPrimitive,\n  useCaptionButton,\n  useCaptionButtonState,\n} from '@udecode/plate-caption/react';\nimport { cva } from 'class-variance-authority';\n\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\nconst captionVariants = cva('max-w-full', {\n  defaultVariants: {\n    align: 'center',\n  },\n  variants: {\n    align: {\n      center: 'mx-auto',\n      left: 'mr-auto',\n      right: 'ml-auto',\n    },\n  },\n});\n\nexport function Caption({\n  align,\n  className,\n  ...props\n}: React.ComponentProps<typeof CaptionPrimitive> &\n  VariantProps<typeof captionVariants>) {\n  return (\n    <CaptionPrimitive\n      {...props}\n      className={cn(captionVariants({ align }), className)}\n    />\n  );\n}\n\nexport function CaptionTextarea(\n  props: React.ComponentProps<typeof CaptionTextareaPrimitive>\n) {\n  return (\n    <CaptionTextareaPrimitive\n      {...props}\n      className={cn(\n        'mt-2 w-full resize-none border-none bg-inherit p-0 font-[inherit] text-inherit',\n        'focus:outline-none focus:[&::placeholder]:opacity-0',\n        'text-center print:placeholder:text-transparent',\n        props.className\n      )}\n    />\n  );\n}\n\nexport const CaptionButton = createPrimitiveComponent(Button)({\n  propsHook: useCaptionButton,\n  stateHook: useCaptionButtonState,\n});\n","'use client';\n\nimport * as React from 'react';\n\nimport type { WithRequiredKey } from '@udecode/plate';\n\nimport {\n  FloatingMedia as FloatingMediaPrimitive,\n  FloatingMediaStore,\n  useFloatingMediaValue,\n  useImagePreviewValue,\n} from '@udecode/plate-media/react';\nimport {\n  useEditorRef,\n  useEditorSelector,\n  useElement,\n  useReadOnly,\n  useRemoveNodeButton,\n  useSelected,\n} from '@udecode/plate/react';\nimport { cva } from 'class-variance-authority';\nimport { Link, Trash2Icon } from 'lucide-react';\n\nimport { Button, buttonVariants } from '@/components/ui/button';\nimport {\n  Popover,\n  PopoverAnchor,\n  PopoverContent,\n} from '@/components/ui/popover';\nimport { Separator } from '@/components/ui/separator';\n\nimport { CaptionButton } from './caption';\n\nconst inputVariants = cva(\n  'flex h-[28px] w-full rounded-md border-none bg-transparent px-1.5 py-1 text-base placeholder:text-muted-foreground focus-visible:ring-transparent focus-visible:outline-none md:text-sm'\n);\n\nexport interface MediaPopoverProps {\n  children: React.ReactNode;\n  plugin: WithRequiredKey;\n}\n\nexport function MediaPopover({ children, plugin }: MediaPopoverProps) {\n  const editor = useEditorRef();\n  const readOnly = useReadOnly();\n  const selected = useSelected();\n\n  const selectionCollapsed = useEditorSelector(\n    (editor) => !editor.api.isExpanded(),\n    []\n  );\n  const isImagePreviewOpen = useImagePreviewValue('isOpen', editor.id);\n  const isOpen =\n    !readOnly && selected && selectionCollapsed && !isImagePreviewOpen;\n  const isEditing = useFloatingMediaValue('isEditing');\n\n  React.useEffect(() => {\n    if (!isOpen && isEditing) {\n      FloatingMediaStore.set('isEditing', false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n\n  const element = useElement();\n  const { props: buttonProps } = useRemoveNodeButton({ element });\n\n  if (readOnly) return <>{children}</>;\n\n  return (\n    <Popover open={isOpen} modal={false}>\n      <PopoverAnchor>{children}</PopoverAnchor>\n\n      <PopoverContent\n        className=\"w-auto p-1\"\n        onOpenAutoFocus={(e) => e.preventDefault()}\n      >\n        {isEditing ? (\n          <div className=\"flex w-[330px] flex-col\">\n            <div className=\"flex items-center\">\n              <div className=\"flex items-center pr-1 pl-2 text-muted-foreground\">\n                <Link className=\"size-4\" />\n              </div>\n\n              <FloatingMediaPrimitive.UrlInput\n                className={inputVariants()}\n                placeholder=\"Paste the embed link...\"\n                options={{ plugin }}\n              />\n            </div>\n          </div>\n        ) : (\n          <div className=\"box-content flex items-center\">\n            <FloatingMediaPrimitive.EditButton\n              className={buttonVariants({ size: 'sm', variant: 'ghost' })}\n            >\n              Edit link\n            </FloatingMediaPrimitive.EditButton>\n\n            <CaptionButton variant=\"ghost\">Caption</CaptionButton>\n\n            <Separator orientation=\"vertical\" className=\"mx-1 h-6\" />\n\n            <Button size=\"icon\" variant=\"ghost\" {...buttonProps}>\n              <Trash2Icon />\n            </Button>\n          </div>\n        )}\n      </PopoverContent>\n    </Popover>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { VariantProps } from 'class-variance-authority';\n\nimport {\n  type ResizeHandle as ResizeHandlePrimitive,\n  Resizable as ResizablePrimitive,\n  useResizeHandle,\n  useResizeHandleState,\n} from '@udecode/plate-resizable';\nimport { cva } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\nexport const mediaResizeHandleVariants = cva(\n  cn(\n    'top-0 flex w-6 flex-col justify-center select-none',\n    \"after:flex after:h-16 after:w-[3px] after:rounded-[6px] after:bg-ring after:opacity-0 after:content-['_'] group-hover:after:opacity-100\"\n  ),\n  {\n    variants: {\n      direction: {\n        left: '-left-3 -ml-3 pl-3',\n        right: '-right-3 -mr-3 items-end pr-3',\n      },\n    },\n  }\n);\n\nconst resizeHandleVariants = cva(cn('absolute z-40'), {\n  variants: {\n    direction: {\n      bottom: 'w-full cursor-row-resize',\n      left: 'h-full cursor-col-resize',\n      right: 'h-full cursor-col-resize',\n      top: 'w-full cursor-row-resize',\n    },\n  },\n});\n\nexport function ResizeHandle({\n  className,\n  direction,\n  options,\n  ...props\n}: React.ComponentProps<typeof ResizeHandlePrimitive> &\n  VariantProps<typeof resizeHandleVariants>) {\n  const state = useResizeHandleState(options ?? {});\n  const resizeHandle = useResizeHandle(state);\n\n  if (state.readOnly) return null;\n\n  return (\n    <div\n      className={cn(resizeHandleVariants({ direction }), className)}\n      data-resizing={state.isResizing}\n      {...resizeHandle.props}\n      {...props}\n    />\n  );\n}\n\nconst resizableVariants = cva('', {\n  variants: {\n    align: {\n      center: 'mx-auto',\n      left: 'mr-auto',\n      right: 'ml-auto',\n    },\n  },\n});\n\nexport function Resizable({\n  align,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive> &\n  VariantProps<typeof resizableVariants>) {\n  return (\n    <ResizablePrimitive\n      {...props}\n      className={cn(resizableVariants({ align }), className)}\n    />\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TImageElement } from '@udecode/plate-media';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { useDraggable } from '@udecode/plate-dnd';\nimport { Image, ImagePlugin, useMediaState } from '@udecode/plate-media/react';\nimport { ResizableProvider, useResizableValue } from '@udecode/plate-resizable';\nimport { PlateElement, withHOC } from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\n\nimport { Caption, CaptionTextarea } from './caption';\nimport { MediaPopover } from './media-popover';\nimport {\n  mediaResizeHandleVariants,\n  Resizable,\n  ResizeHandle,\n} from './resize-handle';\n\nexport const ImageElement = withHOC(\n  ResizableProvider,\n  function ImageElement(props: PlateElementProps<TImageElement>) {\n    const { align = 'center', focused, readOnly, selected } = useMediaState();\n    const width = useResizableValue('width');\n\n    const { isDragging, handleRef } = useDraggable({\n      element: props.element,\n    });\n\n    return (\n      <MediaPopover plugin={ImagePlugin}>\n        <PlateElement {...props} className=\"py-2.5\">\n          <figure className=\"group relative m-0\" contentEditable={false}>\n            <Resizable\n              align={align}\n              options={{\n                align,\n                readOnly,\n              }}\n            >\n              <ResizeHandle\n                className={mediaResizeHandleVariants({ direction: 'left' })}\n                options={{ direction: 'left' }}\n              />\n              <Image\n                ref={handleRef}\n                className={cn(\n                  'block w-full max-w-full cursor-pointer object-cover px-0',\n                  'rounded-sm',\n                  focused && selected && 'ring-2 ring-ring ring-offset-2',\n                  isDragging && 'opacity-50'\n                )}\n                alt={(props.attributes as any).alt}\n              />\n              <ResizeHandle\n                className={mediaResizeHandleVariants({\n                  direction: 'right',\n                })}\n                options={{ direction: 'right' }}\n              />\n            </Resizable>\n\n            <Caption style={{ width }} align={align}>\n              <CaptionTextarea\n                readOnly={readOnly}\n                onFocus={(e) => {\n                  e.preventDefault();\n                }}\n                placeholder=\"Write a caption...\"\n              />\n            </Caption>\n          </figure>\n\n          {props.children}\n        </PlateElement>\n      </MediaPopover>\n    );\n  }\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TAudioElement } from '@udecode/plate-media';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { useMediaState } from '@udecode/plate-media/react';\nimport { ResizableProvider } from '@udecode/plate-resizable';\nimport { PlateElement, withHOC } from '@udecode/plate/react';\n\nimport { Caption, CaptionTextarea } from './caption';\n\nexport const MediaAudioElement = withHOC(\n  ResizableProvider,\n  function MediaAudioElement(props: PlateElementProps<TAudioElement>) {\n    const { align = 'center', readOnly, unsafeUrl } = useMediaState();\n\n    return (\n      <PlateElement {...props} className=\"mb-1\">\n        <figure\n          className=\"group relative cursor-default\"\n          contentEditable={false}\n        >\n          <div className=\"h-16\">\n            <audio className=\"size-full\" src={unsafeUrl} controls />\n          </div>\n\n          <Caption style={{ width: '100%' }} align={align}>\n            <CaptionTextarea\n              className=\"h-20\"\n              readOnly={readOnly}\n              placeholder=\"Write a caption...\"\n            />\n          </Caption>\n        </figure>\n        {props.children}\n      </PlateElement>\n    );\n  }\n);\n","'use client';\n\nimport * as React from 'react';\nimport LiteYouTubeEmbed from 'react-lite-youtube-embed';\nimport { Tweet } from 'react-tweet';\n\nimport type { TMediaEmbedElement } from '@udecode/plate-media';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { parseTwitterUrl, parseVideoUrl } from '@udecode/plate-media';\nimport { MediaEmbedPlugin, useMediaState } from '@udecode/plate-media/react';\nimport { ResizableProvider, useResizableValue } from '@udecode/plate-resizable';\nimport { PlateElement, withHOC } from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\n\nimport { Caption, CaptionTextarea } from './caption';\nimport { MediaPopover } from './media-popover';\nimport {\n  mediaResizeHandleVariants,\n  Resizable,\n  ResizeHandle,\n} from './resize-handle';\n\nexport const MediaEmbedElement = withHOC(\n  ResizableProvider,\n  function MediaEmbedElement(props: PlateElementProps<TMediaEmbedElement>) {\n    const {\n      align = 'center',\n      embed,\n      focused,\n      isTweet,\n      isVideo,\n      isYoutube,\n      readOnly,\n      selected,\n    } = useMediaState({\n      urlParsers: [parseTwitterUrl, parseVideoUrl],\n    });\n    const width = useResizableValue('width');\n    const provider = embed?.provider;\n\n    return (\n      <MediaPopover plugin={MediaEmbedPlugin}>\n        <PlateElement className=\"py-2.5\" {...props}>\n          <figure\n            className=\"group relative m-0 w-full cursor-default\"\n            contentEditable={false}\n          >\n            <Resizable\n              align={align}\n              options={{\n                align,\n                maxWidth: isTweet ? 550 : '100%',\n                minWidth: isTweet ? 300 : 100,\n              }}\n            >\n              <ResizeHandle\n                className={mediaResizeHandleVariants({ direction: 'left' })}\n                options={{ direction: 'left' }}\n              />\n\n              {isVideo ? (\n                isYoutube ? (\n                  <LiteYouTubeEmbed\n                    id={embed!.id!}\n                    title=\"youtube\"\n                    wrapperClass={cn(\n                      'rounded-sm',\n                      focused && selected && 'ring-2 ring-ring ring-offset-2',\n                      'relative block cursor-pointer bg-black bg-cover bg-center [contain:content]',\n                      '[&.lyt-activated]:before:absolute [&.lyt-activated]:before:top-0 [&.lyt-activated]:before:h-[60px] [&.lyt-activated]:before:w-full [&.lyt-activated]:before:bg-top [&.lyt-activated]:before:bg-repeat-x [&.lyt-activated]:before:pb-[50px] [&.lyt-activated]:before:[transition:all_0.2s_cubic-bezier(0,_0,_0.2,_1)]',\n                      '[&.lyt-activated]:before:bg-[url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)]',\n                      'after:block after:pb-[var(--aspect-ratio)] after:content-[\"\"]',\n                      '[&_>_iframe]:absolute [&_>_iframe]:top-0 [&_>_iframe]:left-0 [&_>_iframe]:size-full',\n                      '[&_>_.lty-playbtn]:z-1 [&_>_.lty-playbtn]:h-[46px] [&_>_.lty-playbtn]:w-[70px] [&_>_.lty-playbtn]:rounded-[14%] [&_>_.lty-playbtn]:bg-[#212121] [&_>_.lty-playbtn]:opacity-80 [&_>_.lty-playbtn]:[transition:all_0.2s_cubic-bezier(0,_0,_0.2,_1)]',\n                      '[&:hover_>_.lty-playbtn]:bg-[red] [&:hover_>_.lty-playbtn]:opacity-100',\n                      '[&_>_.lty-playbtn]:before:border-y-[11px] [&_>_.lty-playbtn]:before:border-r-0 [&_>_.lty-playbtn]:before:border-l-[19px] [&_>_.lty-playbtn]:before:border-[transparent_transparent_transparent_#fff] [&_>_.lty-playbtn]:before:content-[\"\"]',\n                      '[&_>_.lty-playbtn]:absolute [&_>_.lty-playbtn]:top-1/2 [&_>_.lty-playbtn]:left-1/2 [&_>_.lty-playbtn]:[transform:translate3d(-50%,-50%,0)]',\n                      '[&_>_.lty-playbtn]:before:absolute [&_>_.lty-playbtn]:before:top-1/2 [&_>_.lty-playbtn]:before:left-1/2 [&_>_.lty-playbtn]:before:[transform:translate3d(-50%,-50%,0)]',\n                      '[&.lyt-activated]:cursor-[unset]',\n                      '[&.lyt-activated]:before:pointer-events-none [&.lyt-activated]:before:opacity-0',\n                      '[&.lyt-activated_>_.lty-playbtn]:pointer-events-none [&.lyt-activated_>_.lty-playbtn]:opacity-0!'\n                    )}\n                  />\n                ) : (\n                  <div\n                    className={cn(\n                      provider === 'vimeo' && 'pb-[75%]',\n                      provider === 'youku' && 'pb-[56.25%]',\n                      provider === 'dailymotion' && 'pb-[56.0417%]',\n                      provider === 'coub' && 'pb-[51.25%]'\n                    )}\n                  >\n                    <iframe\n                      className={cn(\n                        'absolute top-0 left-0 size-full rounded-sm',\n                        isVideo && 'border-0',\n                        focused && selected && 'ring-2 ring-ring ring-offset-2'\n                      )}\n                      title=\"embed\"\n                      src={embed!.url}\n                      allowFullScreen\n                    />\n                  </div>\n                )\n              ) : null}\n\n              {isTweet && (\n                <div\n                  className={cn(\n                    '[&_.react-tweet-theme]:my-0',\n                    !readOnly &&\n                      selected &&\n                      '[&_.react-tweet-theme]:ring-2 [&_.react-tweet-theme]:ring-ring [&_.react-tweet-theme]:ring-offset-2'\n                  )}\n                >\n                  <Tweet id={embed!.id!} />\n                </div>\n              )}\n\n              <ResizeHandle\n                className={mediaResizeHandleVariants({ direction: 'right' })}\n                options={{ direction: 'right' }}\n              />\n            </Resizable>\n\n            <Caption style={{ width }} align={align}>\n              <CaptionTextarea placeholder=\"Write a caption...\" />\n            </Caption>\n          </figure>\n\n          {props.children}\n        </PlateElement>\n      </MediaPopover>\n    );\n  }\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TFileElement } from '@udecode/plate-media';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { useMediaState } from '@udecode/plate-media/react';\nimport { ResizableProvider } from '@udecode/plate-resizable';\nimport { PlateElement, useReadOnly, withHOC } from '@udecode/plate/react';\nimport { FileUp } from 'lucide-react';\n\nimport { Caption, CaptionTextarea } from './caption';\n\nexport const MediaFileElement = withHOC(\n  ResizableProvider,\n  function MediaFileElement(props: PlateElementProps<TFileElement>) {\n    const readOnly = useReadOnly();\n    const { name, unsafeUrl } = useMediaState();\n\n    return (\n      <PlateElement className=\"my-px rounded-sm\" {...props}>\n        <a\n          className=\"group relative m-0 flex cursor-pointer items-center rounded px-0.5 py-[3px] hover:bg-muted\"\n          contentEditable={false}\n          download={name}\n          href={unsafeUrl}\n          rel=\"noopener noreferrer\"\n          role=\"button\"\n          target=\"_blank\"\n        >\n          <div className=\"flex items-center gap-1 p-1\">\n            <FileUp className=\"size-5\" />\n            <div>{name}</div>\n          </div>\n\n          <Caption align=\"left\">\n            <CaptionTextarea\n              className=\"text-left\"\n              readOnly={readOnly}\n              placeholder=\"Write a caption...\"\n            />\n          </Caption>\n        </a>\n        {props.children}\n      </PlateElement>\n    );\n  }\n);\n","import * as React from 'react';\n\nimport type { OurFileRouter } from '@/lib/uploadthing';\nimport type {\n  ClientUploadedFileData,\n  UploadFilesOptions,\n} from 'uploadthing/types';\n\nimport { generateReactHelpers } from '@uploadthing/react';\nimport { toast } from 'sonner';\nimport { z } from 'zod';\n\nexport type UploadedFile<T = unknown> = ClientUploadedFileData<T>;\n\ninterface UseUploadFileProps\n  extends Pick<\n    UploadFilesOptions<OurFileRouter['editorUploader']>,\n    'headers' | 'onUploadBegin' | 'onUploadProgress' | 'skipPolling'\n  > {\n  onUploadComplete?: (file: UploadedFile) => void;\n  onUploadError?: (error: unknown) => void;\n}\n\nexport function useUploadFile({\n  onUploadComplete,\n  onUploadError,\n  ...props\n}: UseUploadFileProps = {}) {\n  const [uploadedFile, setUploadedFile] = React.useState<UploadedFile>();\n  const [uploadingFile, setUploadingFile] = React.useState<File>();\n  const [progress, setProgress] = React.useState<number>(0);\n  const [isUploading, setIsUploading] = React.useState(false);\n\n  async function uploadThing(file: File) {\n    setIsUploading(true);\n    setUploadingFile(file);\n\n    try {\n      const res = await uploadFiles('editorUploader', {\n        ...props,\n        files: [file],\n        onUploadProgress: ({ progress }) => {\n          setProgress(Math.min(progress, 100));\n        },\n      });\n\n      setUploadedFile(res[0]);\n\n      onUploadComplete?.(res[0]);\n\n      return uploadedFile;\n    } catch (error) {\n      const errorMessage = getErrorMessage(error);\n\n      const message =\n        errorMessage.length > 0\n          ? errorMessage\n          : 'Something went wrong, please try again later.';\n\n      toast.error(message);\n\n      onUploadError?.(error);\n\n      // Mock upload for unauthenticated users\n      // toast.info('User not logged in. Mocking upload process.');\n      const mockUploadedFile = {\n        key: 'mock-key-0',\n        appUrl: `https://mock-app-url.com/${file.name}`,\n        name: file.name,\n        size: file.size,\n        type: file.type,\n        url: URL.createObjectURL(file),\n      } as UploadedFile;\n\n      // Simulate upload progress\n      let progress = 0;\n\n      const simulateProgress = async () => {\n        while (progress < 100) {\n          await new Promise((resolve) => setTimeout(resolve, 50));\n          progress += 2;\n          setProgress(Math.min(progress, 100));\n        }\n      };\n\n      await simulateProgress();\n\n      setUploadedFile(mockUploadedFile);\n\n      return mockUploadedFile;\n    } finally {\n      setProgress(0);\n      setIsUploading(false);\n      setUploadingFile(undefined);\n    }\n  }\n\n  return {\n    isUploading,\n    progress,\n    uploadedFile,\n    uploadFile: uploadThing,\n    uploadingFile,\n  };\n}\n\nexport const { uploadFiles, useUploadThing }: any =\n  generateReactHelpers<OurFileRouter>();\n\nexport function getErrorMessage(err: unknown) {\n  const unknownError = 'Something went wrong, please try again later.';\n\n  if (err instanceof z.ZodError) {\n    const errors = err.issues.map((issue) => {\n      return issue.message;\n    });\n\n    return errors.join('\\n');\n  } else if (err instanceof Error) {\n    return err.message;\n  } else {\n    return unknownError;\n  }\n}\n\nexport function showErrorToast(err: unknown) {\n  const errorMessage = getErrorMessage(err);\n\n  return toast.error(errorMessage);\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TPlaceholderElement } from '@udecode/plate-media';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  PlaceholderPlugin,\n  PlaceholderProvider,\n  updateUploadHistory,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport { PlateElement, useEditorPlugin, withHOC } from '@udecode/plate/react';\nimport { AudioLines, FileUp, Film, ImageIcon, Loader2Icon } from 'lucide-react';\nimport { useFilePicker } from 'use-file-picker';\n\nimport { cn } from '@/lib/utils';\nimport { useUploadFile } from '@/hooks/use-upload-file';\n\nconst CONTENT: Record<\n  string,\n  {\n    accept: string[];\n    content: React.ReactNode;\n    icon: React.ReactNode;\n  }\n> = {\n  [AudioPlugin.key]: {\n    accept: ['audio/*'],\n    content: 'Add an audio file',\n    icon: <AudioLines />,\n  },\n  [FilePlugin.key]: {\n    accept: ['*'],\n    content: 'Add a file',\n    icon: <FileUp />,\n  },\n  [ImagePlugin.key]: {\n    accept: ['image/*'],\n    content: 'Add an image',\n    icon: <ImageIcon />,\n  },\n  [VideoPlugin.key]: {\n    accept: ['video/*'],\n    content: 'Add a video',\n    icon: <Film />,\n  },\n};\n\nexport const MediaPlaceholderElement = withHOC(\n  PlaceholderProvider,\n  function MediaPlaceholderElement(\n    props: PlateElementProps<TPlaceholderElement>\n  ) {\n    const { editor, element } = props;\n\n    const { api } = useEditorPlugin(PlaceholderPlugin);\n\n    const { isUploading, progress, uploadedFile, uploadFile, uploadingFile } =\n      useUploadFile();\n\n    const loading = isUploading && uploadingFile;\n\n    const currentContent = CONTENT[element.mediaType];\n\n    const isImage = element.mediaType === ImagePlugin.key;\n\n    const imageRef = React.useRef<HTMLImageElement>(null);\n\n    const { openFilePicker } = useFilePicker({\n      accept: currentContent.accept,\n      multiple: true,\n      onFilesSelected: ({ plainFiles: updatedFiles }) => {\n        const firstFile = updatedFiles[0];\n        const restFiles = updatedFiles.slice(1);\n\n        replaceCurrentPlaceholder(firstFile);\n\n        if (restFiles.length > 0) {\n          editor.getTransforms(PlaceholderPlugin).insert.media(restFiles);\n        }\n      },\n    });\n\n    const replaceCurrentPlaceholder = React.useCallback(\n      (file: File) => {\n        void uploadFile(file);\n        api.placeholder.addUploadingFile(element.id as string, file);\n      },\n      [api.placeholder, element.id, uploadFile]\n    );\n\n    React.useEffect(() => {\n      if (!uploadedFile) return;\n\n      const path = editor.api.findPath(element);\n\n      editor.tf.withoutSaving(() => {\n        editor.tf.removeNodes({ at: path });\n\n        const node = {\n          children: [{ text: '' }],\n          initialHeight: imageRef.current?.height,\n          initialWidth: imageRef.current?.width,\n          isUpload: true,\n          name: element.mediaType === FilePlugin.key ? uploadedFile.name : '',\n          placeholderId: element.id as string,\n          type: element.mediaType!,\n          url: uploadedFile.url,\n        };\n\n        editor.tf.insertNodes(node, { at: path });\n\n        updateUploadHistory(editor, node);\n      });\n\n      api.placeholder.removeUploadingFile(element.id as string);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [uploadedFile, element.id]);\n\n    // React dev mode will call React.useEffect twice\n    const isReplaced = React.useRef(false);\n\n    /** Paste and drop */\n    React.useEffect(() => {\n      if (isReplaced.current) return;\n\n      isReplaced.current = true;\n      const currentFiles = api.placeholder.getUploadingFile(\n        element.id as string\n      );\n\n      if (!currentFiles) return;\n\n      replaceCurrentPlaceholder(currentFiles);\n\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isReplaced]);\n\n    return (\n      <PlateElement className=\"my-1\" {...props}>\n        {(!loading || !isImage) && (\n          <div\n            className={cn(\n              'flex cursor-pointer items-center rounded-sm bg-muted p-3 pr-9 select-none hover:bg-primary/10'\n            )}\n            onClick={() => !loading && openFilePicker()}\n            contentEditable={false}\n          >\n            <div className=\"relative mr-3 flex text-muted-foreground/80 [&_svg]:size-6\">\n              {currentContent.icon}\n            </div>\n            <div className=\"text-sm whitespace-nowrap text-muted-foreground\">\n              <div>\n                {loading ? uploadingFile?.name : currentContent.content}\n              </div>\n\n              {loading && !isImage && (\n                <div className=\"mt-1 flex items-center gap-1.5\">\n                  <div>{formatBytes(uploadingFile?.size ?? 0)}</div>\n                  <div></div>\n                  <div className=\"flex items-center\">\n                    <Loader2Icon className=\"mr-1 size-3.5 animate-spin text-muted-foreground\" />\n                    {progress ?? 0}%\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {isImage && loading && (\n          <ImageProgress\n            file={uploadingFile}\n            imageRef={imageRef}\n            progress={progress}\n          />\n        )}\n\n        {props.children}\n      </PlateElement>\n    );\n  }\n);\n\nexport function ImageProgress({\n  className,\n  file,\n  imageRef,\n  progress = 0,\n}: {\n  file: File;\n  className?: string;\n  imageRef?: React.RefObject<HTMLImageElement | null>;\n  progress?: number;\n}) {\n  const [objectUrl, setObjectUrl] = React.useState<string | null>(null);\n\n  React.useEffect(() => {\n    const url = URL.createObjectURL(file);\n    setObjectUrl(url);\n\n    return () => {\n      URL.revokeObjectURL(url);\n    };\n  }, [file]);\n\n  if (!objectUrl) {\n    return null;\n  }\n\n  return (\n    <div className={cn('relative', className)} contentEditable={false}>\n      <img\n        ref={imageRef}\n        className=\"h-auto w-full rounded-sm object-cover\"\n        alt={file.name}\n        src={objectUrl}\n      />\n      {progress < 100 && (\n        <div className=\"absolute right-1 bottom-1 flex items-center space-x-2 rounded-full bg-black/50 px-1 py-0.5\">\n          <Loader2Icon className=\"size-3.5 animate-spin text-muted-foreground\" />\n          <span className=\"text-xs font-medium text-white\">\n            {Math.round(progress)}%\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport function formatBytes(\n  bytes: number,\n  opts: {\n    decimals?: number;\n    sizeType?: 'accurate' | 'normal';\n  } = {}\n) {\n  const { decimals = 0, sizeType = 'normal' } = opts;\n\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n  const accurateSizes = ['Bytes', 'KiB', 'MiB', 'GiB', 'TiB'];\n\n  if (bytes === 0) return '0 Byte';\n\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\n\n  return `${(bytes / Math.pow(1024, i)).toFixed(decimals)} ${\n    sizeType === 'accurate'\n      ? (accurateSizes[i] ?? 'Bytest')\n      : (sizes[i] ?? 'Bytes')\n  }`;\n}\n","'use client';\n\nimport * as React from 'react';\nimport LiteYouTubeEmbed from 'react-lite-youtube-embed';\nimport ReactPlayer from 'react-player';\n\nimport type { TVideoElement } from '@udecode/plate-media';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { useDraggable } from '@udecode/plate-dnd';\nimport { parseTwitterUrl, parseVideoUrl } from '@udecode/plate-media';\nimport { useMediaState } from '@udecode/plate-media/react';\nimport { ResizableProvider, useResizableValue } from '@udecode/plate-resizable';\nimport { PlateElement, useEditorMounted, withHOC } from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\n\nimport { Caption, CaptionTextarea } from './caption';\nimport {\n  mediaResizeHandleVariants,\n  Resizable,\n  ResizeHandle,\n} from './resize-handle';\n\nexport const MediaVideoElement = withHOC(\n  ResizableProvider,\n  function MediaVideoElement(props: PlateElementProps<TVideoElement>) {\n    const {\n      align = 'center',\n      embed,\n      isUpload,\n      isYoutube,\n      readOnly,\n      unsafeUrl,\n    } = useMediaState({\n      urlParsers: [parseTwitterUrl, parseVideoUrl],\n    });\n    const width = useResizableValue('width');\n\n    const isEditorMounted = useEditorMounted();\n\n    const isTweet = true;\n\n    const { isDragging, handleRef } = useDraggable({\n      element: props.element,\n    });\n\n    return (\n      <PlateElement className=\"py-2.5\" {...props}>\n        <figure className=\"relative m-0 cursor-default\" contentEditable={false}>\n          <Resizable\n            className={cn(isDragging && 'opacity-50')}\n            align={align}\n            options={{\n              align,\n              maxWidth: isTweet ? 550 : '100%',\n              minWidth: isTweet ? 300 : 100,\n              readOnly,\n            }}\n          >\n            <div className=\"group/media\">\n              <ResizeHandle\n                className={mediaResizeHandleVariants({ direction: 'left' })}\n                options={{ direction: 'left' }}\n              />\n\n              <ResizeHandle\n                className={mediaResizeHandleVariants({ direction: 'right' })}\n                options={{ direction: 'right' }}\n              />\n\n              {!isUpload && isYoutube && (\n                <div ref={handleRef}>\n                  <LiteYouTubeEmbed\n                    id={embed!.id!}\n                    title=\"youtube\"\n                    wrapperClass={cn(\n                      'aspect-video rounded-sm',\n                      'relative block cursor-pointer bg-black bg-cover bg-center [contain:content]',\n                      '[&.lyt-activated]:before:absolute [&.lyt-activated]:before:top-0 [&.lyt-activated]:before:h-[60px] [&.lyt-activated]:before:w-full [&.lyt-activated]:before:bg-top [&.lyt-activated]:before:bg-repeat-x [&.lyt-activated]:before:pb-[50px] [&.lyt-activated]:before:[transition:all_0.2s_cubic-bezier(0,_0,_0.2,_1)]',\n                      '[&.lyt-activated]:before:bg-[url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)]',\n                      'after:block after:pb-[var(--aspect-ratio)] after:content-[\"\"]',\n                      '[&_>_iframe]:absolute [&_>_iframe]:top-0 [&_>_iframe]:left-0 [&_>_iframe]:size-full',\n                      '[&_>_.lty-playbtn]:z-1 [&_>_.lty-playbtn]:h-[46px] [&_>_.lty-playbtn]:w-[70px] [&_>_.lty-playbtn]:rounded-[14%] [&_>_.lty-playbtn]:bg-[#212121] [&_>_.lty-playbtn]:opacity-80 [&_>_.lty-playbtn]:[transition:all_0.2s_cubic-bezier(0,_0,_0.2,_1)]',\n                      '[&:hover_>_.lty-playbtn]:bg-[red] [&:hover_>_.lty-playbtn]:opacity-100',\n                      '[&_>_.lty-playbtn]:before:border-y-[11px] [&_>_.lty-playbtn]:before:border-r-0 [&_>_.lty-playbtn]:before:border-l-[19px] [&_>_.lty-playbtn]:before:border-[transparent_transparent_transparent_#fff] [&_>_.lty-playbtn]:before:content-[\"\"]',\n                      '[&_>_.lty-playbtn]:absolute [&_>_.lty-playbtn]:top-1/2 [&_>_.lty-playbtn]:left-1/2 [&_>_.lty-playbtn]:[transform:translate3d(-50%,-50%,0)]',\n                      '[&_>_.lty-playbtn]:before:absolute [&_>_.lty-playbtn]:before:top-1/2 [&_>_.lty-playbtn]:before:left-1/2 [&_>_.lty-playbtn]:before:[transform:translate3d(-50%,-50%,0)]',\n                      '[&.lyt-activated]:cursor-[unset]',\n                      '[&.lyt-activated]:before:pointer-events-none [&.lyt-activated]:before:opacity-0',\n                      '[&.lyt-activated_>_.lty-playbtn]:pointer-events-none [&.lyt-activated_>_.lty-playbtn]:opacity-0!'\n                    )}\n                  />\n                </div>\n              )}\n\n              {isUpload && isEditorMounted && (\n                <div ref={handleRef}>\n                  <ReactPlayer\n                    height=\"100%\"\n                    url={unsafeUrl}\n                    width=\"100%\"\n                    controls\n                  />\n                </div>\n              )}\n            </div>\n          </Resizable>\n\n          <Caption style={{ width }} align={align}>\n            <CaptionTextarea\n              readOnly={readOnly}\n              placeholder=\"Write a caption...\"\n            />\n          </Caption>\n        </figure>\n        {props.children}\n      </PlateElement>\n    );\n  }\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport { PlateElement } from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\n\nexport function ParagraphElement(props: PlateElementProps) {\n  return (\n    <PlateElement {...props} className={cn('m-0 px-0 py-1')}>\n      {props.children}\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { ParagraphPlugin } from '@udecode/plate/react';\nimport {\n  type PlaceholderProps,\n  createNodeHOC,\n  createNodesHOC,\n  usePlaceholderState,\n} from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\n\nexport const Placeholder = (props: PlaceholderProps) => {\n  const { attributes, children, placeholder } = props;\n\n  const { enabled } = usePlaceholderState(props);\n\n  return React.Children.map(children, (child) => {\n    return React.cloneElement(child, {\n      attributes: {\n        ...attributes,\n        className: cn(\n          attributes.className,\n          enabled &&\n            'before:absolute before:cursor-text before:opacity-30 before:content-[attr(placeholder)]'\n        ),\n        placeholder,\n      },\n    });\n  });\n};\n\nexport const withPlaceholder = createNodeHOC(Placeholder);\n\nexport const withPlaceholdersPrimitive = createNodesHOC(Placeholder);\n\nexport const withPlaceholders = (components: any) =>\n  withPlaceholdersPrimitive(components, [\n    {\n      key: ParagraphPlugin.key,\n      hideOnBlur: true,\n      placeholder: 'Type a paragraph',\n      query: {\n        maxLevel: 1,\n      },\n    },\n    {\n      key: HEADING_KEYS.h1,\n      hideOnBlur: false,\n      placeholder: 'Untitled',\n    },\n  ]);\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TSlashInputElement } from '@udecode/plate-slash-command';\n\nimport { AIChatPlugin } from '@udecode/plate-ai/react';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { DatePlugin } from '@udecode/plate-date/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { TocPlugin } from '@udecode/plate-heading/react';\nimport { INDENT_LIST_KEYS, ListStyleType } from '@udecode/plate-indent-list';\nimport {\n  EquationPlugin,\n  InlineEquationPlugin,\n} from '@udecode/plate-math/react';\nimport { TablePlugin } from '@udecode/plate-table/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport {\n  type PlateEditor,\n  type PlateElementProps,\n  ParagraphPlugin,\n} from '@udecode/plate/react';\nimport { PlateElement } from '@udecode/plate/react';\nimport {\n  CalendarIcon,\n  ChevronRightIcon,\n  Code2,\n  Columns3Icon,\n  Heading1Icon,\n  Heading2Icon,\n  Heading3Icon,\n  LightbulbIcon,\n  ListIcon,\n  ListOrdered,\n  PilcrowIcon,\n  Quote,\n  RadicalIcon,\n  SparklesIcon,\n  Square,\n  Table,\n  TableOfContentsIcon,\n} from 'lucide-react';\n\nimport {\n  insertBlock,\n  insertInlineElement,\n} from '@/components/editor/transforms';\n\nimport {\n  InlineCombobox,\n  InlineComboboxContent,\n  InlineComboboxEmpty,\n  InlineComboboxGroup,\n  InlineComboboxGroupLabel,\n  InlineComboboxInput,\n  InlineComboboxItem,\n} from './inline-combobox';\n\ntype Group = {\n  group: string;\n  items: Item[];\n};\n\ninterface Item {\n  icon: React.ReactNode;\n  value: string;\n  onSelect: (editor: PlateEditor, value: string) => void;\n  className?: string;\n  focusEditor?: boolean;\n  keywords?: string[];\n  label?: string;\n}\n\nconst groups: Group[] = [\n  {\n    group: 'AI',\n    items: [\n      {\n        focusEditor: false,\n        icon: <SparklesIcon />,\n        value: 'AI',\n        onSelect: (editor) => {\n          editor.getApi(AIChatPlugin).aiChat.show();\n        },\n      },\n    ],\n  },\n  {\n    group: 'Basic blocks',\n    items: [\n      {\n        icon: <PilcrowIcon />,\n        keywords: ['paragraph'],\n        label: 'Text',\n        value: ParagraphPlugin.key,\n      },\n      {\n        icon: <Heading1Icon />,\n        keywords: ['title', 'h1'],\n        label: 'Heading 1',\n        value: HEADING_KEYS.h1,\n      },\n      {\n        icon: <Heading2Icon />,\n        keywords: ['subtitle', 'h2'],\n        label: 'Heading 2',\n        value: HEADING_KEYS.h2,\n      },\n      {\n        icon: <Heading3Icon />,\n        keywords: ['subtitle', 'h3'],\n        label: 'Heading 3',\n        value: HEADING_KEYS.h3,\n      },\n      {\n        icon: <ListIcon />,\n        keywords: ['unordered', 'ul', '-'],\n        label: 'Bulleted list',\n        value: ListStyleType.Disc,\n      },\n      {\n        icon: <ListOrdered />,\n        keywords: ['ordered', 'ol', '1'],\n        label: 'Numbered list',\n        value: ListStyleType.Decimal,\n      },\n      {\n        icon: <Square />,\n        keywords: ['checklist', 'task', 'checkbox', '[]'],\n        label: 'To-do list',\n        value: INDENT_LIST_KEYS.todo,\n      },\n      {\n        icon: <ChevronRightIcon />,\n        keywords: ['collapsible', 'expandable'],\n        label: 'Toggle',\n        value: TogglePlugin.key,\n      },\n      {\n        icon: <Code2 />,\n        keywords: ['```'],\n        label: 'Code Block',\n        value: CodeBlockPlugin.key,\n      },\n      {\n        icon: <Table />,\n        label: 'Table',\n        value: TablePlugin.key,\n      },\n      {\n        icon: <Quote />,\n        keywords: ['citation', 'blockquote', 'quote', '>'],\n        label: 'Blockquote',\n        value: BlockquotePlugin.key,\n      },\n      {\n        description: 'Insert a highlighted block.',\n        icon: <LightbulbIcon />,\n        keywords: ['note'],\n        label: 'Callout',\n        value: CalloutPlugin.key,\n      },\n    ].map((item) => ({\n      ...item,\n      onSelect: (editor, value) => {\n        insertBlock(editor, value);\n      },\n    })),\n  },\n  {\n    group: 'Advanced blocks',\n    items: [\n      {\n        icon: <TableOfContentsIcon />,\n        keywords: ['toc'],\n        label: 'Table of contents',\n        value: TocPlugin.key,\n      },\n      {\n        icon: <Columns3Icon />,\n        label: '3 columns',\n        value: 'action_three_columns',\n      },\n      {\n        focusEditor: false,\n        icon: <RadicalIcon />,\n        label: 'Equation',\n        value: EquationPlugin.key,\n      },\n    ].map((item) => ({\n      ...item,\n      onSelect: (editor, value) => {\n        insertBlock(editor, value);\n      },\n    })),\n  },\n  {\n    group: 'Inline',\n    items: [\n      {\n        focusEditor: true,\n        icon: <CalendarIcon />,\n        keywords: ['time'],\n        label: 'Date',\n        value: DatePlugin.key,\n      },\n      {\n        focusEditor: false,\n        icon: <RadicalIcon />,\n        label: 'Inline Equation',\n        value: InlineEquationPlugin.key,\n      },\n    ].map((item) => ({\n      ...item,\n      onSelect: (editor, value) => {\n        insertInlineElement(editor, value);\n      },\n    })),\n  },\n];\n\nexport function SlashInputElement(\n  props: PlateElementProps<TSlashInputElement>\n) {\n  const { editor, element } = props;\n\n  return (\n    <PlateElement {...props} as=\"span\" data-slate-value={element.value}>\n      <InlineCombobox element={element} trigger=\"/\">\n        <InlineComboboxInput />\n\n        <InlineComboboxContent>\n          <InlineComboboxEmpty>No results</InlineComboboxEmpty>\n\n          {groups.map(({ group, items }) => (\n            <InlineComboboxGroup key={group}>\n              <InlineComboboxGroupLabel>{group}</InlineComboboxGroupLabel>\n\n              {items.map(\n                ({ focusEditor, icon, keywords, label, value, onSelect }) => (\n                  <InlineComboboxItem\n                    key={value}\n                    value={value}\n                    onClick={() => onSelect(editor, value)}\n                    label={label}\n                    focusEditor={focusEditor}\n                    group={group}\n                    keywords={keywords}\n                  >\n                    <div className=\"mr-2 text-muted-foreground\">{icon}</div>\n                    {label ?? value}\n                  </InlineComboboxItem>\n                )\n              )}\n            </InlineComboboxGroup>\n          ))}\n        </InlineComboboxContent>\n      </InlineCombobox>\n\n      {props.children}\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TSuggestionText } from '@udecode/plate-suggestion';\nimport type { PlateLeafProps } from '@udecode/plate/react';\n\nimport {\n  PlateLeaf,\n  useEditorPlugin,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\nimport { suggestionPlugin } from '@/components/editor/plugins/suggestion-plugin';\n\nexport function SuggestionLeaf(props: PlateLeafProps<TSuggestionText>) {\n  const { api, setOption } = useEditorPlugin(suggestionPlugin);\n  const leaf = props.leaf;\n\n  const leafId: string = api.suggestion.nodeId(leaf) ?? '';\n  const activeSuggestionId = usePluginOption(suggestionPlugin, 'activeId');\n  const hoverSuggestionId = usePluginOption(suggestionPlugin, 'hoverId');\n  const dataList = api.suggestion.dataList(leaf);\n\n  const hasRemove = dataList.some((data) => data.type === 'remove');\n  const hasActive = dataList.some((data) => data.id === activeSuggestionId);\n  const hasHover = dataList.some((data) => data.id === hoverSuggestionId);\n\n  const diffOperation = { type: hasRemove ? 'delete' : 'insert' } as const;\n\n  const Component = ({ delete: 'del', insert: 'ins', update: 'span' } as const)[\n    diffOperation.type\n  ];\n\n  return (\n    <PlateLeaf\n      {...props}\n      as={Component}\n      className={cn(\n        'bg-emerald-100 text-emerald-700 no-underline transition-colors duration-200',\n        (hasActive || hasHover) && 'bg-emerald-200/80',\n        hasRemove && 'bg-red-100 text-red-700',\n        (hasActive || hasHover) && hasRemove && 'bg-red-200/80 no-underline'\n      )}\n      attributes={{\n        ...props.attributes,\n        onMouseEnter: () => setOption('hoverId', leafId),\n        onMouseLeave: () => setOption('hoverId', null),\n      }}\n    >\n      {props.children}\n    </PlateLeaf>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TTableCellElement } from '@udecode/plate-table';\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport {\n  BlockSelectionPlugin,\n  useBlockSelected,\n} from '@udecode/plate-selection/react';\nimport {\n  TablePlugin,\n  TableRowPlugin,\n  useTableCellElement,\n  useTableCellElementResizable,\n} from '@udecode/plate-table/react';\nimport {\n  PlateElement,\n  useEditorPlugin,\n  useElementSelector,\n  usePluginOption,\n  useReadOnly,\n} from '@udecode/plate/react';\nimport { cva } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\nimport { blockSelectionVariants } from './block-selection';\nimport { ResizeHandle } from './resize-handle';\n\nexport function TableCellElement({\n  isHeader,\n  ...props\n}: PlateElementProps<TTableCellElement> & {\n  isHeader?: boolean;\n}) {\n  const { api } = useEditorPlugin(TablePlugin);\n  const readOnly = useReadOnly();\n  const element = props.element;\n\n  const rowId = useElementSelector(([node]) => node.id as string, [], {\n    key: TableRowPlugin.key,\n  });\n  const isSelectingRow = useBlockSelected(rowId);\n  const isSelectionAreaVisible = usePluginOption(\n    BlockSelectionPlugin,\n    'isSelectionAreaVisible'\n  );\n\n  const { borders, colIndex, colSpan, minHeight, rowIndex, selected, width } =\n    useTableCellElement();\n\n  const { bottomProps, hiddenLeft, leftProps, rightProps } =\n    useTableCellElementResizable({\n      colIndex,\n      colSpan,\n      rowIndex,\n    });\n\n  return (\n    <PlateElement\n      {...props}\n      as={isHeader ? 'th' : 'td'}\n      className={cn(\n        'h-full overflow-visible border-none bg-background p-0',\n        element.background ? 'bg-(--cellBackground)' : 'bg-background',\n        isHeader && 'text-left *:m-0',\n        'before:size-full',\n        selected && 'before:z-10 before:bg-brand/5',\n        \"before:absolute before:box-border before:content-[''] before:select-none\",\n        borders.bottom?.size && `before:border-b before:border-b-border`,\n        borders.right?.size && `before:border-r before:border-r-border`,\n        borders.left?.size && `before:border-l before:border-l-border`,\n        borders.top?.size && `before:border-t before:border-t-border`\n      )}\n      style={\n        {\n          '--cellBackground': element.background,\n          maxWidth: width || 240,\n          minWidth: width || 120,\n        } as React.CSSProperties\n      }\n      attributes={{\n        ...props.attributes,\n        colSpan: api.table.getColSpan(element),\n        rowSpan: api.table.getRowSpan(element),\n      }}\n    >\n      <div\n        className=\"relative z-20 box-border h-full px-3 py-2\"\n        style={{ minHeight }}\n      >\n        {props.children}\n      </div>\n\n      {!isSelectionAreaVisible && (\n        <div\n          className=\"group absolute top-0 size-full select-none\"\n          contentEditable={false}\n          suppressContentEditableWarning={true}\n        >\n          {!readOnly && (\n            <>\n              <ResizeHandle\n                {...rightProps}\n                className=\"-top-2 -right-1 h-[calc(100%_+_8px)] w-2\"\n                data-col={colIndex}\n              />\n              <ResizeHandle {...bottomProps} className=\"-bottom-1 h-2\" />\n              {!hiddenLeft && (\n                <ResizeHandle\n                  {...leftProps}\n                  className=\"top-0 -left-1 w-2\"\n                  data-resizer-left={colIndex === 0 ? 'true' : undefined}\n                />\n              )}\n\n              <div\n                className={cn(\n                  'absolute top-0 z-30 hidden h-full w-1 bg-ring',\n                  'right-[-1.5px]',\n                  columnResizeVariants({ colIndex: colIndex as any })\n                )}\n              />\n              {colIndex === 0 && (\n                <div\n                  className={cn(\n                    'absolute top-0 z-30 h-full w-1 bg-ring',\n                    'left-[-1.5px]',\n                    'hidden animate-in fade-in group-has-[[data-resizer-left]:hover]/table:block group-has-[[data-resizer-left][data-resizing=\"true\"]]/table:block'\n                  )}\n                />\n              )}\n            </>\n          )}\n        </div>\n      )}\n\n      {isSelectingRow && (\n        <div className={blockSelectionVariants()} contentEditable={false} />\n      )}\n    </PlateElement>\n  );\n}\n\nexport function TableCellHeaderElement(\n  props: React.ComponentProps<typeof TableCellElement>\n) {\n  return <TableCellElement {...props} isHeader />;\n}\n\nconst columnResizeVariants = cva('hidden animate-in fade-in', {\n  variants: {\n    colIndex: {\n      0: 'group-has-[[data-col=\"0\"]:hover]/table:block group-has-[[data-col=\"0\"][data-resizing=\"true\"]]/table:block',\n      1: 'group-has-[[data-col=\"1\"]:hover]/table:block group-has-[[data-col=\"1\"][data-resizing=\"true\"]]/table:block',\n      2: 'group-has-[[data-col=\"2\"]:hover]/table:block group-has-[[data-col=\"2\"][data-resizing=\"true\"]]/table:block',\n      3: 'group-has-[[data-col=\"3\"]:hover]/table:block group-has-[[data-col=\"3\"][data-resizing=\"true\"]]/table:block',\n      4: 'group-has-[[data-col=\"4\"]:hover]/table:block group-has-[[data-col=\"4\"][data-resizing=\"true\"]]/table:block',\n      5: 'group-has-[[data-col=\"5\"]:hover]/table:block group-has-[[data-col=\"5\"][data-resizing=\"true\"]]/table:block',\n      6: 'group-has-[[data-col=\"6\"]:hover]/table:block group-has-[[data-col=\"6\"][data-resizing=\"true\"]]/table:block',\n      7: 'group-has-[[data-col=\"7\"]:hover]/table:block group-has-[[data-col=\"7\"][data-resizing=\"true\"]]/table:block',\n      8: 'group-has-[[data-col=\"8\"]:hover]/table:block group-has-[[data-col=\"8\"][data-resizing=\"true\"]]/table:block',\n      9: 'group-has-[[data-col=\"9\"]:hover]/table:block group-has-[[data-col=\"9\"][data-resizing=\"true\"]]/table:block',\n      10: 'group-has-[[data-col=\"10\"]:hover]/table:block group-has-[[data-col=\"10\"][data-resizing=\"true\"]]/table:block',\n    },\n  },\n});\n","'use client';\n\nimport type { LucideProps } from 'lucide-react';\n\nexport const BorderAll = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M0.25 1C0.25 0.585786 0.585786 0.25 1 0.25H14C14.4142 0.25 14.75 0.585786 14.75 1V14C14.75 14.4142 14.4142 14.75 14 14.75H1C0.585786 14.75 0.25 14.4142 0.25 14V1ZM1.75 1.75V13.25H13.25V1.75H1.75Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    ></path>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"5\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"3\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"5\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"3\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"9\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"11\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"9\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"11\"></rect>\n  </svg>\n);\n\nexport const BorderBottom = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M1 13.25L14 13.25V14.75L1 14.75V13.25Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    ></path>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"5\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"13\" y=\"5\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"3\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"13\" y=\"3\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"13\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"13\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"5\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"5\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"3\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"3\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"9\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"9\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"11\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"11\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"9\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"13\" y=\"9\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"11\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"13\" y=\"11\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"1\" y=\"5\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"1\" y=\"3\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"1\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"1\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"1\" y=\"9\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"1\" y=\"11\"></rect>\n  </svg>\n);\n\nexport const BorderLeft = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M1.75 1L1.75 14L0.249999 14L0.25 1L1.75 1Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    ></path>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 10 7)\"\n      width=\"1\"\n      x=\"10\"\n      y=\"7\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 10 13)\"\n      width=\"1\"\n      x=\"10\"\n      y=\"13\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 12 7)\"\n      width=\"1\"\n      x=\"12\"\n      y=\"7\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 12 13)\"\n      width=\"1\"\n      x=\"12\"\n      y=\"13\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 7)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"7\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 7)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"7\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 13)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"13\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 13)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"13\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 5)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"5\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 5)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"5\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 3)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"3\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 3)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"3\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 9)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"9\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 9)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"9\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 11)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"11\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 11)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"11\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 6 7)\"\n      width=\"1\"\n      x=\"6\"\n      y=\"7\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 6 13)\"\n      width=\"1\"\n      x=\"6\"\n      y=\"13\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 4 7)\"\n      width=\"1\"\n      x=\"4\"\n      y=\"7\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 4 13)\"\n      width=\"1\"\n      x=\"4\"\n      y=\"13\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 10 1)\"\n      width=\"1\"\n      x=\"10\"\n      y=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 12 1)\"\n      width=\"1\"\n      x=\"12\"\n      y=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 1)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 1)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 6 1)\"\n      width=\"1\"\n      x=\"6\"\n      y=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 4 1)\"\n      width=\"1\"\n      x=\"4\"\n      y=\"1\"\n    ></rect>\n  </svg>\n);\n\nexport const BorderNone = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"5.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"5.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"3.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"3.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"5\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"5\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"5\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"3\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"3\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"3\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"9\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"9\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"9\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"11\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"11\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"11\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"9.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"9.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"11.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"11.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"5.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"3.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"9.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"11.025\"\n    ></rect>\n  </svg>\n);\n\nexport const BorderRight = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M13.25 1L13.25 14L14.75 14L14.75 1L13.25 1Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    ></path>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 5 7)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 5 13)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 3 7)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 3 13)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 7)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 7)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 13)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 13)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 5)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 5)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 3)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 3)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 9)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 9)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 11)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 11)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 9 7)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 9 13)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 11 7)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 11 13)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 5 1)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 3 1)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 1)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 1)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 9 1)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 11 1)\"\n      width=\"1\"\n    ></rect>\n  </svg>\n);\n\nexport const BorderTop = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M14 1.75L1 1.75L1 0.249999L14 0.25L14 1.75Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    ></path>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 8 10)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"10\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 2 10)\"\n      width=\"1\"\n      x=\"2\"\n      y=\"10\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 8 12)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"12\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 2 12)\"\n      width=\"1\"\n      x=\"2\"\n      y=\"12\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 8 8)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 8 14)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 2 8)\"\n      width=\"1\"\n      x=\"2\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 2 14)\"\n      width=\"1\"\n      x=\"2\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 10 8)\"\n      width=\"1\"\n      x=\"10\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 10 14)\"\n      width=\"1\"\n      x=\"10\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 12 8)\"\n      width=\"1\"\n      x=\"12\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 12 14)\"\n      width=\"1\"\n      x=\"12\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 6 8)\"\n      width=\"1\"\n      x=\"6\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 6 14)\"\n      width=\"1\"\n      x=\"6\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 4 8)\"\n      width=\"1\"\n      x=\"4\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 4 14)\"\n      width=\"1\"\n      x=\"4\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 8 6)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"6\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 2 6)\"\n      width=\"1\"\n      x=\"2\"\n      y=\"6\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 8 4)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"4\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 2 4)\"\n      width=\"1\"\n      x=\"2\"\n      y=\"4\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 14 10)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"10\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 14 12)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"12\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 14 8)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 14 14)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 14 6)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"6\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 14 4)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"4\"\n    ></rect>\n  </svg>\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport type * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';\nimport type { TTableElement } from '@udecode/plate-table';\n\nimport { PopoverAnchor } from '@radix-ui/react-popover';\nimport { BlockSelectionPlugin } from '@udecode/plate-selection/react';\nimport { setCellBackground } from '@udecode/plate-table';\nimport {\n  TablePlugin,\n  TableProvider,\n  useTableBordersDropdownMenuContentState,\n  useTableElement,\n  useTableMergeState,\n} from '@udecode/plate-table/react';\nimport {\n  type PlateElementProps,\n  PlateElement,\n  useEditorPlugin,\n  useEditorRef,\n  useEditorSelector,\n  useElement,\n  usePluginOption,\n  useReadOnly,\n  useRemoveNodeButton,\n  useSelected,\n  withHOC,\n} from '@udecode/plate/react';\nimport {\n  ArrowDown,\n  ArrowLeft,\n  ArrowRight,\n  ArrowUp,\n  CombineIcon,\n  EraserIcon,\n  Grid2X2Icon,\n  PaintBucketIcon,\n  SquareSplitHorizontalIcon,\n  Trash2Icon,\n  XIcon,\n} from 'lucide-react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { Popover, PopoverContent } from '@/components/ui/popover';\nimport { cn } from '@/lib/utils';\n\nimport { DEFAULT_COLORS } from './color-constants';\nimport { ColorDropdownMenuItems } from './color-dropdown-menu-items';\nimport {\n  BorderAll,\n  BorderBottom,\n  BorderLeft,\n  BorderNone,\n  BorderRight,\n  BorderTop,\n} from './table-icons';\nimport {\n  Toolbar,\n  ToolbarButton,\n  ToolbarGroup,\n  ToolbarMenuGroup,\n} from './toolbar';\n\nexport const TableElement = withHOC(\n  TableProvider,\n  function TableElement({\n    children,\n    ...props\n  }: PlateElementProps<TTableElement>) {\n    const readOnly = useReadOnly();\n    const isSelectionAreaVisible = usePluginOption(\n      BlockSelectionPlugin,\n      'isSelectionAreaVisible'\n    );\n    const hasControls = !readOnly && !isSelectionAreaVisible;\n    const selected = useSelected();\n    const {\n      isSelectingCell,\n      marginLeft,\n      props: tableProps,\n    } = useTableElement();\n\n    const content = (\n      <PlateElement\n        {...props}\n        className={cn(\n          'overflow-x-auto py-5',\n          hasControls && '-ml-2 *:data-[slot=block-selection]:left-2'\n        )}\n        style={{ paddingLeft: marginLeft }}\n      >\n        <div className=\"group/table relative w-fit\">\n          <table\n            className={cn(\n              'mr-0 ml-px table h-px table-fixed border-collapse',\n              isSelectingCell && 'selection:bg-transparent'\n            )}\n            {...tableProps}\n          >\n            <tbody className=\"min-w-full\">{children}</tbody>\n          </table>\n        </div>\n      </PlateElement>\n    );\n\n    if (readOnly || !selected) {\n      return content;\n    }\n\n    return <TableFloatingToolbar>{content}</TableFloatingToolbar>;\n  }\n);\n\nexport function TableFloatingToolbar({\n  children,\n  ...props\n}: React.ComponentProps<typeof PopoverContent>) {\n  const { tf } = useEditorPlugin(TablePlugin);\n  const element = useElement<TTableElement>();\n  const { props: buttonProps } = useRemoveNodeButton({ element });\n  const collapsed = useEditorSelector((editor) => !editor.api.isExpanded(), []);\n\n  const { canMerge, canSplit } = useTableMergeState();\n\n  return (\n    <Popover open={canMerge || canSplit || collapsed} modal={false}>\n      <PopoverAnchor asChild>{children}</PopoverAnchor>\n      <PopoverContent\n        asChild\n        onOpenAutoFocus={(e) => e.preventDefault()}\n        contentEditable={false}\n        {...props}\n      >\n        <Toolbar\n          className=\"scrollbar-hide flex w-auto max-w-[80vw] flex-row overflow-x-auto rounded-md border bg-popover p-1 shadow-md print:hidden\"\n          contentEditable={false}\n        >\n          <ToolbarGroup>\n            <ColorDropdownMenu tooltip=\"Background color\">\n              <PaintBucketIcon />\n            </ColorDropdownMenu>\n            {canMerge && (\n              <ToolbarButton\n                onClick={() => tf.table.merge()}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Merge cells\"\n              >\n                <CombineIcon />\n              </ToolbarButton>\n            )}\n            {canSplit && (\n              <ToolbarButton\n                onClick={() => tf.table.split()}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Split cell\"\n              >\n                <SquareSplitHorizontalIcon />\n              </ToolbarButton>\n            )}\n\n            <DropdownMenu modal={false}>\n              <DropdownMenuTrigger asChild>\n                <ToolbarButton tooltip=\"Cell borders\">\n                  <Grid2X2Icon />\n                </ToolbarButton>\n              </DropdownMenuTrigger>\n\n              <DropdownMenuPortal>\n                <TableBordersDropdownMenuContent />\n              </DropdownMenuPortal>\n            </DropdownMenu>\n\n            {collapsed && (\n              <ToolbarGroup>\n                <ToolbarButton tooltip=\"Delete table\" {...buttonProps}>\n                  <Trash2Icon />\n                </ToolbarButton>\n              </ToolbarGroup>\n            )}\n          </ToolbarGroup>\n\n          {collapsed && (\n            <ToolbarGroup>\n              <ToolbarButton\n                onClick={() => {\n                  tf.insert.tableRow({ before: true });\n                }}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Insert row before\"\n              >\n                <ArrowUp />\n              </ToolbarButton>\n              <ToolbarButton\n                onClick={() => {\n                  tf.insert.tableRow();\n                }}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Insert row after\"\n              >\n                <ArrowDown />\n              </ToolbarButton>\n              <ToolbarButton\n                onClick={() => {\n                  tf.remove.tableRow();\n                }}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Delete row\"\n              >\n                <XIcon />\n              </ToolbarButton>\n            </ToolbarGroup>\n          )}\n\n          {collapsed && (\n            <ToolbarGroup>\n              <ToolbarButton\n                onClick={() => {\n                  tf.insert.tableColumn({ before: true });\n                }}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Insert column before\"\n              >\n                <ArrowLeft />\n              </ToolbarButton>\n              <ToolbarButton\n                onClick={() => {\n                  tf.insert.tableColumn();\n                }}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Insert column after\"\n              >\n                <ArrowRight />\n              </ToolbarButton>\n              <ToolbarButton\n                onClick={() => {\n                  tf.remove.tableColumn();\n                }}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Delete column\"\n              >\n                <XIcon />\n              </ToolbarButton>\n            </ToolbarGroup>\n          )}\n        </Toolbar>\n      </PopoverContent>\n    </Popover>\n  );\n}\n\nexport function TableBordersDropdownMenuContent(\n  props: React.ComponentProps<typeof DropdownMenuPrimitive.Content>\n) {\n  const editor = useEditorRef();\n  const {\n    getOnSelectTableBorder,\n    hasBottomBorder,\n    hasLeftBorder,\n    hasNoBorders,\n    hasOuterBorders,\n    hasRightBorder,\n    hasTopBorder,\n  } = useTableBordersDropdownMenuContentState();\n\n  return (\n    <DropdownMenuContent\n      className=\"min-w-[220px]\"\n      onCloseAutoFocus={(e) => {\n        e.preventDefault();\n        editor.tf.focus();\n      }}\n      align=\"start\"\n      side=\"right\"\n      sideOffset={0}\n      {...props}\n    >\n      <DropdownMenuGroup>\n        <DropdownMenuCheckboxItem\n          checked={hasTopBorder}\n          onCheckedChange={getOnSelectTableBorder('top')}\n        >\n          <BorderTop />\n          <div>Top Border</div>\n        </DropdownMenuCheckboxItem>\n        <DropdownMenuCheckboxItem\n          checked={hasRightBorder}\n          onCheckedChange={getOnSelectTableBorder('right')}\n        >\n          <BorderRight />\n          <div>Right Border</div>\n        </DropdownMenuCheckboxItem>\n        <DropdownMenuCheckboxItem\n          checked={hasBottomBorder}\n          onCheckedChange={getOnSelectTableBorder('bottom')}\n        >\n          <BorderBottom />\n          <div>Bottom Border</div>\n        </DropdownMenuCheckboxItem>\n        <DropdownMenuCheckboxItem\n          checked={hasLeftBorder}\n          onCheckedChange={getOnSelectTableBorder('left')}\n        >\n          <BorderLeft />\n          <div>Left Border</div>\n        </DropdownMenuCheckboxItem>\n      </DropdownMenuGroup>\n\n      <DropdownMenuGroup>\n        <DropdownMenuCheckboxItem\n          checked={hasNoBorders}\n          onCheckedChange={getOnSelectTableBorder('none')}\n        >\n          <BorderNone />\n          <div>No Border</div>\n        </DropdownMenuCheckboxItem>\n        <DropdownMenuCheckboxItem\n          checked={hasOuterBorders}\n          onCheckedChange={getOnSelectTableBorder('outer')}\n        >\n          <BorderAll />\n          <div>Outside Borders</div>\n        </DropdownMenuCheckboxItem>\n      </DropdownMenuGroup>\n    </DropdownMenuContent>\n  );\n}\n\ntype ColorDropdownMenuProps = {\n  children: React.ReactNode;\n  tooltip: string;\n};\n\nfunction ColorDropdownMenu({ children, tooltip }: ColorDropdownMenuProps) {\n  const [open, setOpen] = React.useState(false);\n\n  const editor = useEditorRef();\n  const selectedCells = usePluginOption(TablePlugin, 'selectedCells');\n\n  const onUpdateColor = React.useCallback(\n    (color: string) => {\n      setOpen(false);\n      setCellBackground(editor, { color, selectedCells: selectedCells ?? [] });\n    },\n    [selectedCells, editor]\n  );\n\n  const onClearColor = React.useCallback(() => {\n    setOpen(false);\n    setCellBackground(editor, {\n      color: null,\n      selectedCells: selectedCells ?? [],\n    });\n  }, [selectedCells, editor]);\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton tooltip={tooltip}>{children}</ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent align=\"start\">\n        <ToolbarMenuGroup label=\"Colors\">\n          <ColorDropdownMenuItems\n            className=\"px-2\"\n            colors={DEFAULT_COLORS}\n            updateColor={onUpdateColor}\n          />\n        </ToolbarMenuGroup>\n        <DropdownMenuGroup>\n          <DropdownMenuItem className=\"p-2\" onClick={onClearColor}>\n            <EraserIcon />\n            <span>Clear</span>\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TTableRowElement } from '@udecode/plate-table';\n\nimport { useComposedRef } from '@udecode/cn';\nimport { type TElement, PathApi } from '@udecode/plate';\nimport { useDraggable, useDropLine } from '@udecode/plate-dnd';\nimport { BlockSelectionPlugin } from '@udecode/plate-selection/react';\nimport {\n  type PlateElementProps,\n  PlateElement,\n  useEditorRef,\n  useElement,\n  usePluginOption,\n  useReadOnly,\n  useSelected,\n} from '@udecode/plate/react';\nimport { GripVertical } from 'lucide-react';\n\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\nexport function TableRowElement(props: PlateElementProps<TTableRowElement>) {\n  const { element } = props;\n  const readOnly = useReadOnly();\n  const selected = useSelected();\n  const editor = useEditorRef();\n  const isSelectionAreaVisible = usePluginOption(\n    BlockSelectionPlugin,\n    'isSelectionAreaVisible'\n  );\n  const hasControls = !readOnly && !isSelectionAreaVisible;\n\n  const { isDragging, previewRef, handleRef } = useDraggable({\n    element,\n    type: element.type,\n    canDropNode: ({ dragEntry, dropEntry }) =>\n      PathApi.equals(\n        PathApi.parent(dragEntry[1]),\n        PathApi.parent(dropEntry[1])\n      ),\n    onDropHandler: (_, { dragItem }) => {\n      const dragElement = (dragItem as { element: TElement }).element;\n\n      if (dragElement) {\n        editor.tf.select(dragElement);\n      }\n    },\n  });\n\n  return (\n    <PlateElement\n      {...props}\n      ref={useComposedRef(props.ref, previewRef)}\n      as=\"tr\"\n      className={cn('group/row', isDragging && 'opacity-50')}\n      attributes={{\n        ...props.attributes,\n        'data-selected': selected ? 'true' : undefined,\n      }}\n    >\n      {hasControls && (\n        <td className=\"w-2 select-none\" contentEditable={false}>\n          <RowDragHandle dragRef={handleRef} />\n          <DropLine />\n        </td>\n      )}\n\n      {props.children}\n    </PlateElement>\n  );\n}\n\nfunction RowDragHandle({ dragRef }: { dragRef: React.Ref<any> }) {\n  const editor = useEditorRef();\n  const element = useElement();\n\n  return (\n    <Button\n      ref={dragRef}\n      variant=\"outline\"\n      className={cn(\n        'absolute top-1/2 left-0 z-51 h-6 w-4 -translate-y-1/2 p-0 focus-visible:ring-0 focus-visible:ring-offset-0',\n        'cursor-grab active:cursor-grabbing',\n        'opacity-0 transition-opacity duration-100 group-hover/row:opacity-100 group-has-data-[resizing=\"true\"]/row:opacity-0'\n      )}\n      onClick={() => {\n        editor.tf.select(element);\n      }}\n    >\n      <GripVertical className=\"text-muted-foreground\" />\n    </Button>\n  );\n}\n\nfunction DropLine() {\n  const { dropLine } = useDropLine();\n\n  if (!dropLine) return null;\n\n  return (\n    <div\n      className={cn(\n        'absolute inset-x-0 left-2 z-50 h-0.5 bg-brand/50',\n        dropLine === 'top' ? '-top-px' : '-bottom-px'\n      )}\n    />\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport {\n  useTocElement,\n  useTocElementState,\n} from '@udecode/plate-heading/react';\nimport { PlateElement } from '@udecode/plate/react';\nimport { cva } from 'class-variance-authority';\n\nimport { Button } from '@/components/ui/button';\n\nconst headingItemVariants = cva(\n  'block h-auto w-full cursor-pointer truncate rounded-none px-0.5 py-1.5 text-left font-medium text-muted-foreground underline decoration-[0.5px] underline-offset-4 hover:bg-accent hover:text-muted-foreground',\n  {\n    variants: {\n      depth: {\n        1: 'pl-0.5',\n        2: 'pl-[26px]',\n        3: 'pl-[50px]',\n      },\n    },\n  }\n);\n\nexport function TocElement(props: PlateElementProps) {\n  const state = useTocElementState();\n  const { props: btnProps } = useTocElement(state);\n  const { headingList } = state;\n\n  return (\n    <PlateElement {...props} className=\"mb-1 p-0\">\n      <div contentEditable={false}>\n        {headingList.length > 0 ? (\n          headingList.map((item) => (\n            <Button\n              key={item.id}\n              variant=\"ghost\"\n              className={headingItemVariants({\n                depth: item.depth as 1 | 2 | 3,\n              })}\n              onClick={(e) => btnProps.onClick(e, item, 'smooth')}\n              aria-current\n            >\n              {item.title}\n            </Button>\n          ))\n        ) : (\n          <div className=\"text-sm text-gray-500\">\n            Create a heading to display the table of contents.\n          </div>\n        )}\n      </div>\n      {props.children}\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateElementProps } from '@udecode/plate/react';\n\nimport {\n  useToggleButton,\n  useToggleButtonState,\n} from '@udecode/plate-toggle/react';\nimport { PlateElement } from '@udecode/plate/react';\nimport { ChevronRight } from 'lucide-react';\n\nimport { Button } from '@/components/ui/button';\n\nexport function ToggleElement(props: PlateElementProps) {\n  const element = props.element;\n  const state = useToggleButtonState(element.id as string);\n  const { buttonProps, open } = useToggleButton(state);\n\n  return (\n    <PlateElement {...props} className=\"pl-6\">\n      <Button\n        size=\"icon\"\n        variant=\"ghost\"\n        className=\"absolute top-0 -left-0.5 size-6 cursor-pointer items-center justify-center rounded-md p-px text-muted-foreground transition-colors select-none hover:bg-accent [&_svg]:size-4\"\n        contentEditable={false}\n        {...buttonProps}\n      >\n        <ChevronRight\n          className={\n            open\n              ? 'rotate-90 transition-transform duration-75'\n              : 'rotate-0 transition-transform duration-75'\n          }\n        />\n      </Button>\n      {props.children}\n    </PlateElement>\n  );\n}\n","'use client';\nimport * as React from 'react';\n\nimport type { Value } from '@udecode/plate';\n\nimport { withProps } from '@udecode/cn';\nimport { AIPlugin } from '@udecode/plate-ai/react';\nimport {\n  BoldPlugin,\n  CodePlugin,\n  ItalicPlugin,\n  StrikethroughPlugin,\n  SubscriptPlugin,\n  SuperscriptPlugin,\n  UnderlinePlugin,\n} from '@udecode/plate-basic-marks/react';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport {\n  CodeBlockPlugin,\n  CodeLinePlugin,\n  CodeSyntaxPlugin,\n} from '@udecode/plate-code-block/react';\nimport { CommentsPlugin } from '@udecode/plate-comments/react';\nimport { DatePlugin } from '@udecode/plate-date/react';\nimport { EmojiInputPlugin } from '@udecode/plate-emoji/react';\nimport { ExcalidrawPlugin } from '@udecode/plate-excalidraw/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { TocPlugin } from '@udecode/plate-heading/react';\nimport { HighlightPlugin } from '@udecode/plate-highlight/react';\nimport { HorizontalRulePlugin } from '@udecode/plate-horizontal-rule/react';\nimport { KbdPlugin } from '@udecode/plate-kbd/react';\nimport { ColumnItemPlugin, ColumnPlugin } from '@udecode/plate-layout/react';\nimport { LinkPlugin } from '@udecode/plate-link/react';\nimport {\n  EquationPlugin,\n  InlineEquationPlugin,\n} from '@udecode/plate-math/react';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  MediaEmbedPlugin,\n  PlaceholderPlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport {\n  MentionInputPlugin,\n  MentionPlugin,\n} from '@udecode/plate-mention/react';\nimport { SlashInputPlugin } from '@udecode/plate-slash-command/react';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport {\n  TableCellHeaderPlugin,\n  TableCellPlugin,\n  TablePlugin,\n  TableRowPlugin,\n} from '@udecode/plate-table/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport {\n  type CreatePlateEditorOptions,\n  ParagraphPlugin,\n  PlateLeaf,\n  usePlateEditor,\n} from '@udecode/plate/react';\n\nimport { copilotPlugins } from '@/components/editor/plugins/copilot-plugins';\nimport { editorPlugins } from '@/components/editor/plugins/editor-plugins';\nimport { FixedToolbarPlugin } from '@/components/editor/plugins/fixed-toolbar-plugin';\nimport { FloatingToolbarPlugin } from '@/components/editor/plugins/floating-toolbar-plugin';\nimport { AILeaf } from '@/components/ui/ai-leaf';\nimport { BlockquoteElement } from '@/components/ui/blockquote-element';\nimport { CalloutElement } from '@/components/ui/callout-element';\nimport { CodeBlockElement } from '@/components/ui/code-block-element';\nimport { CodeLeaf } from '@/components/ui/code-leaf';\nimport { CodeLineElement } from '@/components/ui/code-line-element';\nimport { CodeSyntaxLeaf } from '@/components/ui/code-syntax-leaf';\nimport { ColumnElement } from '@/components/ui/column-element';\nimport { ColumnGroupElement } from '@/components/ui/column-group-element';\nimport { CommentLeaf } from '@/components/ui/comment-leaf';\nimport { DateElement } from '@/components/ui/date-element';\nimport { EmojiInputElement } from '@/components/ui/emoji-input-element';\nimport { EquationElement } from '@/components/ui/equation-element';\nimport { ExcalidrawElement } from '@/components/ui/excalidraw-element';\nimport { HeadingElement } from '@/components/ui/heading-element';\nimport { HighlightLeaf } from '@/components/ui/highlight-leaf';\nimport { HrElement } from '@/components/ui/hr-element';\nimport { ImageElement } from '@/components/ui/image-element';\nimport { InlineEquationElement } from '@/components/ui/inline-equation-element';\nimport { KbdLeaf } from '@/components/ui/kbd-leaf';\nimport { LinkElement } from '@/components/ui/link-element';\nimport { MediaAudioElement } from '@/components/ui/media-audio-element';\nimport { MediaEmbedElement } from '@/components/ui/media-embed-element';\nimport { MediaFileElement } from '@/components/ui/media-file-element';\nimport { MediaPlaceholderElement } from '@/components/ui/media-placeholder-element';\nimport { MediaVideoElement } from '@/components/ui/media-video-element';\nimport { MentionElement } from '@/components/ui/mention-element';\nimport { MentionInputElement } from '@/components/ui/mention-input-element';\nimport { ParagraphElement } from '@/components/ui/paragraph-element';\nimport { withPlaceholders } from '@/components/ui/placeholder';\nimport { SlashInputElement } from '@/components/ui/slash-input-element';\nimport { SuggestionLeaf } from '@/components/ui/suggestion-leaf';\nimport {\n  TableCellElement,\n  TableCellHeaderElement,\n} from '@/components/ui/table-cell-element';\nimport { TableElement } from '@/components/ui/table-element';\nimport { TableRowElement } from '@/components/ui/table-row-element';\nimport { TocElement } from '@/components/ui/toc-element';\nimport { ToggleElement } from '@/components/ui/toggle-element';\n\nexport const viewComponents = {\n  [AudioPlugin.key]: MediaAudioElement,\n  [BlockquotePlugin.key]: BlockquoteElement,\n  [BoldPlugin.key]: withProps(PlateLeaf, { as: 'strong' }),\n  [CalloutPlugin.key]: CalloutElement,\n  [CodeBlockPlugin.key]: CodeBlockElement,\n  [CodeLinePlugin.key]: CodeLineElement,\n  [CodePlugin.key]: CodeLeaf,\n  [CodeSyntaxPlugin.key]: CodeSyntaxLeaf,\n  [ColumnItemPlugin.key]: ColumnElement,\n  [ColumnPlugin.key]: ColumnGroupElement,\n  [CommentsPlugin.key]: CommentLeaf,\n  [DatePlugin.key]: DateElement,\n  [EquationPlugin.key]: EquationElement,\n  [ExcalidrawPlugin.key]: ExcalidrawElement,\n  [FilePlugin.key]: MediaFileElement,\n  [HEADING_KEYS.h1]: withProps(HeadingElement, { variant: 'h1' }),\n  [HEADING_KEYS.h2]: withProps(HeadingElement, { variant: 'h2' }),\n  [HEADING_KEYS.h3]: withProps(HeadingElement, { variant: 'h3' }),\n  [HEADING_KEYS.h4]: withProps(HeadingElement, { variant: 'h4' }),\n  [HEADING_KEYS.h5]: withProps(HeadingElement, { variant: 'h5' }),\n  [HEADING_KEYS.h6]: withProps(HeadingElement, { variant: 'h6' }),\n  [HighlightPlugin.key]: HighlightLeaf,\n  [HorizontalRulePlugin.key]: HrElement,\n  [ImagePlugin.key]: ImageElement,\n  [InlineEquationPlugin.key]: InlineEquationElement,\n  [ItalicPlugin.key]: withProps(PlateLeaf, { as: 'em' }),\n  [KbdPlugin.key]: KbdLeaf,\n  [LinkPlugin.key]: LinkElement,\n  [MediaEmbedPlugin.key]: MediaEmbedElement,\n  [MentionPlugin.key]: MentionElement,\n  [ParagraphPlugin.key]: ParagraphElement,\n  [PlaceholderPlugin.key]: MediaPlaceholderElement,\n  [StrikethroughPlugin.key]: withProps(PlateLeaf, { as: 's' }),\n  [SubscriptPlugin.key]: withProps(PlateLeaf, { as: 'sub' }),\n  [SuggestionPlugin.key]: SuggestionLeaf,\n  [SuperscriptPlugin.key]: withProps(PlateLeaf, { as: 'sup' }),\n  [TableCellHeaderPlugin.key]: TableCellHeaderElement,\n  [TableCellPlugin.key]: TableCellElement,\n  [TablePlugin.key]: TableElement,\n  [TableRowPlugin.key]: TableRowElement,\n  [TocPlugin.key]: TocElement,\n  [TogglePlugin.key]: ToggleElement,\n  [UnderlinePlugin.key]: withProps(PlateLeaf, { as: 'u' }),\n  [VideoPlugin.key]: MediaVideoElement,\n};\n\nexport const editorComponents = {\n  ...viewComponents,\n  [AIPlugin.key]: AILeaf,\n  [EmojiInputPlugin.key]: EmojiInputElement,\n  [MentionInputPlugin.key]: MentionInputElement,\n  [SlashInputPlugin.key]: SlashInputElement,\n};\n\nexport const useCreateEditor = (\n  {\n    components,\n    override,\n    placeholders,\n    readOnly,\n    value,\n    ...options\n  }: {\n    components?: Record<string, any>;\n    placeholders?: boolean;\n    plugins?: any[];\n    readOnly?: boolean;\n    value?: Value;\n  } & Omit<CreatePlateEditorOptions, 'plugins'> = {},\n  deps: any[] = []\n) => {\n  const defaultValue = React.useMemo(() => {\n    return [\n      {\n        children: [{ text: 'New Document' }],\n        type: 'h1',\n      },\n      {\n        children: [{ text: '' }],\n        type: 'p',\n      },\n    ];\n  }, []);\n\n  const initialValue = value || defaultValue;\n\n  const createPlateUI = (components: Record<string, any> = {}) => {\n    return {\n      ...(readOnly\n        ? viewComponents\n        : placeholders\n          ? withPlaceholders(editorComponents)\n          : editorComponents),\n      ...components,\n    };\n  };\n\n  const editor = usePlateEditor(\n    {\n      override: { components: createPlateUI(components), ...override },\n      plugins: [\n        ...copilotPlugins,\n        ...editorPlugins,\n        FixedToolbarPlugin,\n        FloatingToolbarPlugin,\n      ],\n      value: initialValue,\n      ...options,\n    },\n    [value, ...deps]\n  );\n  return editor;\n};","'use client';\n\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { useEditorRef } from '@udecode/plate/react';\n\nexport interface Version {\n  id: string;\n  content: any;\n  date: Date;\n  isCurrent: boolean;\n  name: string;\n}\n\nexport function useVersionHistory() {\n  const editor = useEditorRef();\n  const isLoadingRef = useRef(false);\n  const lastSavedContentRef = useRef<any>(null);\n\n  // Initialize versions - will be populated when editor is ready\n  const [versions, setVersions] = useState<Version[]>([]);\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  // Initialize versions once editor is ready\n  useEffect(() => {\n    if (editor && !isInitialized) {\n      const currentContent = editor.children?.length > 0 ? editor.children : getDefaultContent();\n      const hasTemplateContent = currentContent.length > 2 || \n        (currentContent[0]?.children?.[0]?.text !== 'New Document' && \n         currentContent[0]?.children?.[0]?.text !== '');\n\n      const defaultVersion: Version = {\n        id: 'default',\n        content: currentContent,\n        date: new Date(),\n        isCurrent: true,\n        name: hasTemplateContent ? 'Template version' : 'Default version',\n      };\n\n      setVersions([defaultVersion]);\n      setIsInitialized(true);\n    }\n  }, [editor, isInitialized]);\n\n  const currentVersion = versions.find(v => v.isCurrent) || null;\n\n  const validateContent = useCallback((content: any) => {\n    if (!content || !Array.isArray(content) || content.length === 0) {\n      return [{ children: [{ text: '' }], type: 'p' }];\n    }\n\n    // Deep validation and cleanup of content structure\n    const validateNode = (node: any): any => {\n      if (!node || typeof node !== 'object') {\n        return { children: [{ text: '' }], type: 'p' };\n      }\n\n      // Clean up node by removing potentially problematic properties\n      const cleanNode = { ...node };\n\n      delete cleanNode.isSelected;\n      delete cleanNode.isPartiallySelected;\n\n      if (!cleanNode.children || !Array.isArray(cleanNode.children)) {\n        cleanNode.children = [{ text: '' }];\n      } else {\n        // validate children\n        cleanNode.children = cleanNode.children.map((child: any) => {\n          if (typeof child === 'object' && child !== null) {\n            if (child.type) {\n              return validateNode(child);\n            } else {\n              const cleanChild = { ...child };\n\n              // Ensure text property exists\n              if (typeof cleanChild.text !== 'string') {\n                cleanChild.text = '';\n              }\n\n              // Remove any problematic properties while preserving valid marks\n              const validMarkProperties = [\n                'text', 'bold', 'italic', 'underline', 'strikethrough', \n                'code', 'subscript', 'superscript', 'highlight', 'color', \n                'backgroundColor', 'fontSize', 'fontFamily', 'fontWeight'\n              ];\n\n              Object.keys(cleanChild).forEach(key => {\n                if (!validMarkProperties.includes(key) && !key.startsWith('comment')) {\n                  delete cleanChild[key];\n                }\n              });\n\n              return cleanChild;\n            }\n          }\n          return { text: '' };\n        });\n      }\n\n      // Ensure type exists\n      if (!cleanNode.type) {\n        cleanNode.type = 'p';\n      }\n\n      return cleanNode;\n    };\n\n    return content.map(validateNode);\n  }, []);\n\n  const getCurrentEditorContent = useCallback(() => {\n    if (!editor?.children) {\n      return [{ children: [{ text: '' }], type: 'p' }];\n    }\n\n    try {\n      // Deep clone to avoid reference issues\n      const content = JSON.parse(JSON.stringify(editor.children));\n      return validateContent(content);\n    } catch (error) {\n      console.error('Error serializing editor content:', error);\n      return [{ children: [{ text: '' }], type: 'p' }];\n    }\n  }, [editor, validateContent]);\n\n  const setEditorContent = useCallback((content: any) => {\n    if (!editor) {\n      console.error('Editor not available for content update');\n      return;\n    }\n\n    const validatedContent = validateContent(content);\n\n    try {\n      // Store current operation state\n      const wasNormalizing = editor.isNormalizing;\n\n      // Disable normalization temporarily\n      editor.isNormalizing = false;\n\n      // Clear selection and marks to prevent state conflicts\n      if (editor.selection) {\n        editor.selection = null;\n      }\n\n      // Clear any active marks\n      editor.marks = null;\n\n      // Clear the editor content\n      editor.children = [];\n\n      // Set new content\n      editor.children = validatedContent;\n\n      // Reset selection to start of document\n      const startPoint = { offset: 0, path: [0, 0] };\n      if (validatedContent.length > 0) {\n        try {\n          editor.selection = {\n            anchor: startPoint,\n            focus: startPoint\n          };\n        } catch (selectionError) {\n          // If setting selection fails, leave it null\n          editor.selection = null;\n        }\n      }\n\n      // Restore normalization and normalize\n      editor.isNormalizing = wasNormalizing;\n      if (typeof editor.normalize === 'function') {\n        editor.normalize({ force: true });\n      }\n\n      // Trigger onChange to update the editor UI\n      if (typeof editor.onChange === 'function') {\n        editor.onChange();\n      }\n    } catch (error) {\n      console.error('Error setting editor content:', error);\n\n      // Fallback to safe content with clean state\n      const fallbackContent = [{ children: [{ text: '' }], type: 'p' }];\n      try {\n        editor.selection = null;\n        editor.marks = null;\n        editor.children = fallbackContent;\n\n        // Set safe selection for fallback\n        try {\n          editor.selection = {\n            anchor: { offset: 0, path: [0, 0] },\n            focus: { offset: 0, path: [0, 0] }\n          };\n        } catch {\n          editor.selection = null;\n        }\n\n        if (typeof editor.onChange === 'function') {\n          editor.onChange();\n        }\n      } catch (fallbackError) {\n        console.error('Error with fallback content:', fallbackError);\n      }\n    }\n  }, [editor, validateContent]);\n\n  // Initialize editor with current version content\n  useEffect(() => {\n    if (editor && currentVersion && !isLoadingRef.current) {\n      const contentToLoad = currentVersion.name === 'Default version' && \n        (!currentVersion.content || currentVersion.content.length === 0)\n        ? getDefaultContent()\n        : currentVersion.content;\n\n      setEditorContent(contentToLoad); // 22     setEditorContent(contentToLoad, true);\n    }\n  }, [editor, currentVersion?.id]); \n\n  const handleSaveNewVersion = useCallback(() => {\n    if (!editor || isLoadingRef.current) {\n      console.error('Editor not available or content loading');\n      return;\n    }\n\n    try {\n      const currentContent = getCurrentEditorContent();\n\n      // Count only user-saved versions (exclude initial and default)\n      const userVersions = versions.filter(\n        v => v.name.startsWith('Version ')\n      );\n      const nextVersionNumber = userVersions.length + 1;\n\n      const newVersion: Version = {\n        id: `v_${Date.now()}`,\n        content: currentContent,\n        date: new Date(),\n        isCurrent: true,\n        name: `Version ${nextVersionNumber}`, // sequential name\n      };\n\n      setVersions(prev => {\n        const updatedVersions = prev.map(v =>\n          v.isCurrent\n            ? { ...v, content: currentContent, isCurrent: false }\n            : { ...v, isCurrent: false }\n        );\n        return [...updatedVersions, newVersion];\n      });\n\n      console.log('New version saved successfully');\n    } catch (error) {\n      console.error('Error saving new version:', error);\n    }\n  }, [editor, getCurrentEditorContent, versions]);\n\n  const handleVersionSelect = useCallback((version: Version) => {\n    if (!editor || isLoadingRef.current) {\n      console.error('Editor not available or content loading');\n      return;\n    }\n\n    if (version.isCurrent) {\n      return; // Already current\n    }\n\n    try {\n      // Save current editor state before switching\n      const currentContent = getCurrentEditorContent();\n\n      setVersions(prev => {\n        return prev.map(v => {\n          if (v.isCurrent) {\n            // Save current editor content to the currently active version\n            return { \n              ...v, \n              content: currentContent,\n              isCurrent: false \n            };\n          }\n          return { ...v, isCurrent: v.id === version.id };\n        });\n      });\n\n      // 22 Load the selected version's content\n      let contentToLoad = version.content;\n\n      // 22 Special handling for default version with missing content\n      if (version.name === 'Default version' && (!version.content || version.content.length === 0)) {\n        contentToLoad = getDefaultContent();\n      }\n\n      // 22 Set the content in the editor\n      setEditorContent(contentToLoad);\n\n      console.log('Version selected successfully:', version.name);\n    } catch (error) {\n      console.error('Error selecting version:', error);\n    }\n  }, [editor, getCurrentEditorContent, setEditorContent]);\n\n  const handleDeleteVersion = useCallback((versionId: string) => {\n    setVersions(prev => {\n      const versionToDelete = prev.find(v => v.id === versionId);\n      const filtered = prev.filter(v => v.id !== versionId);\n\n      if (filtered.length === 0) {\n        // 22 If all versions deleted, create a new default one\n        const newDefault = {\n          id: `v_${Date.now()}`,\n          content: getDefaultContent(),\n          date: new Date(),\n          isCurrent: true,\n          name: 'New version',\n        };\n\n        if (editor) {\n          setEditorContent(newDefault.content);\n        }\n\n        return [newDefault];\n      }\n\n      // 22 If current version was deleted, make the first remaining version current\n      if (versionToDelete?.isCurrent) {\n        filtered[0].isCurrent = true;\n\n        // 22 Load the new current version into the editor\n        if (editor) {\n          let contentToLoad = filtered[0].content;\n          if (filtered[0].name === 'Default version' && (!filtered[0].content || filtered[0].content.length === 0)) {\n            contentToLoad = getDefaultContent();\n          }\n          setEditorContent(contentToLoad);\n        }\n      }\n\n      return filtered;\n    });\n  }, [editor, setEditorContent]);\n\n  const handleRenameVersion = useCallback((versionId: string, newName: string) => {\n    if (!newName.trim()) return;\n\n    setVersions(prev => prev.map(v => \n      v.id === versionId ? { ...v, name: newName.trim() } : v\n    ));\n  }, []);\n\n  return {\n    currentVersion,\n    versions,\n    handleDeleteVersion,\n    handleRenameVersion,\n    handleSaveNewVersion,\n    handleVersionSelect,\n  };\n}\n\n// Helper function to get default content\nfunction getDefaultContent() {\n  return [\n    {\n      children: [{ text: \"Co-Founders' Agreement\" }],\n      type: 'h1',\n    },\n    {\n      children: [{ text: '1. Roles and Responsibilities' }],\n      type: 'h1',\n    },\n    {\n      children: [{ text: '1.1 Flexible Roles' }],\n      type: 'h2',\n    },\n    {\n      children: [\n        {\n          text: 'The Co-Founders acknowledge and agree that the roles and responsibilities within the Company will be dynamic and subject to change as the business evolves. Each Co-Founder commits to adapting their role as necessary for the benefit of the Company.',\n        },\n      ],\n      type: 'p',\n    },\n    {\n      children: [{ text: '1.2 Initial Role Allocation' }],\n      type: 'h2',\n    },\n    {\n      children: [\n        {\n          text: 'Notwithstanding the flexible nature of the roles, the initial primary responsibilities of each Co-Founder shall be as follows:',\n        },\n      ],\n      type: 'p',\n    },\n    {\n      children: [\n        {\n          text: 'Co-Founder 1: [DESCRIPTION OF INITIAL RESPONSIBILITIES]',\n        },\n      ],\n      type: 'p',\n    },\n    {\n      children: [\n        {\n          text: 'Co-Founder 2: [DESCRIPTION OF INITIAL RESPONSIBILITIES]',\n        },\n      ],\n      type: 'p',\n    },\n    {\n      children: [\n        {\n          text: 'Co-Founder 3: [DESCRIPTION OF INITIAL RESPONSIBILITIES]',\n        },\n      ],\n      type: 'p',\n    },\n    {\n      children: [{ text: '1.3 Duty to Company Success' }],\n      type: 'h2',\n    },\n    {\n      children: [\n        {\n          text: 'Each Co-Founder hereby affirms and agrees that their primary and overriding obligation shall be to promote and ensure the success of the Company. This obligation shall take precedence over individual interests or preferences in all business-related decisions and actions.',\n        },\n      ],\n      type: 'p',\n    },\n    {\n      children: [{ text: '2. Equity Distribution' }],\n      type: 'h1',\n    },\n    {\n      children: [{ text: '2.1 Initial Equity' }],\n      type: 'h2',\n    },\n    {\n      children: [\n        {\n          text: 'The total equity of the Company shall be divided among the Co-Founders as follows:',\n        },\n      ],\n      type: 'p',\n    },\n    {\n      children: [\n        {\n          text: 'Co-Founder 1: [PERCENTAGE]%',\n        },\n      ],\n      type: 'p',\n    },\n    {\n      children: [\n        {\n          text: 'Co-Founder 2: [PERCENTAGE]%',\n        },\n      ],\n      type: 'p',\n    },\n    {\n      children: [\n        {\n          text: 'Co-Founder 3: [PERCENTAGE]%',\n        },\n      ],\n      type: 'p',\n    },\n    {\n      children: [{ text: '2.2 Equity Type' }],\n      type: 'h2',\n    },\n  ];\n}","\n'use client';\n\nimport React, { createContext, useContext } from 'react';\n\nimport { useVersionHistory } from '@/hooks/use-version-history';\n\ntype VersionHistoryContextType = ReturnType<typeof useVersionHistory>;\n\nconst VersionHistoryContext = createContext<VersionHistoryContextType | null>(null);\n\nexport function VersionHistoryProvider({ children }: { children: React.ReactNode }) {\n  const versionHistory = useVersionHistory();\n  \n  return (\n    <VersionHistoryContext.Provider value={versionHistory}>\n      {children}\n    </VersionHistoryContext.Provider>\n  );\n}\n\nexport function useVersionHistoryContext() {\n  const context = useContext(VersionHistoryContext);\n  if (!context) {\n    throw new Error('useVersionHistoryContext must be used within a VersionHistoryProvider');\n  }\n  return context;\n}\n","\n'use client';\n\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { type PlateEditor, useEditorRef } from '@udecode/plate/react';\nimport { ChevronLeft, ChevronRight, X } from 'lucide-react';\n\nimport { Button } from './button';\nimport { Input } from './input';\n\ninterface Placeholder {\n  key: string;\n  id: string;\n  headingId: string;\n  label: string;\n  position: { offset: number; path: number[] };\n  subHeadingId: string;\n}\n\ninterface Heading {\n  id: string;\n  level: number;\n  placeholders: Placeholder[];\n  position: number[];\n  text: string;\n}\n\ninterface SubHeading {\n  id: string;\n  parentId: string;\n  placeholders: Placeholder[];\n  text: string;\n}\n\nexport function FieldInputSidebar() {\n  const editor = useEditorRef();\n  const [placeholders, setPlaceholders] = useState<Placeholder[]>([]);\n  const [headings, setHeadings] = useState<Heading[]>([]);\n  const [subHeadings, setSubHeadings] = useState<SubHeading[]>([]);\n  const [selectedSubHeading, setSelectedSubHeading] = useState<string | null>(null);\n  const [fieldValues, setFieldValues] = useState<Record<string, string>>({});\n  const [tempFieldValues, setTempFieldValues] = useState<Record<string, string>>({});\n\n  // Scan document for headings and placeholders\n  const scanDocument = React.useCallback(() => {\n    if (!editor?.children) return;\n\n    const newHeadings: Heading[] = [];\n    const newSubHeadings: SubHeading[] = [];\n    const newPlaceholders: Placeholder[] = [];\n    const placeholderRegex = /\\[([^\\]]+)\\]/g;\n\n    let currentH1: Heading | null = null;\n    let currentH2: SubHeading | null = null;\n\n    const traverseNode = (node: any, path: number[]) => {\n      if (node.type === 'h1' || node.type === 'h2' || node.type === 'h3') {\n        const text = node.children?.map((child: any) => child.text || '').join('') || '';\n        const headingId = `heading-${path.join('-')}`;\n\n        if (node.type === 'h1') {\n          currentH1 = {\n            id: headingId,\n            level: 1,\n            placeholders: [],\n            position: path,\n            text,\n          };\n          newHeadings.push(currentH1);\n          currentH2 = null;\n        } else if (node.type === 'h2' || node.type === 'h3') {\n          const subHeadingId = `subheading-${path.join('-')}`;\n          currentH2 = {\n            id: subHeadingId,\n            parentId: currentH1?.id || 'root',\n            placeholders: [],\n            text,\n          };\n          newSubHeadings.push(currentH2);\n        }\n      }\n\n      // Look for placeholders in text nodes\n      if (node.text) {\n        const text = node.text;\n        let match;\n        while ((match = placeholderRegex.exec(text)) !== null) {\n          const key = match[1];\n          const beforeText = text.substring(0, match.index);\n          const label = extractLabel(beforeText);\n          \n          const placeholder: Placeholder = {\n            key,\n            id: `placeholder-${path.join('-')}-${match.index}`,\n            headingId: currentH1?.id || 'root',\n            label,\n            position: { offset: match.index, path },\n            subHeadingId: currentH2?.id || 'root',\n          };\n\n          newPlaceholders.push(placeholder);\n          \n          if (currentH2) {\n            currentH2.placeholders.push(placeholder);\n          } else if (currentH1) {\n            currentH1.placeholders.push(placeholder);\n          }\n        }\n      }\n\n      // Recursively traverse children\n      if (node.children) {\n        node.children.forEach((child: any, index: number) => {\n          traverseNode(child, [...path, index]);\n        });\n      }\n    };\n\n    editor.children.forEach((node, index) => {\n      traverseNode(node, [index]);\n    });\n\n    setHeadings(newHeadings);\n    setSubHeadings(newSubHeadings);\n    setPlaceholders(newPlaceholders);\n\n    // Initialize field values\n    const initialValues: Record<string, string> = {};\n    newPlaceholders.forEach(p => {\n      initialValues[p.id] = p.key;\n    });\n    setFieldValues(initialValues);\n    setTempFieldValues(initialValues);\n  }, [editor]);\n\n  // Extract label from text before placeholder\n  const extractLabel = (beforeText: string): string => {\n    const lines = beforeText.split('\\n');\n    const lastLine = lines[lines.length - 1];\n    \n    // Look for patterns like \"Co-Founder 1:\" or \" Description:\"\n    const labelMatch = lastLine.match(/([^.]*[:\\-]\\s*)$/);\n    if (labelMatch) {\n      return labelMatch[1].trim();\n    }\n    \n    // Fallback to last few words\n    const words = lastLine.trim().split(/\\s+/);\n    return words.slice(-3).join(' ');\n  };\n\n  // Update placeholder in document\n  const updatePlaceholder = useCallback((placeholderId: string, newValue: string) => {\n    const placeholder = placeholders.find(p => p.id === placeholderId);\n    if (!placeholder || !editor) return;\n\n    try {\n      const bracketedText = `[${placeholder.key}]`;\n      \n      // Use Slate's transforms to update the document\n      const { children } = editor;\n      const plateEditor = editor as PlateEditor;\n      \n      // Find and replace the placeholder text\n      const findAndReplace = (nodes: any[], path: number[] = []) => {\n        for (let i = 0; i < nodes.length; i++) {\n          const node = nodes[i];\n          const currentPath = [...path, i];\n          \n          if (node.text && typeof node.text === 'string' && node.text.includes(bracketedText)) {\n            const beforeText = node.text.substring(0, node.text.indexOf(bracketedText));\n            const afterText = node.text.substring(node.text.indexOf(bracketedText) + bracketedText.length);\n            \n            // Replace the text using Slate transforms\n            plateEditor.tf.withoutNormalizing(() => {\n              if (beforeText || afterText) {\n                // Split the text node if needed\n                const startOffset = beforeText.length;\n                const endOffset = startOffset + bracketedText.length;\n                \n                plateEditor.tf.select({\n                  anchor: { offset: startOffset, path: currentPath },\n                  focus: { offset: endOffset, path: currentPath }\n                });\n                \n                plateEditor.tf.insertText(newValue);\n              } else {\n                // Replace entire text node\n                plateEditor.tf.setNodes({ text: newValue }, { at: currentPath });\n              }\n            });\n            \n            // Update the placeholder key for future references\n            setPlaceholders(prev => prev.map(p => \n              p.id === placeholderId ? { ...p, key: newValue } : p\n            ));\n            \n            return true;\n          }\n          \n          // Recursively search children\n          if (node.children && Array.isArray(node.children)) {\n            if (findAndReplace(node.children, currentPath)) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n\n      findAndReplace(children);\n      \n      // Update local field values\n      setFieldValues(prev => ({ ...prev, [placeholderId]: newValue }));\n      \n    } catch (error) {\n      console.error('Error updating placeholder:', error);\n    }\n  }, [editor, placeholders]);\n\n  // Group subheadings with placeholders by parent heading\n  const sectionsWithPlaceholders = useMemo(() => {\n    const sections: Record<string, { heading: Heading; subHeadings: SubHeading[] }> = {};\n    \n    headings.forEach(heading => {\n      const headingSubHeadings = subHeadings.filter(\n        sub => sub.parentId === heading.id && sub.placeholders.length > 0\n      );\n      \n      if (headingSubHeadings.length > 0 || heading.placeholders.length > 0) {\n        sections[heading.id] = {\n          heading,\n          subHeadings: headingSubHeadings\n        };\n      }\n    });\n\n    return sections;\n  }, [headings, subHeadings]);\n\n  // Get available subheadings for navigation\n  const availableSubHeadings = useMemo(() => {\n    return subHeadings.filter(sub => sub.placeholders.length > 0);\n  }, [subHeadings]);\n\n  // Navigate to previous/next subheading\n  const navigateSubHeading = (direction: 'next' | 'prev') => {\n    if (!selectedSubHeading) return;\n    \n    const currentIndex = availableSubHeadings.findIndex(sub => sub.id === selectedSubHeading);\n    if (currentIndex === -1) return;\n    \n    const newIndex = direction === 'prev' \n      ? Math.max(0, currentIndex - 1)\n      : Math.min(availableSubHeadings.length - 1, currentIndex + 1);\n    \n    setSelectedSubHeading(availableSubHeadings[newIndex].id);\n  };\n\n  // Scroll to heading in editor\n  const scrollToHeading = (headingId: string) => {\n    // This would need to be implemented based on your editor setup\n    console.log('Scroll to heading:', headingId);\n  };\n\n  useEffect(() => {\n    scanDocument();\n  }, [scanDocument]);\n\n  // Re-scan when editor content changes (but avoid infinite loops)\n  useEffect(() => {\n    if (!editor) return;\n    \n    // Debounce the scan to avoid performance issues\n    const timeoutId = setTimeout(() => {\n      scanDocument();\n    }, 500);\n    \n    return () => clearTimeout(timeoutId);\n  }, [editor?.children, scanDocument]);\n\n  const selectedSubHeadingData = selectedSubHeading \n    ? subHeadings.find(sub => sub.id === selectedSubHeading)\n    : null;\n\n  const parentHeading = selectedSubHeadingData\n    ? headings.find(h => h.id === selectedSubHeadingData.parentId)\n    : null;\n\n  if (Object.keys(sectionsWithPlaceholders).length === 0) {\n    return (\n      <div className=\"p-4 text-center text-gray-500\">\n        No fields to fill.\n      </div>\n    );\n  }\n\n  if (selectedSubHeading && selectedSubHeadingData) {\n    return (\n      <div className=\"flex flex-col h-full\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b\">\n          <Button\n            size=\"sm\"\n            variant=\"ghost\"\n            onClick={() => setSelectedSubHeading(null)}\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n          \n          <div className=\"flex-1 mx-4 text-center\">\n            <div className=\"text-sm font-medium text-gray-900\">\n              {parentHeading?.text || 'Section'}\n            </div>\n            <div className=\"text-xs text-gray-500\">\n              {selectedSubHeadingData.text}\n            </div>\n          </div>\n          \n          <div className=\"flex space-x-1\">\n            <Button\n              size=\"sm\"\n              variant=\"ghost\"\n              disabled={availableSubHeadings.findIndex(sub => sub.id === selectedSubHeading) === 0}\n              onClick={() => navigateSubHeading('prev')}\n            >\n              <ChevronLeft className=\"h-4 w-4\" />\n            </Button>\n            <Button\n              size=\"sm\"\n              variant=\"ghost\"\n              disabled={availableSubHeadings.findIndex(sub => sub.id === selectedSubHeading) === availableSubHeadings.length - 1}\n              onClick={() => navigateSubHeading('next')}\n            >\n              <ChevronRight className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Fields */}\n        <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n          {selectedSubHeadingData.placeholders.map((placeholder) => (\n            <div key={placeholder.id} className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-gray-700\">\n                {placeholder.label || 'Field'}\n              </label>\n              <Input\n                className=\"w-full\"\n                value={tempFieldValues[placeholder.id] || ''}\n                onChange={(e) => {\n                  const newValue = e.target.value;\n                  // Update temporary field values for UI responsiveness\n                  setTempFieldValues(prev => ({ ...prev, [placeholder.id]: newValue }));\n                }}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter') {\n                    const newValue = tempFieldValues[placeholder.id] || '';\n                    // Update the editor document only on Enter\n                    updatePlaceholder(placeholder.id, newValue);\n                    // Sync the permanent field values\n                    setFieldValues(prev => ({ ...prev, [placeholder.id]: newValue }));\n                  }\n                }}\n                placeholder=\"Enter value... (Press Enter to confirm)\"\n              />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-4 space-y-2\">\n      {Object.values(sectionsWithPlaceholders).map(({ heading, subHeadings: sectionSubHeadings }) => (\n        <div key={heading.id} className=\"space-y-1\">\n          <div className=\"text-sm font-medium text-gray-900\">\n            {heading.text}\n          </div>\n          {sectionSubHeadings.map((subHeading) => (\n            <Button\n              key={subHeading.id}\n              variant=\"ghost\"\n              className=\"w-full justify-start text-left h-auto p-2\"\n              onClick={() => {\n                setSelectedSubHeading(subHeading.id);\n                scrollToHeading(subHeading.id);\n              }}\n            >\n              <div className=\"flex items-center justify-between w-full\">\n                <span className=\"text-sm text-gray-600\">\n                   {subHeading.text}\n                </span>\n                <span className=\"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded\">\n                  {subHeading.placeholders.length}\n                </span>\n              </div>\n            </Button>\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n}\n","'use client';\n\nimport React, { useState } from 'react';\n\nimport { ArrowRight, ArrowUp, Check, Edit3, MessageCircleQuestion, RotateCcw, X } from 'lucide-react';\n\nimport { useChat } from '@/components/editor/use-chat';\nimport { cn } from '@/lib/utils';\n\nimport { FieldInputSidebar } from './field-input-sidebar';\n\ninterface AISidebarProps {\n  isOpen: boolean;\n  onClose: () => void;\n  editorContent?: string;\n  onUpdateEditorContent?: (content: string) => void;\n}\n\ninterface ChatMessage {\n  prompt: string;\n  response: string;\n  isAccepted?: boolean;\n  mode?: 'ask' | 'edit';\n  originalContent?: string;\n}\n\ntype AIMode = 'ask' | 'edit';\n\nexport function AISidebar({ editorContent = '', isOpen, onClose, onUpdateEditorContent }: AISidebarProps) {\n  const [activeTab, setActiveTab] = useState<'ask-ai' | 'field-input'>('ask-ai');\n  const [input, setInput] = useState('');\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentPrompt, setCurrentPrompt] = useState('');\n  const [aiMode, setAiMode] = useState<AIMode>('ask');\n  const [pendingEditContent, setPendingEditContent] = useState<string | null>(null);\n\n  const chat = useChat();\n\n  const handleSubmit = async () => {\n    if (!input.trim() || isLoading) return;\n\n    const prompt = input.trim();\n    setCurrentPrompt(prompt);\n    setInput('');\n    setIsLoading(true);\n\n    const isEditMode = aiMode === 'edit';\n    \n    // Store original content for potential revert\n    const originalContent = editorContent;\n\n    try {\n      const messageContent = isEditMode \n        ? `${prompt}\\n\\nDocument content to edit:\\n${editorContent}`\n        : `${prompt}\\n\\nDocument context:\\n${editorContent}`;\n\n      const systemPrompt = isEditMode\n        ? \"You are a document editor AI. When given editing instructions, return ONLY the edited document content without any explanations, markdown formatting, or additional text. Make the requested changes to the document and return the complete modified document.\"\n        : \"You are a helpful AI assistant. Answer questions about the provided document context. Be concise and helpful.\";\n\n      const result = await fetch('/api/ai/command', {\n        body: JSON.stringify({\n          apiKey: process.env.NEXT_PUBLIC_OPENAI_API_KEY || '',\n          messages: [\n            {\n              content: systemPrompt,\n              role: 'system',\n            },\n            {\n              content: messageContent,\n              role: 'user',\n            },\n          ],\n          model: 'gpt-3.5-turbo',\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        method: 'POST',\n      });\n\n      if (!result.ok) {\n        // Use placeholder response instead of throwing error\n        const placeholderResponse = isEditMode\n          ? \"I understand you want to edit this document. However, I'm currently unable to process editing requests. Please check your AI configuration and try again.\"\n          : \"I understand you're asking about this document. Here's a thoughtful response based on the content: This appears to be a comprehensive document that covers various aspects of the topic at hand. The structure demonstrates careful organization and attention to detail. For more specific insights, please feel free to ask more targeted questions about particular sections or concepts you'd like me to elaborate on.\";\n        \n        setMessages(prev => [...prev, { \n          mode: aiMode, \n          originalContent: isEditMode ? originalContent : undefined,\n          prompt,\n          response: placeholderResponse\n        }]);\n        setIsLoading(false);\n        setCurrentPrompt('');\n        return;\n      }\n\n      const reader = result.body?.getReader();\n      if (!reader) {\n        // Use placeholder response instead of throwing error\n        const placeholderResponse = isEditMode\n          ? \"I'm unable to process your editing request at the moment. Please try again later.\"\n          : \"Thank you for your question. I'm here to help you understand and work with this document. While I process your request, please know that I can assist with editing, explaining concepts, formatting suggestions, and much more. Feel free to ask me anything specific about the content you're working on.\";\n        \n        setMessages(prev => [...prev, { \n          mode: aiMode, \n          originalContent: isEditMode ? originalContent : undefined,\n          prompt,\n          response: placeholderResponse\n        }]);\n        setIsLoading(false);\n        setCurrentPrompt('');\n        return;\n      }\n\n      let responseText = '';\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n\n        const chunk = new TextDecoder().decode(value);\n        const lines = chunk.split('\\n');\n\n        for (const line of lines) {\n          if (line.startsWith('0:')) {\n            try {\n              const content = JSON.parse(line.slice(2));\n              responseText += content;\n            } catch (e) {\n              // Continue processing other lines\n            }\n          }\n        }\n      }\n\n      // Handle response based on mode\n      const finalResponse = responseText || (isEditMode \n        ? \"I've processed your editing request. Please review the changes.\"\n        : \"I've received your request and am ready to help. Please let me know if you'd like me to elaborate on any specific aspect of the document or if you have particular editing tasks you'd like assistance with.\");\n\n      if (isEditMode && responseText) {\n        // In edit mode, update the editor content live\n        setPendingEditContent(responseText);\n        if (onUpdateEditorContent) {\n          onUpdateEditorContent(responseText);\n        }\n      }\n\n      // Add the new message\n      setMessages(prev => [...prev, { \n        mode: aiMode, \n        originalContent: isEditMode ? originalContent : undefined,\n        prompt,\n        response: finalResponse\n      }]);\n    } catch (error) {\n      console.error('AI request failed:', error);\n      setMessages(prev => [...prev, { \n        mode: aiMode, \n        originalContent: isEditMode ? originalContent : undefined,\n        prompt,\n        response: 'Sorry, I encountered an error. Please try again.'\n      }]);\n    } finally {\n      setIsLoading(false);\n      setCurrentPrompt('');\n    }\n  };\n\n  const handleAccept = (index: number) => {\n    const message = messages[index];\n    if (message?.mode === 'edit') {\n      // For edit mode, accept means keep the current changes\n      setPendingEditContent(null);\n    }\n    setMessages(prev => prev.map((msg, i) => \n      i === index ? { ...msg, isAccepted: true } : msg\n    ));\n  };\n\n  const handleReject = (index: number) => {\n    const message = messages[index];\n    if (message?.mode === 'edit' && message.originalContent && onUpdateEditorContent) {\n      // For edit mode, reject means revert to original content\n      onUpdateEditorContent(message.originalContent);\n      setPendingEditContent(null);\n    }\n    setMessages(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const handleRedo = async (index: number) => {\n    const message = messages[index];\n    if (!message) return;\n\n    setIsLoading(true);\n    setCurrentPrompt(message.prompt);\n\n    const isEditMode = message.mode === 'edit';\n    const contentToUse = message.originalContent || editorContent;\n\n    try {\n      const messageContent = isEditMode \n        ? `${message.prompt}\\n\\nDocument content to edit:\\n${contentToUse}`\n        : `${message.prompt}\\n\\nDocument context:\\n${editorContent}`;\n\n      const systemPrompt = isEditMode\n        ? \"You are a document editor AI. When given editing instructions, return ONLY the edited document content without any explanations, markdown formatting, or additional text. Make the requested changes to the document and return the complete modified document.\"\n        : \"You are a helpful AI assistant. Answer questions about the provided document context. Be concise and helpful.\";\n\n      const result = await fetch('/api/ai/command', {\n        body: JSON.stringify({\n          apiKey: process.env.NEXT_PUBLIC_OPENAI_API_KEY || '',\n          messages: [\n            {\n              content: systemPrompt,\n              role: 'system',\n            },\n            {\n              content: messageContent,\n              role: 'user',\n            },\n          ],\n          model: 'gpt-3.5-turbo',\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        method: 'POST',\n      });\n\n      if (!result.ok) {\n        // Use placeholder response instead of throwing error\n        const placeholderResponse = isEditMode\n          ? \"I'm unable to regenerate the editing request at the moment. Please try again later.\"\n          : \"Here's an alternative perspective on your question: The document contains valuable information that can be approached from multiple angles. Consider exploring different sections to gain a comprehensive understanding. I'm here to help you navigate through the content and provide insights tailored to your specific needs.\";\n        \n        setMessages(prev => prev.map((msg, i) => \n          i === index ? { ...msg, isAccepted: false, response: placeholderResponse } : msg\n        ));\n        setIsLoading(false);\n        setCurrentPrompt('');\n        return;\n      }\n\n      const reader = result.body?.getReader();\n      if (!reader) {\n        // Use placeholder response instead of throwing error\n        const placeholderResponse = isEditMode\n          ? \"I'm unable to regenerate the editing request at the moment. Please try again later.\"\n          : \"I'm regenerating a response for you. This document offers rich content that can be analyzed from various perspectives. Let me provide you with helpful insights and suggestions to enhance your understanding and editing experience.\";\n        \n        setMessages(prev => prev.map((msg, i) => \n          i === index ? { ...msg, isAccepted: false, response: placeholderResponse } : msg\n        ));\n        setIsLoading(false);\n        setCurrentPrompt('');\n        return;\n      }\n\n      let responseText = '';\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n\n        const chunk = new TextDecoder().decode(value);\n        const lines = chunk.split('\\n');\n\n        for (const line of lines) {\n          if (line.startsWith('0:')) {\n            try {\n              const content = JSON.parse(line.slice(2));\n              responseText += content;\n            } catch (e) {\n              // Continue processing other lines\n            }\n          }\n        }\n      }\n\n      // Handle redo response based on mode\n      const finalResponse = responseText || (isEditMode \n        ? \"I've regenerated the editing changes. Please review.\"\n        : \"Here's a regenerated response with fresh insights about your document. I'm continuously learning to provide better assistance with your editing and content needs.\");\n\n      if (isEditMode && responseText && onUpdateEditorContent) {\n        // Update editor content with new changes\n        onUpdateEditorContent(responseText);\n        setPendingEditContent(responseText);\n      }\n\n      // Replace the message at the index\n      setMessages(prev => prev.map((msg, i) => \n        i === index ? { ...msg, isAccepted: false, response: finalResponse } : msg\n      ));\n    } catch (error) {\n      console.error('AI request failed:', error);\n      setMessages(prev => prev.map((msg, i) => \n        i === index ? { ...msg, response: 'Sorry, I encountered an error. Please try again.' } : msg\n      ));\n    } finally {\n      setIsLoading(false);\n      setCurrentPrompt('');\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && (e.metaKey || e.ctrlKey)) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed right-0 top-14 w-80 bg-white border-l border-gray-200 shadow-lg flex flex-col flex-shrink-0 h-full z-50\">\n      {/* Header */}\n      <div className=\"border-b border-gray-200 p-4 flex-shrink-0\">\n      <div className=\"flex items-center mb-4\">\n          <button\n            className=\"text-gray-400 hover:text-gray-600 transition-colors mr-3\"\n            onClick={onClose}\n            aria-label=\"Close sidebar\"\n          >\n            <ArrowRight className=\"h-5 w-5\" />\n          </button>\n          <h2 className=\"text-base font-semibold text-gray-900 flex-1 text-center\">Barum AI</h2>\n        </div>\n\n        {/* Tab Buttons */}\n        <div className=\"flex space-x-0\">\n          <button\n            className={cn(\n              'flex-1 px-4 py-2 text-sm font-medium border border-gray-300 transition-colors',\n              activeTab === 'field-input'\n              ? 'bg-[#274F2D] text-white border-[#274F2D]'\n              : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n            )}\n            onClick={() => setActiveTab('field-input')}\n          >\n            Field input\n          </button>\n          <button\n            className={cn(\n              'flex-1 px-4 py-2 text-sm font-medium border border-l-0 border-gray-300 transition-colors',\n              activeTab === 'ask-ai'\n                ? 'bg-[#274F2D] text-white border-[#274F2D]'\n                : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n            )}\n            onClick={() => setActiveTab('ask-ai')}\n          >\n            Ask AI\n          </button>\n        </div>\n      </div>\n\n      {/* Content Area */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4 min-h-0\">\n        {activeTab === 'ask-ai' && (\n          <>\n            {/* Current Loading Prompt */}\n            {isLoading && currentPrompt && (\n              <div className=\"space-y-3\">\n                <div className=\"bg-[#f1f3f4] rounded-lg px-3 py-2 text-sm text-gray-700 shadow-sm\">\n                  {currentPrompt}\n                </div>\n                <div className=\"border border-[#e0e0e0] rounded-lg p-4 bg-white\">\n                  <div className=\"flex items-center space-x-2 text-gray-500\">\n                    <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-[#274F2D]\" />\n                    <span className=\"text-sm\">Thinking...</span>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Chat Messages */}\n            {messages.map((message, index) => (\n              <div key={index} className=\"space-y-3\">\n                {/* User Prompt */}\n                <div className=\"bg-[#f1f3f4] rounded-lg px-3 py-2 text-sm text-gray-700 shadow-sm\">\n                  <div className=\"flex items-center gap-2 mb-1\">\n                    {message.mode === 'edit' ? (\n                      <Edit3 className=\"h-3 w-3 text-orange-600\" />\n                    ) : (\n                      <MessageCircleQuestion className=\"h-3 w-3 text-blue-600\" />\n                    )}\n                    <span className=\"text-xs font-medium text-gray-500\">\n                      {message.mode === 'edit' ? 'Editor Mode' : 'Ask Mode'}\n                    </span>\n                  </div>\n                  {message.prompt}\n                </div>\n\n                {/* AI Response */}\n                <div className={cn(\n                  \"rounded-lg p-4 bg-white transition-all\",\n                  message.isAccepted \n                    ? \"border-0 shadow-none\" \n                    : message.mode === 'edit'\n                    ? \"border border-orange-200 shadow-sm bg-orange-50\"\n                    : \"border border-[#e0e0e0] shadow-sm\"\n                )}>\n                  {message.mode === 'edit' && !message.isAccepted && (\n                    <div className=\"text-xs text-orange-600 mb-2 font-medium\">\n                       Document has been updated live. Review changes below.\n                    </div>\n                  )}\n                  <div className=\"prose max-w-none text-sm text-gray-700 leading-relaxed\">\n                    {message.response}\n                  </div>\n\n                  {/* Action Buttons */}\n                  {!message.isAccepted && (\n                    <div className=\"flex items-center justify-center space-x-3 mt-4 pt-3 border-t border-gray-100\">\n                      <button\n                        className=\"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 hover:bg-green-50 hover:border-green-300 hover:text-green-600 transition-colors\"\n                        onClick={() => handleAccept(index)}\n                        title=\"Accept\"\n                        aria-label=\"Accept\"\n                      >\n                        <Check className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        className=\"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 hover:bg-red-50 hover:border-red-300 hover:text-red-600 transition-colors\"\n                        onClick={() => handleReject(index)}\n                        title=\"Reject\"\n                        aria-label=\"Reject\"\n                      >\n                        <X className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        className=\"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 text-gray-600 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600 transition-colors\"\n                        onClick={() => handleRedo(index)}\n                        title=\"Regenerate\"\n                        aria-label=\"Regenerate\"\n                      >\n                        <RotateCcw className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n          </>\n        )}\n\n        {activeTab === 'field-input' && (\n          <FieldInputSidebar />\n        )}\n      </div>\n\n      {/* Input Area - Fixed at bottom */}\n      {activeTab === 'ask-ai' && (\n        <div className=\"border-t border-gray-200 p-4 space-y-3 flex-shrink-0 bg-white\">\n          {/* Mode Toggle */}\n          <div className=\"flex space-x-2 mb-3\">\n            <button\n              className={cn(\n                'flex-1 flex items-center justify-center gap-2 px-3 py-2 text-xs font-medium rounded-md border transition-colors',\n                aiMode === 'ask'\n                  ? 'bg-[#274F2D] text-white border-[#274F2D]'\n                  : 'bg-gray-50 text-gray-600 border-gray-300 hover:bg-gray-100'\n              )}\n              onClick={() => setAiMode('ask')}\n            >\n              <MessageCircleQuestion className=\"h-3 w-3\" />\n              Ask Mode\n            </button>\n            <button\n              className={cn(\n                'flex-1 flex items-center justify-center gap-2 px-3 py-2 text-xs font-medium rounded-md border transition-colors',\n                aiMode === 'edit'\n                  ? 'bg-[#274F2D] text-white border-[#274F2D]'\n                  : 'bg-gray-50 text-gray-600 border-gray-300 hover:bg-gray-100'\n              )}\n              onClick={() => setAiMode('edit')}\n            >\n              <Edit3 className=\"h-3 w-3\" />\n              Editor Mode\n            </button>\n          </div>\n\n          {/* Mode Description */}\n          <div className=\"text-xs text-gray-500 mb-2\">\n            {aiMode === 'ask' \n              ? 'Ask questions about your document. Responses appear in the sidebar.'\n              : 'Edit your document with AI. Changes apply directly to the editor with accept/reject options.'\n            }\n          </div>\n\n          {/* Input Field */}\n          <div className=\"relative\">\n            <textarea\n              className=\"w-full resize-none rounded-lg border border-gray-300 p-3 pr-12 text-sm focus:border-[#274F2D] focus:outline-none focus:ring-1 focus:ring-[#274F2D] placeholder-gray-400 transition-colors\"\n              disabled={isLoading}\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyDown={handleKeyDown}\n              placeholder={aiMode === 'ask' ? 'Ask a question about your document...' : 'Describe how to edit your document...'}\n              rows={1}\n            />\n            <button\n              className={cn(\n                'absolute bottom-3 right-2 flex h-8 w-8 items-center justify-center rounded-full transition-colors',\n                input.trim() && !isLoading\n                  ? 'bg-[#274F2D] text-white hover:bg-[#1e3d23]'\n                  : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n              )}\n              disabled={!input.trim() || isLoading}\n              onClick={handleSubmit}\n              aria-label=\"Submit\"\n            >\n              {isLoading ? (\n                <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent\" />\n              ) : (\n                <ArrowUp className=\"h-4 w-4\" />\n              )}\n            </button>\n          </div>\n\n          {/* Disclaimer */}\n          <p className=\"text-xs text-gray-500 text-center\">\n            Barum can make mistakes. Please check responses.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}","\n'use client';\n\nimport * as React from 'react';\n\nimport type { SlateEditor } from '@udecode/plate';\n\nimport { HEADING_KEYS, isHeading } from '@udecode/plate-heading';\nimport { useEditorSelector } from '@udecode/plate/react';\n\nimport { cn } from '@/lib/utils';\n\ninterface DocumentOutlineProps {\n  editor: SlateEditor;\n}\n\ninterface HeadingItem {\n  id: string;\n  level: number;\n  path: number[];\n  title: string;\n}\n\nfunction getHeadingList(editor: SlateEditor): HeadingItem[] {\n  const headings: HeadingItem[] = [];\n  \n  const nodes = editor.children || [];\n  \n  nodes.forEach((node, index) => {\n    if (isHeading(node)) {\n      const headingKeys = Object.values(HEADING_KEYS) as string[];\n      const nodeType = node.type as keyof typeof HEADING_KEYS;\n      const level = headingKeys.indexOf(nodeType) + 1;\n      \n      // Extract text more robustly, handling nested structures\n      const extractText = (children: any[]): string => {\n        return children.map((child: any) => {\n          if (typeof child === 'string') return child;\n          if (child.text) return child.text;\n          if (child.children) return extractText(child.children);\n          return '';\n        }).join('').trim();\n      };\n      \n      const title = node.children ? extractText(node.children) : '';\n      \n      if (title) {\n        headings.push({\n          id: `heading-${index}`,\n          level,\n          path: [index],\n          title: title.replace(/\\s+/g, ' ').trim(), // Normalize whitespace\n        });\n      }\n    }\n  });\n  \n  return headings;\n}\n\nexport function DocumentOutline({ editor }: DocumentOutlineProps) {\n  const [activeHeadingId, setActiveHeadingId] = React.useState<string | null>(null);\n  \n  const headingList = useEditorSelector(\n    (editor) => getHeadingList(editor),\n    [editor]\n  );\n\n  const scrollToHeading = (path: number[], headingId: string) => {\n    const targetHeading = headingList.find(h => h.path.join(',') === path.join(','));\n    if (!targetHeading) return;\n    \n    // Set the active heading\n    setActiveHeadingId(headingId);\n\n    // Try multiple approaches to find the heading element\n    let element: Element | null = null;\n    \n    // Method 1: Try data attribute selectors\n    const selectors = [\n      `[data-slate-node=\"element\"][data-slate-path=\"${path.join(',')}\"]`,\n      `[data-slate-path=\"${path.join(',')}\"]`,\n      `[data-path=\"${path.join(',')}\"]`\n    ];\n    \n    for (const selector of selectors) {\n      element = document.querySelector(selector);\n      if (element) break;\n    }\n    \n    // Method 2: Find by exact text content match\n    if (!element) {\n      const allHeadings = document.querySelectorAll('h1, h2, h3, h4, h5, h6, [data-slate-node=\"element\"]');\n      for (const heading of allHeadings) {\n        const headingText = heading.textContent?.trim();\n        if (headingText === targetHeading.title) {\n          element = heading;\n          break;\n        }\n      }\n    }\n    \n    // Method 3: Find by partial text content match (for multi-line headings)\n    if (!element) {\n      const allHeadings = document.querySelectorAll('h1, h2, h3, h4, h5, h6, [data-slate-node=\"element\"]');\n      for (const heading of allHeadings) {\n        const headingText = heading.textContent?.trim().replace(/\\s+/g, ' ');\n        const targetText = targetHeading.title.trim().replace(/\\s+/g, ' ');\n        if (headingText && targetText && \n            (headingText.includes(targetText) || targetText.includes(headingText))) {\n          element = heading;\n          break;\n        }\n      }\n    }\n    \n    // Method 4: Try to find by searching within editor content\n    if (!element) {\n      const editorContent = document.querySelector('[data-slate-editor=\"true\"]');\n      if (editorContent) {\n        const walker = document.createTreeWalker(\n          editorContent,\n          NodeFilter.SHOW_ELEMENT,\n          {\n            acceptNode: (node) => {\n              const element = node as Element;\n              const text = element.textContent?.trim();\n              return text === targetHeading.title ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n            }\n          }\n        );\n        \n        let node;\n        while (node = walker.nextNode()) {\n          element = node as Element;\n          break;\n        }\n      }\n    }\n    \n    if (element) {\n      // Account for the fixed header and toolbar height\n      const headerHeight = 60;\n      const toolbarHeight = 49;\n      const offset = headerHeight + toolbarHeight + 20;\n      \n      const elementTop = element.getBoundingClientRect().top + window.pageYOffset;\n      const targetPosition = elementTop - offset;\n      \n      window.scrollTo({\n        behavior: 'smooth',\n        top: targetPosition\n      });\n    } else {\n      console.warn('Could not find heading element for:', targetHeading.title);\n    }\n  };\n\n  return (\n    <div className=\"fixed top-20 left-0 h-screen w-64 border-r border-border bg-background p-4 overflow-y-auto\">\n      \n      {headingList.length > 0 ? (\n        <div className=\"space-y-1\">\n          {headingList.map((heading) => (\n            <button\n              key={heading.id}\n              className={cn(\n                'w-full text-left text-sm rounded-sm px-2 py-1.5 transition-colors',\n                activeHeadingId === heading.id \n                  ? 'bg-black text-white' \n                  : 'hover:bg-accent hover:text-accent-foreground',\n                heading.level === 1 && 'font-medium',\n                heading.level === 2 && !activeHeadingId && 'pl-4 text-muted-foreground',\n                heading.level === 3 && !activeHeadingId && 'pl-6 text-muted-foreground',\n                heading.level >= 4 && !activeHeadingId && 'pl-8 text-muted-foreground',\n                heading.level === 2 && activeHeadingId === heading.id && 'pl-4',\n                heading.level === 3 && activeHeadingId === heading.id && 'pl-6',\n                heading.level >= 4 && activeHeadingId === heading.id && 'pl-8'\n              )}\n              onClick={() => scrollToHeading(heading.path, heading.id)}\n            >\n              {heading.level === 1 ? `${heading.title}` : ` ${heading.title}`}\n            </button>\n          ))}\n        </div>\n      ) : (\n        <div className=\"text-sm text-muted-foreground\">\n          No headings found. Add headings to see the document outline.\n        </div>\n      )}\n    </div>\n);\n}","\n'use client';\n\nimport React from 'react';\n\nimport { Wand2 } from 'lucide-react';\n\nimport { cn } from '@/lib/utils';\n\ninterface MagicWandButtonProps {\n  onClick: () => void;\n  className?: string;\n}\n\nexport function MagicWandButton({ className, onClick }: MagicWandButtonProps) {\n  return (\n    <button\n      className={cn(\n        'absolute top-16 right-4 z-40 flex h-10 w-10 items-center justify-center rounded-full bg-[#274F2D] text-white shadow-lg transition-all hover:bg-[#1e3d23] hover:shadow-xl',\n        className\n      )}\n      onClick={onClick}\n      aria-label=\"Open AI Assistant\"\n    >\n      <Wand2 className=\"h-5 w-5\" />\n    </button>\n  );\n}\n","\n'use client';\n\nimport * as React from 'react';\nimport { useState } from 'react';\n\nimport { format } from 'date-fns';\nimport { ChevronDownIcon, ClockIcon, EditIcon, TrashIcon } from 'lucide-react';\n\nimport { useVersionHistoryContext } from '@/components/editor/version-history-context';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog';\nimport { Button } from '@/components/ui/button';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { Input } from '@/components/ui/input';\n\nexport function VersionHistoryButton() {\n  const {\n    currentVersion,\n    versions,\n    handleDeleteVersion,\n    handleRenameVersion,\n    handleSaveNewVersion,\n    handleVersionSelect,\n  } = useVersionHistoryContext();\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [deleteVersionId, setDeleteVersionId] = useState<string | null>(null);\n  const [editingVersionId, setEditingVersionId] = useState<string | null>(null);\n  const [editingName, setEditingName] = useState('');\n\n  const displayVersion = currentVersion || versions[0];\n  const displayText = displayVersion \n    ? `${displayVersion.name}  ${format(displayVersion.date, 'MM/dd/yyyy h:mm a')}`\n    : 'No versions';\n\n  const handleEdit = (version: any, e: React.MouseEvent) => {\n    e.stopPropagation();\n    setEditingVersionId(version.id);\n    setEditingName(version.name);\n  };\n\n  const handleSaveEdit = () => {\n    if (editingVersionId && editingName.trim()) {\n      handleRenameVersion(editingVersionId, editingName.trim());\n    }\n    setEditingVersionId(null);\n    setEditingName('');\n  };\n\n  const handleDelete = (versionId: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    setDeleteVersionId(versionId);\n  };\n\n  const confirmDelete = () => {\n    if (deleteVersionId) {\n      handleDeleteVersion(deleteVersionId);\n      setDeleteVersionId(null);\n    }\n  };\n\n  return (\n    <>\n      <DropdownMenu open={isOpen} onOpenChange={setIsOpen}>\n        <DropdownMenuTrigger asChild>\n          <Button\n            size=\"sm\"\n            variant=\"ghost\"\n            className=\"h-8 px-3 text-sm font-normal text-muted-foreground hover:text-foreground border border-input\"\n          >\n            <ClockIcon className=\"mr-2 h-4 w-4\" />\n            {displayText}\n            <ChevronDownIcon className=\"ml-2 h-4 w-4\" />\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent className=\"w-96\" align=\"center\">\n          <div className=\"px-2 py-1.5\">\n            <h4 className=\"font-medium\">Version History</h4>\n          </div>\n          <DropdownMenuSeparator />\n          <DropdownMenuItem onClick={handleSaveNewVersion}>\n            <ClockIcon className=\"mr-2 h-4 w-4\" />\n            Save new version\n          </DropdownMenuItem>\n          <DropdownMenuSeparator />\n          <div className=\"max-h-60 overflow-y-auto\">\n            {versions.map((version) => (\n              <DropdownMenuItem\n                key={version.id}\n                className=\"flex items-center justify-between px-3 py-2 cursor-pointer\"\n                onClick={() => !editingVersionId && handleVersionSelect(version)}\n              >\n                <div className=\"flex flex-col items-start flex-1\">\n                  {editingVersionId === version.id ? (\n                    <Input\n                      className=\"h-6 text-sm font-medium\"\n                      value={editingName}\n                      onBlur={handleSaveEdit}\n                      onChange={(e) => setEditingName(e.target.value)}\n                      onClick={(e) => e.stopPropagation()}\n                      onKeyDown={(e) => {\n                        if (e.key === 'Enter') handleSaveEdit();\n                        if (e.key === 'Escape') {\n                          setEditingVersionId(null);\n                          setEditingName('');\n                        }\n                      }}\n                      autoFocus\n                    />\n                  ) : (\n                    <div className=\"flex items-center justify-between w-full\">\n                      <span className=\"font-medium\">\n                        {version.name}\n                      </span>\n                      {version.isCurrent && (\n                        <span className=\"text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded ml-2\">\n                          Current\n                        </span>\n                      )}\n                    </div>\n                  )}\n                  <span className=\"text-xs text-muted-foreground\">\n                    {format(version.date, 'MMMM d, yyyy  h:mm a')}\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-1 ml-2\">\n                  <Button\n                    size=\"sm\"\n                    variant=\"ghost\"\n                    className=\"h-6 w-6 p-0\"\n                    onClick={(e) => handleEdit(version, e)}\n                  >\n                    <EditIcon className=\"h-3 w-3\" />\n                  </Button>\n                  {versions.length > 1 && (\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      className=\"h-6 w-6 p-0 text-red-600 hover:text-red-700\"\n                      onClick={(e) => handleDelete(version.id, e)}\n                    >\n                      <TrashIcon className=\"h-3 w-3\" />\n                    </Button>\n                  )}\n                </div>\n              </DropdownMenuItem>\n            ))}\n          </div>\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      <AlertDialog open={!!deleteVersionId} onOpenChange={() => setDeleteVersionId(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Delete Version</AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to delete this version? This action cannot be undone.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction className=\"bg-red-600 hover:bg-red-700\" onClick={confirmDelete}>\n            Delete\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nimport { Plate } from '@udecode/plate/react';\nimport { useEditorRef, useEditorString } from '@udecode/plate/react';\nimport { ArrowLeft, User } from 'lucide-react';\n\nimport { AISidebarProvider, useAISidebar } from '@/components/editor/ai-sidebar-context';\nimport { useCreateEditor } from '@/components/editor/use-create-editor';\nimport { VersionHistoryProvider } from '@/components/editor/version-history-context';\nimport { AISidebar } from '@/components/ui/ai-sidebar';\nimport { Button } from '@/components/ui/button';\nimport { DocumentOutline } from '@/components/ui/document-outline';\nimport { Editor, EditorContainer } from '@/components/ui/editor';\nimport { FloatingToolbar } from '@/components/ui/floating-toolbar';\nimport { FloatingToolbarButtons } from '@/components/ui/floating-toolbar-buttons';\nimport { MagicWandButton } from '@/components/ui/magic-wand-button';\nimport { VersionHistoryButton } from '@/components/ui/version-history-button';\nimport { Toolbar } from '@/components/ui/toolbar';\nimport { ModeDropdownMenu } from '@/components/ui/mode-dropdown-menu';\n\ninterface PlateEditorProps {\n  initialTemplate?: {\n    content: string | null;\n    name: string | null;\n  } | null;\n}\n\nfunction AISidebarComponent() {\n  const { closeSidebar, isOpen } = useAISidebar();\n  const editor = useEditorRef();\n  \n  // Get current editor content using the hook\n  const editorString = useEditorString();\n  \n  const getEditorContent = () => {\n    if (!editor) return '';\n    try {\n      // Get the editor content as plain text using the correct Plate v48 API\n      return editorString || '';\n    } catch (error) {\n      console.error('Failed to get editor content:', error);\n      return '';\n    }\n  };\n\n  // Update editor content\n  const handleUpdateEditorContent = (newContent: string) => {\n    if (!editor) return;\n    try {\n      // Parse the new content and set it\n      const lines = newContent.split('\\n');\n      const nodes = lines.map(line => ({\n        children: [{ text: line }],\n        type: 'p',\n      }));\n      \n      editor.tf.setValue(nodes.length > 0 ? nodes : [{ children: [{ text: '' }], type: 'p' }]);\n    } catch (error) {\n      console.error('Failed to update editor content:', error);\n    }\n  };\n\n  return (\n    <AISidebar \n      onClose={closeSidebar} \n      onUpdateEditorContent={handleUpdateEditorContent}\n      editorContent={getEditorContent()}\n      isOpen={isOpen}\n    />\n  );\n}\n\nfunction MagicWandButtonComponent() {\n  const { openSidebar } = useAISidebar();\n\n  return <MagicWandButton onClick={openSidebar} />;\n}\n\nexport function PlateEditor({ initialTemplate }: PlateEditorProps = {}) {\n  // Create initial value based on template to prevent flicker\n  const templateValue = React.useMemo(() => {\n    if (initialTemplate?.content) {\n      return [\n        {\n          children: [{ text: initialTemplate.name || 'Document' }],\n          type: 'h1',\n        },\n        {\n          children: [{ text: '' }],\n          type: 'p',\n        },\n        ...initialTemplate.content.split('\\n\\n').map(paragraph => ({\n          children: [{ text: paragraph }],\n          type: 'p',\n        })),\n      ];\n    }\n    // Default: blank new document (original Plate.js behavior)\n    return [\n      {\n        children: [{ text: 'New Document' }],\n        type: 'h1',\n      },\n      {\n        children: [{ text: '' }],\n        type: 'p',\n      },\n    ];\n  }, [initialTemplate]);\n\n  const editor = useCreateEditor({ value: templateValue });\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Plate editor={editor}>\n        <AISidebarProvider>\n          <VersionHistoryProvider>\n            <div className=\"flex h-screen w-screen bg-white font-sans\">\n              {/* Sidebar: minimal, just outline */}\n              <aside className=\"w-56 border-r border-border bg-white p-6 pt-8 flex-shrink-0 overflow-y-auto\">\n                <DocumentOutline editor={editor} />\n              </aside>\n              {/* Main content */}\n              <main className=\"flex-1 flex flex-col min-w-0\">\n                {/* Toolbar: Figma style */}\n                <Toolbar className=\"sticky top-0 z-50 flex items-center justify-between px-8 py-4 border-b border-border bg-white gap-4\">\n                  {/* Left: Save, Share, etc. */}\n                  <div className=\"flex items-center gap-2\">\n                    <Button size=\"sm\" variant=\"ghost\" className=\"h-8 px-3\">Save</Button>\n                    <Button size=\"sm\" variant=\"ghost\" className=\"h-8 px-3\">Share</Button>\n                </div>\n                  {/* Center: Version selector */}\n                  <div className=\"flex-1 flex justify-center\">\n                  <VersionHistoryButton />\n                </div>\n                  {/* Right: Editing mode, avatar */}\n                <div className=\"flex items-center gap-2\">\n                    <ModeDropdownMenu />\n                    <Button size=\"sm\" variant=\"ghost\" className=\"h-8 w-8 rounded-full bg-gray-100 text-gray-700\">\n                    <User className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n                </Toolbar>\n                {/* Editor area: full width, Figma padding */}\n                <div className=\"flex-1 flex flex-col relative min-w-0 px-24 py-12\">\n                  <EditorContainer id=\"scroll_container\" variant=\"demo\" className=\"max-w-5xl mx-auto w-full flex-1 relative bg-white\">\n                    <Editor \n                      variant=\"demo\" \n                      className=\"text-left min-h-[800px] w-full text-base\" \n                      autoFocus\n                    />\n                    <FloatingToolbar>\n                      <FloatingToolbarButtons />\n                    </FloatingToolbar>\n                    {/* Magic Wand Button - floating, right */}\n                    <div className=\"fixed right-12 top-1/2 z-50\">\n                    <MagicWandButtonComponent />\n                    </div>\n                  </EditorContainer>\n                </div>\n                <AISidebarComponent />\n              </main>\n            </div>\n          </VersionHistoryProvider>\n        </AISidebarProvider>\n      </Plate>\n    </DndProvider>\n  );\n}","import { useEffect, useState } from 'react';\n\nexport function ClientOnly({ children }: { children: React.ReactNode }) {\n  const [mounted, setMounted] = useState(false);\n  useEffect(() => setMounted(true), []);\n  if (!mounted) return null;\n  return <>{children}</>;\n} ","'use client';\n\nimport * as React from 'react';\nimport { Suspense } from 'react';\nimport { Toaster } from 'sonner';\nimport { ClientOnly } from '../ClientOnly';\n\nimport { PlateEditor } from './plate-editor';\nimport { SettingsProvider } from './settings';\n\ninterface PlateEditorWrapperProps {\n  initialTemplate?: {\n    content: string | null;\n    name: string | null;\n  } | null;\n}\n\nfunction EditorContent({ initialTemplate }: PlateEditorWrapperProps) {\n  return (\n    <div className=\"h-screen w-full\">\n      <SettingsProvider>\n        <PlateEditor initialTemplate={initialTemplate} />\n      </SettingsProvider>\n      <Toaster />\n    </div>\n  );\n}\n\nexport function PlateEditorWrapper({ initialTemplate }: PlateEditorWrapperProps) {\n  return (\n    <ClientOnly>\n      <Suspense fallback={<div className=\"h-screen w-full flex items-center justify-center\">Loading editor...</div>}>\n        <EditorContent initialTemplate={initialTemplate} />\n      </Suspense>\n    </ClientOnly>\n  );\n} "]}